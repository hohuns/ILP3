{"ast":null,"code":"/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _assignDefined = _interopRequireDefault(require(\"../../../packages/assign-defined\"));\n\nvar _src = _interopRequireWildcard(require(\"../../../packages/react-virtual-list-pro/src\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../packages/shallowequal\"));\n\nvar _renderRows = _interopRequireDefault(require(\"./renderRows\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../packages/shouldComponentUpdate\"));\n\nvar _searchClosestSmallerValue = _interopRequireDefault(require(\"../../../utils/searchClosestSmallerValue\"));\n\nvar _renderEmptyContent = _interopRequireDefault(require(\"../../../renderEmptyContent\"));\n\nvar _detectUa = require(\"../../../detect-ua\");\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar EMPTY_OBJECT = {};\n\nvar returnTrue = function returnTrue() {\n  return true;\n};\n\nvar CHUNKS_SIZE = 1;\nvar raf = globalObject.requestAnimationFrame;\nvar DEFAULT_SCROLL_POS = {\n  scrollLeft: 0,\n  scrollTop: 0\n};\nvar initialSkip = 0;\nvar timeout = false;\nvar VirtualListClassName = 'InovuaReactDataGrid__virtual-list';\n\nvar InovuaDataGridList = function (_Component) {\n  (0, _inherits2.default)(InovuaDataGridList, _Component);\n\n  var _super = _createSuper(InovuaDataGridList);\n\n  function InovuaDataGridList(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridList);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollingDirection\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"lastScrollTimestamp\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isRowFullyVisible\", function (index) {\n      return _this.virtualList.isRowVisible(index);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"computeRows\", function (props) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EMPTY_OBJECT,\n          from = _ref.from,\n          to = _ref.to,\n          rowHeight = _ref.rowHeight,\n          renderIndex = _ref.renderIndex,\n          empty = _ref.empty,\n          setRowSpan = _ref.setRowSpan,\n          sticky = _ref.sticky;\n\n      var columnRenderCount = props.columnRenderCount;\n      return (0, _renderRows.default)({\n        empty: empty,\n        renderIndex: renderIndex,\n        setRowSpan: setRowSpan,\n        sticky: sticky,\n        from: from || _this.startIndex || 0,\n        to: to || _this.endIndex || CHUNKS_SIZE,\n        rowHeight: rowHeight,\n        columnRenderStartIndex: _this.columnRenderStartIndex,\n        columnRenderCount: columnRenderCount,\n        onEditStop: _this.onEditStop,\n        onEditStart: _this.onEditStart,\n        onEditValueChange: _this.onEditValueChange,\n        getScrollLeftMax: _this.props.getScrollLeftMax,\n        tryNextRowEdit: _this.tryRowEdit,\n        editValue: _this.editValue,\n        editRowIndex: _this.editRowIndex,\n        editColumnIndex: _this.editColumnIndex,\n        editColumnId: _this.editColumnId\n      }, props);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"tryRowEdit\", function (nextEditRowIndex, dir, columnIndex, isEnterNavigation) {\n      var columnEditIndex = columnIndex;\n\n      var row = _this.getRowAt(nextEditRowIndex);\n\n      if (!row) {\n        return;\n      }\n\n      var setActiveIndex = function setActiveIndex() {\n        return _this.props.setActiveIndex(nextEditRowIndex);\n      };\n\n      if (_this.props.livePagination) {\n        var skip = _this.props.computedSkip;\n\n        if (skip !== initialSkip) {\n          initialSkip = skip;\n          timeout = true;\n        }\n\n        timeout ? setTimeout(function () {\n          return setActiveIndex();\n        }, 50) : setActiveIndex();\n      } else {\n        setActiveIndex();\n      }\n\n      row.tryRowCellEdit(columnEditIndex, dir, isEnterNavigation);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isEditing\", function () {\n      return !!_this.editColumnId;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onEditStop\", function (args) {\n      if (_this.editColumnIndex !== args.columnIndex || _this.editRowIndex !== args.rowIndex) {\n        return;\n      }\n\n      if (_this.props.onEditStop) {\n        _this.props.onEditStop(args);\n      }\n\n      _this.updateEditing({\n        value: undefined,\n        rowIndex: undefined,\n        columnIndex: undefined\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onEditValueChange\", function (args) {\n      if (_this.props.onEditValueChange) {\n        _this.props.onEditValueChange(args);\n      }\n\n      _this.updateEditing(args);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onEditStart\", function (args) {\n      if (_this.props.onEditStart) {\n        _this.props.onEditStart(args);\n      }\n\n      _this.updateEditing(args);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateEditing\", function (_ref2) {\n      var value = _ref2.value,\n          rowIndex = _ref2.rowIndex,\n          columnId = _ref2.columnId,\n          columnIndex = _ref2.columnIndex;\n      var oldEditRowIndex = _this.editRowIndex;\n      var oldEditValue = _this.editValue;\n      var oldEditColumnIndex = _this.editColumnIndex;\n      _this.editValue = value;\n      _this.editRowIndex = rowIndex;\n      _this.editColumnIndex = columnIndex;\n      _this.editColumnId = columnId;\n\n      if (_this.editTimeoutId) {\n        clearTimeout(_this.editTimeoutId);\n      }\n\n      _this.lazyEditColumnId = _this.editColumnId || _this.lazyEditColumnId;\n      _this.editTimeoutId = setTimeout(function () {\n        delete _this.editTimeoutId;\n        _this.lazyEditColumnId = _this.editColumnId;\n      }, 50);\n\n      if (oldEditRowIndex === rowIndex && oldEditColumnIndex === columnIndex && oldEditValue !== value) {\n        _this.virtualList.getRows().forEach(function (r) {\n          var row = r.getInstance();\n\n          if (row && row.props.rowIndex === rowIndex) {\n            r.update();\n          }\n        });\n\n        return;\n      }\n\n      _this.forceUpdate();\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollHorizontal\", function (scrollLeft, _, __, scrollLeftMax) {\n      _this.onContainerScrollHorizontal(scrollLeft, undefined, scrollLeftMax);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderRowContainer\", function (props) {\n      return _react.default.createElement(\"div\", _objectSpread({}, props), props.children, _this.props.renderActiveRowIndicator && _this.props.renderActiveRowIndicator(_this.setupActiveRowIndicatorHandle));\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setupActiveRowIndicatorHandle\", function (activeRowHandle) {\n      _this.activeRowIndicatorHandle = activeRowHandle;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onStickyRowUpdate\", function () {\n      _this.updateOnScrollLeft(undefined, true);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderEmptyContent\", function () {\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var _this$props = _this.props,\n          i18n = _this$props.i18n,\n          data = _this$props.data,\n          loading = _this$props.computedLoading,\n          nativeScroll = _this$props.nativeScroll;\n      var emptyText = _this.props.emptyText;\n      var length = data.length;\n      emptyText = i18n(emptyText, emptyText);\n\n      if (!length && !loading) {\n        return (0, _renderEmptyContent.default)(emptyText, 'empty', {\n          right: nativeScroll ? 0 : -SCROLLBAR_WIDTH,\n          bottom: nativeScroll ? 0 : -SCROLLBAR_WIDTH\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderView\", function (viewProps) {\n      var _this$props2 = _this.props,\n          data = _this$props2.data,\n          loading = _this$props2.loading;\n\n      var scrollbarOffset = _this.getEmptyScrollOffset();\n\n      var length = data.length;\n\n      if (!length && !loading) {\n        viewProps.children = _react.default.Children.toArray(viewProps.children);\n        viewProps.children.push(_this.renderEmptyContent());\n\n        if (_detectUa.IS_EDGE) {\n          viewProps.style.minHeight = '99%';\n        }\n      }\n\n      var hasScrollbars = _this.scrollbars && _this.scrollbars.vertical && _this.scrollbars.horizontal;\n\n      if (!!_this.props.renderRowDetails || !!_this.props.renderDetailsGrid) {\n        if (_this.props.rtl && !(0, _src.getScrollbarWidth)() && !_this.props.nativeScroll) {\n          viewProps.style.transform = \"translateX(\".concat(-(hasScrollbars ? 2 : 1) * scrollbarOffset, \"px)\");\n        }\n      } else {\n        if (_this.props.rtl && !(0, _src.getScrollbarWidth)() && !_this.props.nativeScroll) {\n          viewProps.style.transform = \"translateX(\".concat(-scrollbarOffset, \"px)\");\n        }\n      }\n\n      var result;\n\n      if (_this.props.renderView) {\n        result = _this.props.renderView(viewProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, viewProps));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderSizer\", function (props, scrollHeight) {\n      if (!_this.props.nativeScroll) {\n        return;\n      }\n\n      if (!_this.props.virtualized) {\n        return null;\n      }\n\n      var minWidth = Math.max(_this.props.availableWidth || 0, _this.props.minRowWidth || 0) || 0;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n\n      var sizerStyle = _objectSpread(_objectSpread({}, props.style), {}, {\n        minWidth: minWidth,\n        minHeight: props.style ? (props.style.minHeight || 0) - (!SCROLLBAR_WIDTH ? _this.getEmptyScrollOffset() : 0) : 0\n      });\n\n      if (_this.props.naturalRowHeight) {\n        sizerStyle.height = scrollHeight;\n      }\n\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({\n        key: \"grid-sizer\",\n        \"data-name\": \"sizer\"\n      }, props), {}, {\n        style: sizerStyle\n      }));\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollerSpacer\", function (spacerProps) {\n      if (!_this.props.totalFlexColumnCount) {\n        spacerProps.style.width = _this.props.minRowWidth || 0;\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScroller\", function (scrollerProps) {\n      var _style;\n\n      var _this$props3 = _this.props,\n          data = _this$props3.data,\n          loading = _this$props3.loading,\n          virtualized = _this$props3.virtualized,\n          maxVisibleRows = _this$props3.maxVisibleRows,\n          nativeScroll = _this$props3.nativeScroll,\n          availableWidth = _this$props3.availableWidth,\n          minRowWidth = _this$props3.minRowWidth;\n      var length = data.length;\n      scrollerProps.children.push(_react.default.createElement(\"div\", {\n        key: \"empty-spacer\",\n        \"data-name\": \"empty-spacer\",\n        style: (_style = {\n          position: _detectUa.IS_IE && nativeScroll ? 'static' : 'absolute',\n          contain: 'strict'\n        }, (0, _defineProperty2.default)(_style, _this.props.rtl ? 'right' : 'left', 0), (0, _defineProperty2.default)(_style, \"height\", 1), (0, _defineProperty2.default)(_style, \"top\", 0), (0, _defineProperty2.default)(_style, \"pointerEvents\", 'none'), (0, _defineProperty2.default)(_style, \"minWidth\", Math.max(availableWidth, minRowWidth) || 0), _style)\n      }, _detectUa.IS_IE && nativeScroll ? _this.renderEmptyContent() : null));\n\n      if (!virtualized && length < maxVisibleRows) {\n        scrollerProps.style = scrollerProps.style || {};\n        scrollerProps.style.overflow = 'hidden';\n      }\n\n      var hasHorizontalScrollbar = _this.scrollbars && _this.scrollbars.horizontal;\n\n      if (!_this.props.renderRowDetails || !_this.props.renderDetailsGrid) {\n        if (!(0, _src.getScrollbarWidth)() && !nativeScroll && hasHorizontalScrollbar) {\n          scrollerProps.style.right = 0;\n        }\n      }\n\n      var result;\n\n      if (_this.props.renderScroller) {\n        result = _this.props.renderScroller(scrollerProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, scrollerProps));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRowAt\", function (index) {\n      return _this.getRows().filter(function (r) {\n        return r.props.rowIndex === index;\n      })[0];\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"startEdit\", function (_ref3) {\n      var rowIndex = _ref3.rowIndex,\n          columnIndex = _ref3.columnIndex,\n          value = _ref3.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          return cell.startEdit(value);\n        }\n      }\n\n      return Promise.reject(null);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"completeEdit\", function (_ref4) {\n      var rowIndex = _ref4.rowIndex,\n          columnIndex = _ref4.columnIndex,\n          value = _ref4.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.completeEdit(value);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cancelEdit\", function (_ref5) {\n      var rowIndex = _ref5.rowIndex,\n          columnIndex = _ref5.columnIndex;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.cancelEdit();\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onContainerScroll\", function (scrollPos) {\n      var prevScrollPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_SCROLL_POS;\n\n      if (_this.props.onContainerScroll) {\n        _this.props.onContainerScroll(scrollPos, prevScrollPos);\n      }\n\n      var oldScrollingDirection = _this.scrollingDirection;\n\n      if (scrollPos.scrollTop === prevScrollPos.scrollTop && scrollPos.scrollLeft === prevScrollPos.scrollLeft) {\n        return;\n      }\n\n      _this.scrollingDirection = scrollPos.scrollLeft === prevScrollPos.scrollLeft ? 'vertical' : 'horizontal';\n\n      if (_this.scrollingDirection === oldScrollingDirection) {\n        return;\n      }\n\n      if (_this.props.virtualized) {\n        var _this$getDOMNode, _this$getDOMNode$clas;\n\n        (_this$getDOMNode = _this.getDOMNode()) === null || _this$getDOMNode === void 0 ? void 0 : (_this$getDOMNode$clas = _this$getDOMNode.classList) === null || _this$getDOMNode$clas === void 0 ? void 0 : _this$getDOMNode$clas.add(\"\".concat(VirtualListClassName, \"--scrolling\"));\n        requestAnimationFrame(function () {\n          _this.getRows().forEach(function (r) {\n            return r ? r.setScrolling(_this.scrollingDirection) : null;\n          });\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollStop\", function () {\n      _this.scrollingDirection = 'none';\n\n      if (_this.props.virtualized) {\n        var _this$getDOMNode2, _this$getDOMNode2$cla;\n\n        (_this$getDOMNode2 = _this.getDOMNode()) === null || _this$getDOMNode2 === void 0 ? void 0 : (_this$getDOMNode2$cla = _this$getDOMNode2.classList) === null || _this$getDOMNode2$cla === void 0 ? void 0 : _this$getDOMNode2$cla.remove(\"\".concat(VirtualListClassName, \"--scrolling\"));\n\n        _this.getRows().forEach(function (r) {\n          if (!r) {\n            return;\n          }\n\n          r.setScrolling(false);\n        });\n      }\n\n      if (_this.props.onScrollStop) {\n        _this.props.onScrollStop();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setColumnRenderStartIndex\", function (columnRenderStartIndex, force) {\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.resizing && !force) {\n        return;\n      }\n\n      if (columnRenderStartIndex === _this.columnRenderStartIndex && !force) {\n        return;\n      }\n\n      if (!_this.virtualList) {\n        return;\n      }\n\n      if (_this.props.onColumnRenderStartIndexChange) {\n        _this.props.onColumnRenderStartIndexChange(columnRenderStartIndex);\n      }\n\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var rows = _this.virtualList.getRows();\n\n      rows.forEach(function (row) {\n        var rowInstance = row.getInstance();\n\n        if (rowInstance) {\n          requestAnimationFrame(function () {\n            rowInstance.setColumnRenderStartIndex(columnRenderStartIndex);\n          });\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRows\", function () {\n      if (!_this.virtualList) {\n        return [];\n      }\n\n      return _this.virtualList.getRows().map(function (row) {\n        return row.getInstance();\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollbarsChange\", function (scrollbars) {\n      _this.scrollbars = scrollbars;\n\n      if (!scrollbars.horizontal) {\n        raf(function () {\n          _this.onContainerScrollHorizontal(0);\n        });\n      }\n\n      if (_this.props.onScrollbarsChange) {\n        _this.props.onScrollbarsChange(scrollbars);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onScrollbarsChange) {\n        _this.props.scrollProps.onScrollbarsChange(scrollbars);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResize\", function () {\n      if (_this.props.onResize) {\n        var _this$props4;\n\n        (_this$props4 = _this.props).onResize.apply(_this$props4, arguments);\n      }\n\n      _this.visibleCount = _this.getVisibleCount();\n      _this.resizing = true;\n      raf(function () {\n        _this.resizing = false;\n        var force;\n\n        _this.updateOnScrollLeft(undefined, force = true);\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onContainerScrollHorizontal\", function (scrollLeft, force, scrollLeftMax) {\n      if (scrollLeft < 0) {\n        scrollLeft = 0;\n      }\n\n      scrollLeft = Math.round(scrollLeft);\n      _this._scrollLeft = scrollLeft;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.props.onContainerScrollHorizontal) {\n        _this.props.onContainerScrollHorizontal(scrollLeft, scrollLeftMax);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onContainerScrollHorizontal) {\n        _this.props.scrollProps.onContainerScrollHorizontal(scrollLeft);\n      }\n\n      scrollLeft = _this._scrollLeft;\n\n      _this.updateOnScrollLeft(scrollLeft);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateOnScrollLeft\", function () {\n      var scrollLeft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this._scrollLeft;\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      var columnRenderStartIndex;\n\n      if (props.virtualizeColumns) {\n        var lockedStartColumns = props.lockedStartColumns,\n            columnWidthPrefixSums = props.columnWidthPrefixSums;\n\n        if (!columnRenderStartIndex) {\n          var lockedOffset = lockedStartColumns.length && columnWidthPrefixSums[lockedStartColumns.length] ? columnWidthPrefixSums[lockedStartColumns.length] : 0;\n          columnRenderStartIndex = (0, _searchClosestSmallerValue.default)(props.columnWidthPrefixSums, scrollLeft + lockedOffset);\n        }\n\n        _this.setColumnRenderStartIndex(columnRenderStartIndex, force);\n      }\n\n      if (_this.activeRowIndicatorHandle) {\n        _this.activeRowIndicatorHandle.setScrollLeft(scrollLeft);\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDOMNode\", function () {\n      return _this.node || (_this.node = _this.virtualList.getDOMNode());\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderRow\", function (args) {\n      var rowHeight = args.rowHeight,\n          index = args.index,\n          renderIndex = args.renderIndex,\n          empty = args.empty,\n          sticky = args.sticky;\n\n      var setRowSpan = function setRowSpan(rowSpan) {\n        args.rowSpan = rowSpan;\n      };\n\n      var result = _this.computeRows(_this.props, {\n        empty: empty,\n        from: index,\n        sticky: sticky,\n        to: index + 1,\n        renderIndex: renderIndex,\n        rowHeight: rowHeight,\n        setRowSpan: setRowSpan\n      })[0];\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getVisibleCount\", function () {\n      return _this.virtualList ? _this.virtualList.getVisibleCount() : -1;\n    });\n\n    _this.refVirtualList = function (vl) {\n      _this.virtualList = vl;\n    };\n\n    _this._scrollLeft = 0;\n    _this._scrollTop = 0;\n    _this.startIndex = 0;\n    _this.endIndex = CHUNKS_SIZE;\n    _this.state = {\n      columnRenderCount: 0\n    };\n    _this.rows = [];\n    _this.scrollbars = {};\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.shouldComponentUpdate) {\n        return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n      }\n\n      var equalProps = (0, _shallowequal.default)(this.props, nextProps);\n\n      if (!equalProps) {\n        return true;\n      }\n\n      return !(0, _shallowequal.default)(nextState, this.state);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.__willUnmount = true;\n    }\n  }, {\n    key: \"isLazyEditing\",\n    value: function isLazyEditing() {\n      return !!this.lazyEditColumnId;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var thisProps = this.props;\n      var maybeProps = (0, _assignDefined.default)({}, {\n        minRowHeight: thisProps.minRowHeight,\n        rowHeight: thisProps.rowHeight\n      });\n      var pureRows = !!this.fromState;\n      var shouldUpdate = returnTrue;\n      var scrollProps = thisProps.scrollProps;\n\n      if (scrollProps && scrollProps.onContainerScrollHorizontal) {\n        scrollProps = _objectSpread({}, scrollProps);\n        scrollProps.onContainerScrollHorizontal = this.onScrollHorizontal;\n      }\n\n      var minRowWidth = Math.max(this.props.availableWidth, this.props.minRowWidth) || 0;\n      var naturalRowHeight = thisProps.naturalRowHeight;\n      var renderRow = this.renderRow;\n\n      if (naturalRowHeight) {\n        if (this.__data !== thisProps.data || !this.__minRowWidth) {\n          renderRow = renderRow.bind(this);\n        }\n\n        this.__minRowWidth = minRowWidth;\n        this.__data = thisProps.data;\n      }\n\n      return _react.default.createElement(_src.default, _objectSpread(_objectSpread({\n        rowHeight: null,\n        extraRows: naturalRowHeight ? 1 : 0,\n        style: thisProps.style,\n        theme: this.props.theme,\n        checkResizeDelay: thisProps.checkResizeDelay,\n        rowContain: thisProps.rowContain,\n        contain: thisProps.contain,\n        rtl: thisProps.rtl,\n        stickyOffset: thisProps.rtlOffset,\n        stickyRows: thisProps.computedStickyRows,\n        onStickyRowUpdate: this.onStickyRowUpdate,\n        enableRowSpan: thisProps.computedEnableRowspan,\n        recycleCoveredRows: false,\n        className: VirtualListClassName,\n        renderRowContainer: this.renderRowContainer\n      }, maybeProps), {}, {\n        overscrollBehavior: \"auto\",\n        rowHeightManager: thisProps.rowHeightManager,\n        before: thisProps.before,\n        after: thisProps.after,\n        showEmptyRows: thisProps.computedShowEmptyRows,\n        scrollProps: scrollProps,\n        emptyScrollOffset: this.getEmptyScrollOffset(),\n        nativeScroll: thisProps.nativeScroll,\n        onResize: this.onResize,\n        virtualized: thisProps.virtualized,\n        minRowWidth: minRowWidth,\n        naturalRowHeight: naturalRowHeight,\n        renderScroller: this.renderScroller,\n        renderScrollerSpacer: this.renderScrollerSpacer,\n        renderSizer: this.renderSizer,\n        renderView: this.renderView,\n        useTransformRowPosition: this.props.useTransformRowPosition,\n        useTransformPosition: this.props.useTransformPosition,\n        shouldComponentUpdate: shouldUpdate,\n        ref: this.refVirtualList,\n        count: thisProps.data.length || 0,\n        pureRows: pureRows,\n        renderRow: renderRow,\n        onContainerScrollHorizontal: this.onScrollHorizontal,\n        onContainerScroll: this.onContainerScroll,\n        onScrollbarsChange: this.onScrollbarsChange,\n        onContainerScrollVertical: this.props.onContainerScrollVertical,\n        onScrollStop: this.onScrollStop,\n        shouldFocusNextRow: this.shouldFocusNextRow\n      }));\n    }\n  }, {\n    key: \"shouldFocusNextRow\",\n    value: function shouldFocusNextRow(_ref6) {\n      var index = _ref6.index,\n          nextIndex = _ref6.nextIndex,\n          dir = _ref6.dir;\n      var shouldFocus = !this.isLazyEditing();\n      return shouldFocus;\n    }\n  }, {\n    key: \"getEmptyScrollOffset\",\n    value: function getEmptyScrollOffset() {\n      return this.props.emptyScrollOffset || (0, _src.getScrollbarWidth)() || 17;\n    }\n  }, {\n    key: \"tryStartEdit\",\n    value: function tryStartEdit(_ref7) {\n      var rowIndex = _ref7.rowIndex,\n          columnIndex = _ref7.columnIndex,\n          dir = _ref7.dir;\n      var row = this.getRowAt(rowIndex);\n\n      if (row) {\n        return row.tryRowCellEdit(columnIndex, dir);\n      }\n\n      return Promise.reject(null);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps.columnRenderCount != this.props.columnRenderCount) {\n        raf(function () {\n          _this2.updateOnScrollLeft(undefined, true, _this2.props);\n        });\n      }\n\n      var _this$props5 = this.props,\n          lockedStartColumns = _this$props5.lockedStartColumns,\n          lockedEndColumns = _this$props5.lockedEndColumns;\n      var hasLocked = lockedStartColumns && lockedStartColumns.length || lockedEndColumns && lockedEndColumns.length;\n\n      if (hasLocked) {\n        this.onContainerScrollHorizontal(this._scrollLeft);\n      }\n    }\n  }, {\n    key: \"getScrollLeftMax\",\n    value: function getScrollLeftMax() {\n      return this.virtualList ? this.virtualList.scrollLeftMax : 0;\n    }\n  }]);\n  return InovuaDataGridList;\n}(_react.Component);\n\nexports.default = InovuaDataGridList;\nvar propTypes = Object.assign({}, _src.propTypes, {\n  count: _propTypes.default.number,\n  columns: _propTypes.default.arrayOf(_propTypes.default.shape({\n    name: _propTypes.default.string,\n    computedWidth: _propTypes.default.number,\n    id: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    render: _propTypes.default.func\n  })),\n  data: _propTypes.default.array,\n  from: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.any,\n  idProperty: _propTypes.default.string,\n  maxWidth: _propTypes.default.number,\n  minRowHeight: _propTypes.default.number,\n  minWidth: _propTypes.default.number,\n  onColumnRenderStartIndexChange: _propTypes.default.func,\n  rowHeight: _propTypes.default.number,\n  renderScroller: _propTypes.default.func,\n  renderScrollerSpacer: _propTypes.default.func,\n  renderActiveRowIndicator: _propTypes.default.func,\n  showWarnings: _propTypes.default.bool,\n  to: _propTypes.default.number,\n  virtualizeColumns: _propTypes.default.bool\n});\ndelete propTypes.renderRow;\nInovuaDataGridList.propTypes = propTypes;\nInovuaDataGridList.defaultProps = {\n  showWarnings: false\n};","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/ILP-main/node_modules/@inovua/reactdatagrid-community/Layout/ColumnLayout/Content/List.js"],"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","default","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_interopRequireWildcard","_propTypes","_assignDefined","_src","_shallowequal","_renderRows","_shouldComponentUpdate2","_searchClosestSmallerValue","_renderEmptyContent","_detectUa","_getGlobal","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","valueOf","e","globalObject","getGlobal","EMPTY_OBJECT","returnTrue","CHUNKS_SIZE","raf","requestAnimationFrame","DEFAULT_SCROLL_POS","scrollLeft","scrollTop","initialSkip","timeout","VirtualListClassName","InovuaDataGridList","_Component","_super","_props","_this","index","virtualList","isRowVisible","props","_ref","undefined","from","to","rowHeight","renderIndex","empty","setRowSpan","sticky","columnRenderCount","startIndex","endIndex","columnRenderStartIndex","onEditStop","onEditStart","onEditValueChange","getScrollLeftMax","tryNextRowEdit","tryRowEdit","editValue","editRowIndex","editColumnIndex","editColumnId","nextEditRowIndex","dir","columnIndex","isEnterNavigation","columnEditIndex","row","getRowAt","setActiveIndex","livePagination","skip","computedSkip","setTimeout","tryRowCellEdit","args","rowIndex","updateEditing","_ref2","columnId","oldEditRowIndex","oldEditValue","oldEditColumnIndex","editTimeoutId","clearTimeout","lazyEditColumnId","getRows","r","getInstance","update","forceUpdate","_","__","scrollLeftMax","onContainerScrollHorizontal","createElement","children","renderActiveRowIndicator","setupActiveRowIndicatorHandle","activeRowHandle","activeRowIndicatorHandle","updateOnScrollLeft","SCROLLBAR_WIDTH","getScrollbarWidth","_this$props","i18n","data","loading","computedLoading","nativeScroll","emptyText","right","bottom","viewProps","_this$props2","scrollbarOffset","getEmptyScrollOffset","Children","toArray","renderEmptyContent","IS_EDGE","style","minHeight","hasScrollbars","scrollbars","vertical","horizontal","renderRowDetails","renderDetailsGrid","rtl","transform","concat","renderView","scrollHeight","virtualized","minWidth","Math","max","availableWidth","minRowWidth","sizerStyle","naturalRowHeight","height","spacerProps","totalFlexColumnCount","width","scrollerProps","_style","_this$props3","maxVisibleRows","position","IS_IE","contain","overflow","hasHorizontalScrollbar","renderScroller","_ref3","cell","getCellAt","startEdit","Promise","reject","_ref4","completeEdit","_ref5","cancelEdit","scrollPos","prevScrollPos","onContainerScroll","oldScrollingDirection","scrollingDirection","_this$getDOMNode","_this$getDOMNode$clas","getDOMNode","classList","add","setScrolling","_this$getDOMNode2","_this$getDOMNode2$cla","remove","onScrollStop","force","__willUnmount","resizing","onColumnRenderStartIndexChange","rows","rowInstance","setColumnRenderStartIndex","map","onScrollbarsChange","scrollProps","onResize","_this$props4","visibleCount","getVisibleCount","round","_scrollLeft","virtualizeColumns","lockedStartColumns","columnWidthPrefixSums","lockedOffset","setScrollLeft","updateLockedWrapperPositions","node","rowSpan","computeRows","refVirtualList","vl","_scrollTop","state","shouldComponentUpdate","nextProps","nextState","equalProps","componentWillUnmount","isLazyEditing","render","thisProps","maybeProps","minRowHeight","pureRows","fromState","shouldUpdate","onScrollHorizontal","renderRow","__data","__minRowWidth","bind","extraRows","theme","checkResizeDelay","rowContain","stickyOffset","rtlOffset","stickyRows","computedStickyRows","onStickyRowUpdate","enableRowSpan","computedEnableRowspan","recycleCoveredRows","className","renderRowContainer","overscrollBehavior","rowHeightManager","before","after","showEmptyRows","computedShowEmptyRows","emptyScrollOffset","renderScrollerSpacer","renderSizer","useTransformRowPosition","useTransformPosition","ref","count","onContainerScrollVertical","shouldFocusNextRow","_ref6","nextIndex","shouldFocus","tryStartEdit","_ref7","componentDidUpdate","prevProps","_this2","_this$props5","lockedEndColumns","hasLocked","Component","propTypes","assign","number","columns","arrayOf","shape","name","string","computedWidth","id","oneOfType","func","array","any","idProperty","maxWidth","showWarnings","bool","defaultProps"],"mappings":"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","sourcesContent":["/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _assignDefined = _interopRequireDefault(require(\"../../../packages/assign-defined\"));\n\nvar _src = _interopRequireWildcard(require(\"../../../packages/react-virtual-list-pro/src\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../packages/shallowequal\"));\n\nvar _renderRows = _interopRequireDefault(require(\"./renderRows\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../packages/shouldComponentUpdate\"));\n\nvar _searchClosestSmallerValue = _interopRequireDefault(require(\"../../../utils/searchClosestSmallerValue\"));\n\nvar _renderEmptyContent = _interopRequireDefault(require(\"../../../renderEmptyContent\"));\n\nvar _detectUa = require(\"../../../detect-ua\");\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar EMPTY_OBJECT = {};\n\nvar returnTrue = function returnTrue() {\n  return true;\n};\n\nvar CHUNKS_SIZE = 1;\nvar raf = globalObject.requestAnimationFrame;\nvar DEFAULT_SCROLL_POS = {\n  scrollLeft: 0,\n  scrollTop: 0\n};\nvar initialSkip = 0;\nvar timeout = false;\nvar VirtualListClassName = 'InovuaReactDataGrid__virtual-list';\n\nvar InovuaDataGridList = function (_Component) {\n  (0, _inherits2.default)(InovuaDataGridList, _Component);\n\n  var _super = _createSuper(InovuaDataGridList);\n\n  function InovuaDataGridList(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridList);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollingDirection\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"lastScrollTimestamp\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isRowFullyVisible\", function (index) {\n      return _this.virtualList.isRowVisible(index);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"computeRows\", function (props) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EMPTY_OBJECT,\n          from = _ref.from,\n          to = _ref.to,\n          rowHeight = _ref.rowHeight,\n          renderIndex = _ref.renderIndex,\n          empty = _ref.empty,\n          setRowSpan = _ref.setRowSpan,\n          sticky = _ref.sticky;\n\n      var columnRenderCount = props.columnRenderCount;\n      return (0, _renderRows.default)({\n        empty: empty,\n        renderIndex: renderIndex,\n        setRowSpan: setRowSpan,\n        sticky: sticky,\n        from: from || _this.startIndex || 0,\n        to: to || _this.endIndex || CHUNKS_SIZE,\n        rowHeight: rowHeight,\n        columnRenderStartIndex: _this.columnRenderStartIndex,\n        columnRenderCount: columnRenderCount,\n        onEditStop: _this.onEditStop,\n        onEditStart: _this.onEditStart,\n        onEditValueChange: _this.onEditValueChange,\n        getScrollLeftMax: _this.props.getScrollLeftMax,\n        tryNextRowEdit: _this.tryRowEdit,\n        editValue: _this.editValue,\n        editRowIndex: _this.editRowIndex,\n        editColumnIndex: _this.editColumnIndex,\n        editColumnId: _this.editColumnId\n      }, props);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"tryRowEdit\", function (nextEditRowIndex, dir, columnIndex, isEnterNavigation) {\n      var columnEditIndex = columnIndex;\n\n      var row = _this.getRowAt(nextEditRowIndex);\n\n      if (!row) {\n        return;\n      }\n\n      var setActiveIndex = function setActiveIndex() {\n        return _this.props.setActiveIndex(nextEditRowIndex);\n      };\n\n      if (_this.props.livePagination) {\n        var skip = _this.props.computedSkip;\n\n        if (skip !== initialSkip) {\n          initialSkip = skip;\n          timeout = true;\n        }\n\n        timeout ? setTimeout(function () {\n          return setActiveIndex();\n        }, 50) : setActiveIndex();\n      } else {\n        setActiveIndex();\n      }\n\n      row.tryRowCellEdit(columnEditIndex, dir, isEnterNavigation);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isEditing\", function () {\n      return !!_this.editColumnId;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onEditStop\", function (args) {\n      if (_this.editColumnIndex !== args.columnIndex || _this.editRowIndex !== args.rowIndex) {\n        return;\n      }\n\n      if (_this.props.onEditStop) {\n        _this.props.onEditStop(args);\n      }\n\n      _this.updateEditing({\n        value: undefined,\n        rowIndex: undefined,\n        columnIndex: undefined\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onEditValueChange\", function (args) {\n      if (_this.props.onEditValueChange) {\n        _this.props.onEditValueChange(args);\n      }\n\n      _this.updateEditing(args);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onEditStart\", function (args) {\n      if (_this.props.onEditStart) {\n        _this.props.onEditStart(args);\n      }\n\n      _this.updateEditing(args);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateEditing\", function (_ref2) {\n      var value = _ref2.value,\n          rowIndex = _ref2.rowIndex,\n          columnId = _ref2.columnId,\n          columnIndex = _ref2.columnIndex;\n      var oldEditRowIndex = _this.editRowIndex;\n      var oldEditValue = _this.editValue;\n      var oldEditColumnIndex = _this.editColumnIndex;\n      _this.editValue = value;\n      _this.editRowIndex = rowIndex;\n      _this.editColumnIndex = columnIndex;\n      _this.editColumnId = columnId;\n\n      if (_this.editTimeoutId) {\n        clearTimeout(_this.editTimeoutId);\n      }\n\n      _this.lazyEditColumnId = _this.editColumnId || _this.lazyEditColumnId;\n      _this.editTimeoutId = setTimeout(function () {\n        delete _this.editTimeoutId;\n        _this.lazyEditColumnId = _this.editColumnId;\n      }, 50);\n\n      if (oldEditRowIndex === rowIndex && oldEditColumnIndex === columnIndex && oldEditValue !== value) {\n        _this.virtualList.getRows().forEach(function (r) {\n          var row = r.getInstance();\n\n          if (row && row.props.rowIndex === rowIndex) {\n            r.update();\n          }\n        });\n\n        return;\n      }\n\n      _this.forceUpdate();\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollHorizontal\", function (scrollLeft, _, __, scrollLeftMax) {\n      _this.onContainerScrollHorizontal(scrollLeft, undefined, scrollLeftMax);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderRowContainer\", function (props) {\n      return _react.default.createElement(\"div\", _objectSpread({}, props), props.children, _this.props.renderActiveRowIndicator && _this.props.renderActiveRowIndicator(_this.setupActiveRowIndicatorHandle));\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setupActiveRowIndicatorHandle\", function (activeRowHandle) {\n      _this.activeRowIndicatorHandle = activeRowHandle;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onStickyRowUpdate\", function () {\n      _this.updateOnScrollLeft(undefined, true);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderEmptyContent\", function () {\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var _this$props = _this.props,\n          i18n = _this$props.i18n,\n          data = _this$props.data,\n          loading = _this$props.computedLoading,\n          nativeScroll = _this$props.nativeScroll;\n      var emptyText = _this.props.emptyText;\n      var length = data.length;\n      emptyText = i18n(emptyText, emptyText);\n\n      if (!length && !loading) {\n        return (0, _renderEmptyContent.default)(emptyText, 'empty', {\n          right: nativeScroll ? 0 : -SCROLLBAR_WIDTH,\n          bottom: nativeScroll ? 0 : -SCROLLBAR_WIDTH\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderView\", function (viewProps) {\n      var _this$props2 = _this.props,\n          data = _this$props2.data,\n          loading = _this$props2.loading;\n\n      var scrollbarOffset = _this.getEmptyScrollOffset();\n\n      var length = data.length;\n\n      if (!length && !loading) {\n        viewProps.children = _react.default.Children.toArray(viewProps.children);\n        viewProps.children.push(_this.renderEmptyContent());\n\n        if (_detectUa.IS_EDGE) {\n          viewProps.style.minHeight = '99%';\n        }\n      }\n\n      var hasScrollbars = _this.scrollbars && _this.scrollbars.vertical && _this.scrollbars.horizontal;\n\n      if (!!_this.props.renderRowDetails || !!_this.props.renderDetailsGrid) {\n        if (_this.props.rtl && !(0, _src.getScrollbarWidth)() && !_this.props.nativeScroll) {\n          viewProps.style.transform = \"translateX(\".concat(-(hasScrollbars ? 2 : 1) * scrollbarOffset, \"px)\");\n        }\n      } else {\n        if (_this.props.rtl && !(0, _src.getScrollbarWidth)() && !_this.props.nativeScroll) {\n          viewProps.style.transform = \"translateX(\".concat(-scrollbarOffset, \"px)\");\n        }\n      }\n\n      var result;\n\n      if (_this.props.renderView) {\n        result = _this.props.renderView(viewProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, viewProps));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderSizer\", function (props, scrollHeight) {\n      if (!_this.props.nativeScroll) {\n        return;\n      }\n\n      if (!_this.props.virtualized) {\n        return null;\n      }\n\n      var minWidth = Math.max(_this.props.availableWidth || 0, _this.props.minRowWidth || 0) || 0;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n\n      var sizerStyle = _objectSpread(_objectSpread({}, props.style), {}, {\n        minWidth: minWidth,\n        minHeight: props.style ? (props.style.minHeight || 0) - (!SCROLLBAR_WIDTH ? _this.getEmptyScrollOffset() : 0) : 0\n      });\n\n      if (_this.props.naturalRowHeight) {\n        sizerStyle.height = scrollHeight;\n      }\n\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({\n        key: \"grid-sizer\",\n        \"data-name\": \"sizer\"\n      }, props), {}, {\n        style: sizerStyle\n      }));\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollerSpacer\", function (spacerProps) {\n      if (!_this.props.totalFlexColumnCount) {\n        spacerProps.style.width = _this.props.minRowWidth || 0;\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScroller\", function (scrollerProps) {\n      var _style;\n\n      var _this$props3 = _this.props,\n          data = _this$props3.data,\n          loading = _this$props3.loading,\n          virtualized = _this$props3.virtualized,\n          maxVisibleRows = _this$props3.maxVisibleRows,\n          nativeScroll = _this$props3.nativeScroll,\n          availableWidth = _this$props3.availableWidth,\n          minRowWidth = _this$props3.minRowWidth;\n      var length = data.length;\n      scrollerProps.children.push(_react.default.createElement(\"div\", {\n        key: \"empty-spacer\",\n        \"data-name\": \"empty-spacer\",\n        style: (_style = {\n          position: _detectUa.IS_IE && nativeScroll ? 'static' : 'absolute',\n          contain: 'strict'\n        }, (0, _defineProperty2.default)(_style, _this.props.rtl ? 'right' : 'left', 0), (0, _defineProperty2.default)(_style, \"height\", 1), (0, _defineProperty2.default)(_style, \"top\", 0), (0, _defineProperty2.default)(_style, \"pointerEvents\", 'none'), (0, _defineProperty2.default)(_style, \"minWidth\", Math.max(availableWidth, minRowWidth) || 0), _style)\n      }, _detectUa.IS_IE && nativeScroll ? _this.renderEmptyContent() : null));\n\n      if (!virtualized && length < maxVisibleRows) {\n        scrollerProps.style = scrollerProps.style || {};\n        scrollerProps.style.overflow = 'hidden';\n      }\n\n      var hasHorizontalScrollbar = _this.scrollbars && _this.scrollbars.horizontal;\n\n      if (!_this.props.renderRowDetails || !_this.props.renderDetailsGrid) {\n        if (!(0, _src.getScrollbarWidth)() && !nativeScroll && hasHorizontalScrollbar) {\n          scrollerProps.style.right = 0;\n        }\n      }\n\n      var result;\n\n      if (_this.props.renderScroller) {\n        result = _this.props.renderScroller(scrollerProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, scrollerProps));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRowAt\", function (index) {\n      return _this.getRows().filter(function (r) {\n        return r.props.rowIndex === index;\n      })[0];\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"startEdit\", function (_ref3) {\n      var rowIndex = _ref3.rowIndex,\n          columnIndex = _ref3.columnIndex,\n          value = _ref3.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          return cell.startEdit(value);\n        }\n      }\n\n      return Promise.reject(null);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"completeEdit\", function (_ref4) {\n      var rowIndex = _ref4.rowIndex,\n          columnIndex = _ref4.columnIndex,\n          value = _ref4.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.completeEdit(value);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cancelEdit\", function (_ref5) {\n      var rowIndex = _ref5.rowIndex,\n          columnIndex = _ref5.columnIndex;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.cancelEdit();\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onContainerScroll\", function (scrollPos) {\n      var prevScrollPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_SCROLL_POS;\n\n      if (_this.props.onContainerScroll) {\n        _this.props.onContainerScroll(scrollPos, prevScrollPos);\n      }\n\n      var oldScrollingDirection = _this.scrollingDirection;\n\n      if (scrollPos.scrollTop === prevScrollPos.scrollTop && scrollPos.scrollLeft === prevScrollPos.scrollLeft) {\n        return;\n      }\n\n      _this.scrollingDirection = scrollPos.scrollLeft === prevScrollPos.scrollLeft ? 'vertical' : 'horizontal';\n\n      if (_this.scrollingDirection === oldScrollingDirection) {\n        return;\n      }\n\n      if (_this.props.virtualized) {\n        var _this$getDOMNode, _this$getDOMNode$clas;\n\n        (_this$getDOMNode = _this.getDOMNode()) === null || _this$getDOMNode === void 0 ? void 0 : (_this$getDOMNode$clas = _this$getDOMNode.classList) === null || _this$getDOMNode$clas === void 0 ? void 0 : _this$getDOMNode$clas.add(\"\".concat(VirtualListClassName, \"--scrolling\"));\n        requestAnimationFrame(function () {\n          _this.getRows().forEach(function (r) {\n            return r ? r.setScrolling(_this.scrollingDirection) : null;\n          });\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollStop\", function () {\n      _this.scrollingDirection = 'none';\n\n      if (_this.props.virtualized) {\n        var _this$getDOMNode2, _this$getDOMNode2$cla;\n\n        (_this$getDOMNode2 = _this.getDOMNode()) === null || _this$getDOMNode2 === void 0 ? void 0 : (_this$getDOMNode2$cla = _this$getDOMNode2.classList) === null || _this$getDOMNode2$cla === void 0 ? void 0 : _this$getDOMNode2$cla.remove(\"\".concat(VirtualListClassName, \"--scrolling\"));\n\n        _this.getRows().forEach(function (r) {\n          if (!r) {\n            return;\n          }\n\n          r.setScrolling(false);\n        });\n      }\n\n      if (_this.props.onScrollStop) {\n        _this.props.onScrollStop();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setColumnRenderStartIndex\", function (columnRenderStartIndex, force) {\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.resizing && !force) {\n        return;\n      }\n\n      if (columnRenderStartIndex === _this.columnRenderStartIndex && !force) {\n        return;\n      }\n\n      if (!_this.virtualList) {\n        return;\n      }\n\n      if (_this.props.onColumnRenderStartIndexChange) {\n        _this.props.onColumnRenderStartIndexChange(columnRenderStartIndex);\n      }\n\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var rows = _this.virtualList.getRows();\n\n      rows.forEach(function (row) {\n        var rowInstance = row.getInstance();\n\n        if (rowInstance) {\n          requestAnimationFrame(function () {\n            rowInstance.setColumnRenderStartIndex(columnRenderStartIndex);\n          });\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRows\", function () {\n      if (!_this.virtualList) {\n        return [];\n      }\n\n      return _this.virtualList.getRows().map(function (row) {\n        return row.getInstance();\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollbarsChange\", function (scrollbars) {\n      _this.scrollbars = scrollbars;\n\n      if (!scrollbars.horizontal) {\n        raf(function () {\n          _this.onContainerScrollHorizontal(0);\n        });\n      }\n\n      if (_this.props.onScrollbarsChange) {\n        _this.props.onScrollbarsChange(scrollbars);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onScrollbarsChange) {\n        _this.props.scrollProps.onScrollbarsChange(scrollbars);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResize\", function () {\n      if (_this.props.onResize) {\n        var _this$props4;\n\n        (_this$props4 = _this.props).onResize.apply(_this$props4, arguments);\n      }\n\n      _this.visibleCount = _this.getVisibleCount();\n      _this.resizing = true;\n      raf(function () {\n        _this.resizing = false;\n        var force;\n\n        _this.updateOnScrollLeft(undefined, force = true);\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onContainerScrollHorizontal\", function (scrollLeft, force, scrollLeftMax) {\n      if (scrollLeft < 0) {\n        scrollLeft = 0;\n      }\n\n      scrollLeft = Math.round(scrollLeft);\n      _this._scrollLeft = scrollLeft;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.props.onContainerScrollHorizontal) {\n        _this.props.onContainerScrollHorizontal(scrollLeft, scrollLeftMax);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onContainerScrollHorizontal) {\n        _this.props.scrollProps.onContainerScrollHorizontal(scrollLeft);\n      }\n\n      scrollLeft = _this._scrollLeft;\n\n      _this.updateOnScrollLeft(scrollLeft);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateOnScrollLeft\", function () {\n      var scrollLeft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this._scrollLeft;\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      var columnRenderStartIndex;\n\n      if (props.virtualizeColumns) {\n        var lockedStartColumns = props.lockedStartColumns,\n            columnWidthPrefixSums = props.columnWidthPrefixSums;\n\n        if (!columnRenderStartIndex) {\n          var lockedOffset = lockedStartColumns.length && columnWidthPrefixSums[lockedStartColumns.length] ? columnWidthPrefixSums[lockedStartColumns.length] : 0;\n          columnRenderStartIndex = (0, _searchClosestSmallerValue.default)(props.columnWidthPrefixSums, scrollLeft + lockedOffset);\n        }\n\n        _this.setColumnRenderStartIndex(columnRenderStartIndex, force);\n      }\n\n      if (_this.activeRowIndicatorHandle) {\n        _this.activeRowIndicatorHandle.setScrollLeft(scrollLeft);\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDOMNode\", function () {\n      return _this.node || (_this.node = _this.virtualList.getDOMNode());\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderRow\", function (args) {\n      var rowHeight = args.rowHeight,\n          index = args.index,\n          renderIndex = args.renderIndex,\n          empty = args.empty,\n          sticky = args.sticky;\n\n      var setRowSpan = function setRowSpan(rowSpan) {\n        args.rowSpan = rowSpan;\n      };\n\n      var result = _this.computeRows(_this.props, {\n        empty: empty,\n        from: index,\n        sticky: sticky,\n        to: index + 1,\n        renderIndex: renderIndex,\n        rowHeight: rowHeight,\n        setRowSpan: setRowSpan\n      })[0];\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getVisibleCount\", function () {\n      return _this.virtualList ? _this.virtualList.getVisibleCount() : -1;\n    });\n\n    _this.refVirtualList = function (vl) {\n      _this.virtualList = vl;\n    };\n\n    _this._scrollLeft = 0;\n    _this._scrollTop = 0;\n    _this.startIndex = 0;\n    _this.endIndex = CHUNKS_SIZE;\n    _this.state = {\n      columnRenderCount: 0\n    };\n    _this.rows = [];\n    _this.scrollbars = {};\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.shouldComponentUpdate) {\n        return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n      }\n\n      var equalProps = (0, _shallowequal.default)(this.props, nextProps);\n\n      if (!equalProps) {\n        return true;\n      }\n\n      return !(0, _shallowequal.default)(nextState, this.state);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.__willUnmount = true;\n    }\n  }, {\n    key: \"isLazyEditing\",\n    value: function isLazyEditing() {\n      return !!this.lazyEditColumnId;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var thisProps = this.props;\n      var maybeProps = (0, _assignDefined.default)({}, {\n        minRowHeight: thisProps.minRowHeight,\n        rowHeight: thisProps.rowHeight\n      });\n      var pureRows = !!this.fromState;\n      var shouldUpdate = returnTrue;\n      var scrollProps = thisProps.scrollProps;\n\n      if (scrollProps && scrollProps.onContainerScrollHorizontal) {\n        scrollProps = _objectSpread({}, scrollProps);\n        scrollProps.onContainerScrollHorizontal = this.onScrollHorizontal;\n      }\n\n      var minRowWidth = Math.max(this.props.availableWidth, this.props.minRowWidth) || 0;\n      var naturalRowHeight = thisProps.naturalRowHeight;\n      var renderRow = this.renderRow;\n\n      if (naturalRowHeight) {\n        if (this.__data !== thisProps.data || !this.__minRowWidth) {\n          renderRow = renderRow.bind(this);\n        }\n\n        this.__minRowWidth = minRowWidth;\n        this.__data = thisProps.data;\n      }\n\n      return _react.default.createElement(_src.default, _objectSpread(_objectSpread({\n        rowHeight: null,\n        extraRows: naturalRowHeight ? 1 : 0,\n        style: thisProps.style,\n        theme: this.props.theme,\n        checkResizeDelay: thisProps.checkResizeDelay,\n        rowContain: thisProps.rowContain,\n        contain: thisProps.contain,\n        rtl: thisProps.rtl,\n        stickyOffset: thisProps.rtlOffset,\n        stickyRows: thisProps.computedStickyRows,\n        onStickyRowUpdate: this.onStickyRowUpdate,\n        enableRowSpan: thisProps.computedEnableRowspan,\n        recycleCoveredRows: false,\n        className: VirtualListClassName,\n        renderRowContainer: this.renderRowContainer\n      }, maybeProps), {}, {\n        overscrollBehavior: \"auto\",\n        rowHeightManager: thisProps.rowHeightManager,\n        before: thisProps.before,\n        after: thisProps.after,\n        showEmptyRows: thisProps.computedShowEmptyRows,\n        scrollProps: scrollProps,\n        emptyScrollOffset: this.getEmptyScrollOffset(),\n        nativeScroll: thisProps.nativeScroll,\n        onResize: this.onResize,\n        virtualized: thisProps.virtualized,\n        minRowWidth: minRowWidth,\n        naturalRowHeight: naturalRowHeight,\n        renderScroller: this.renderScroller,\n        renderScrollerSpacer: this.renderScrollerSpacer,\n        renderSizer: this.renderSizer,\n        renderView: this.renderView,\n        useTransformRowPosition: this.props.useTransformRowPosition,\n        useTransformPosition: this.props.useTransformPosition,\n        shouldComponentUpdate: shouldUpdate,\n        ref: this.refVirtualList,\n        count: thisProps.data.length || 0,\n        pureRows: pureRows,\n        renderRow: renderRow,\n        onContainerScrollHorizontal: this.onScrollHorizontal,\n        onContainerScroll: this.onContainerScroll,\n        onScrollbarsChange: this.onScrollbarsChange,\n        onContainerScrollVertical: this.props.onContainerScrollVertical,\n        onScrollStop: this.onScrollStop,\n        shouldFocusNextRow: this.shouldFocusNextRow\n      }));\n    }\n  }, {\n    key: \"shouldFocusNextRow\",\n    value: function shouldFocusNextRow(_ref6) {\n      var index = _ref6.index,\n          nextIndex = _ref6.nextIndex,\n          dir = _ref6.dir;\n      var shouldFocus = !this.isLazyEditing();\n      return shouldFocus;\n    }\n  }, {\n    key: \"getEmptyScrollOffset\",\n    value: function getEmptyScrollOffset() {\n      return this.props.emptyScrollOffset || (0, _src.getScrollbarWidth)() || 17;\n    }\n  }, {\n    key: \"tryStartEdit\",\n    value: function tryStartEdit(_ref7) {\n      var rowIndex = _ref7.rowIndex,\n          columnIndex = _ref7.columnIndex,\n          dir = _ref7.dir;\n      var row = this.getRowAt(rowIndex);\n\n      if (row) {\n        return row.tryRowCellEdit(columnIndex, dir);\n      }\n\n      return Promise.reject(null);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps.columnRenderCount != this.props.columnRenderCount) {\n        raf(function () {\n          _this2.updateOnScrollLeft(undefined, true, _this2.props);\n        });\n      }\n\n      var _this$props5 = this.props,\n          lockedStartColumns = _this$props5.lockedStartColumns,\n          lockedEndColumns = _this$props5.lockedEndColumns;\n      var hasLocked = lockedStartColumns && lockedStartColumns.length || lockedEndColumns && lockedEndColumns.length;\n\n      if (hasLocked) {\n        this.onContainerScrollHorizontal(this._scrollLeft);\n      }\n    }\n  }, {\n    key: \"getScrollLeftMax\",\n    value: function getScrollLeftMax() {\n      return this.virtualList ? this.virtualList.scrollLeftMax : 0;\n    }\n  }]);\n  return InovuaDataGridList;\n}(_react.Component);\n\nexports.default = InovuaDataGridList;\nvar propTypes = Object.assign({}, _src.propTypes, {\n  count: _propTypes.default.number,\n  columns: _propTypes.default.arrayOf(_propTypes.default.shape({\n    name: _propTypes.default.string,\n    computedWidth: _propTypes.default.number,\n    id: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    render: _propTypes.default.func\n  })),\n  data: _propTypes.default.array,\n  from: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.any,\n  idProperty: _propTypes.default.string,\n  maxWidth: _propTypes.default.number,\n  minRowHeight: _propTypes.default.number,\n  minWidth: _propTypes.default.number,\n  onColumnRenderStartIndexChange: _propTypes.default.func,\n  rowHeight: _propTypes.default.number,\n  renderScroller: _propTypes.default.func,\n  renderScrollerSpacer: _propTypes.default.func,\n  renderActiveRowIndicator: _propTypes.default.func,\n  showWarnings: _propTypes.default.bool,\n  to: _propTypes.default.number,\n  virtualizeColumns: _propTypes.default.bool\n});\ndelete propTypes.renderRow;\nInovuaDataGridList.propTypes = propTypes;\nInovuaDataGridList.defaultProps = {\n  showWarnings: false\n};"]},"metadata":{},"sourceType":"script"}