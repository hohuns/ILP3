{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _useProperty5 = _interopRequireDefault(require(\"./useProperty\"));\n\nvar _react = require(\"react\");\n\nvar _clamp = _interopRequireDefault(require(\"../utils/clamp\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"./usePrevious\"));\n\nvar _getGlobal = require(\"../getGlobal\");\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nvar useActiveIndex = function useActiveIndex(props, computedProps, computedPropsRef) {\n  var _useProperty = (0, _useProperty5.default)(props, 'activeIndex', -1),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      computedActiveIndex = _useProperty2[0],\n      doSetActiveIndex = _useProperty2[1];\n\n  var _useProperty3 = (0, _useProperty5.default)(props, 'lastActiveIndex', null),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      computedLastActiveIndex = _useProperty4[0],\n      doSetLastActiveIndex = _useProperty4[1];\n\n  if (!props.enableKeyboardNavigation) {\n    computedActiveIndex = -1;\n  }\n\n  var setActiveIndex = (0, _react.useCallback)(function (activeIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps || !computedProps.computedHasRowNavigation || globalObject.isNaN(activeIndex)) {\n      return;\n    }\n\n    var data = computedProps.data;\n\n    if (activeIndex >= 0) {\n      activeIndex = (0, _clamp.default)(activeIndex, 0, data.length - 1);\n    } else {\n      activeIndex = -1;\n    }\n\n    if (activeIndex === computedProps.computedActiveIndex) {\n      return;\n    }\n\n    doSetActiveIndex(activeIndex);\n  }, []);\n  var incrementActiveIndex = (0, _react.useCallback)(function (inc) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var computedActiveIndex = computedProps.computedActiveIndex;\n    setActiveIndex(computedActiveIndex + inc);\n  }, []);\n  var getActiveItem = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    return computedProps ? computedProps.data[computedProps.computedActiveIndex] : null;\n  }, []);\n  var getFirstVisibleIndex = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return -1;\n    }\n\n    var scrollTop = computedProps.getScrollTop();\n    var rowHeight = props.rowHeight;\n    return Math.ceil(scrollTop / rowHeight);\n  }, [props.rowHeight]);\n  var oldActiveIndex = (0, _usePrevious.default)(computedActiveIndex, -1);\n  (0, _react.useEffect)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedFocused) {\n      return;\n    }\n\n    if (oldActiveIndex !== computedActiveIndex) {\n      var top = computedActiveIndex < oldActiveIndex;\n      computedProps.scrollToIndexIfNeeded(computedActiveIndex, {\n        top: top\n      });\n    }\n  }, [computedActiveIndex, oldActiveIndex]);\n  computedProps.activeRowRef = (0, _react.useRef)(null);\n  return {\n    computedActiveIndex: computedActiveIndex,\n    setActiveIndex: setActiveIndex,\n    incrementActiveIndex: incrementActiveIndex,\n    getActiveItem: getActiveItem,\n    getFirstVisibleIndex: getFirstVisibleIndex,\n    computedLastActiveIndex: computedLastActiveIndex,\n    doSetLastActiveIndex: doSetLastActiveIndex\n  };\n};\n\nvar _default = useActiveIndex;\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/ILP-main/node_modules/@inovua/reactdatagrid-community/hooks/useActiveIndex.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_slicedToArray2","_useProperty5","_react","_clamp","_usePrevious","_getGlobal","globalObject","getGlobal","useActiveIndex","props","computedProps","computedPropsRef","_useProperty","_useProperty2","computedActiveIndex","doSetActiveIndex","_useProperty3","_useProperty4","computedLastActiveIndex","doSetLastActiveIndex","enableKeyboardNavigation","setActiveIndex","useCallback","activeIndex","current","computedHasRowNavigation","isNaN","data","length","incrementActiveIndex","inc","getActiveItem","getFirstVisibleIndex","scrollTop","getScrollTop","rowHeight","Math","ceil","oldActiveIndex","useEffect","computedFocused","top","scrollToIndexIfNeeded","activeRowRef","useRef","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _useProperty5 = _interopRequireDefault(require(\"./useProperty\"));\n\nvar _react = require(\"react\");\n\nvar _clamp = _interopRequireDefault(require(\"../utils/clamp\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"./usePrevious\"));\n\nvar _getGlobal = require(\"../getGlobal\");\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nvar useActiveIndex = function useActiveIndex(props, computedProps, computedPropsRef) {\n  var _useProperty = (0, _useProperty5.default)(props, 'activeIndex', -1),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      computedActiveIndex = _useProperty2[0],\n      doSetActiveIndex = _useProperty2[1];\n\n  var _useProperty3 = (0, _useProperty5.default)(props, 'lastActiveIndex', null),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      computedLastActiveIndex = _useProperty4[0],\n      doSetLastActiveIndex = _useProperty4[1];\n\n  if (!props.enableKeyboardNavigation) {\n    computedActiveIndex = -1;\n  }\n\n  var setActiveIndex = (0, _react.useCallback)(function (activeIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps || !computedProps.computedHasRowNavigation || globalObject.isNaN(activeIndex)) {\n      return;\n    }\n\n    var data = computedProps.data;\n\n    if (activeIndex >= 0) {\n      activeIndex = (0, _clamp.default)(activeIndex, 0, data.length - 1);\n    } else {\n      activeIndex = -1;\n    }\n\n    if (activeIndex === computedProps.computedActiveIndex) {\n      return;\n    }\n\n    doSetActiveIndex(activeIndex);\n  }, []);\n  var incrementActiveIndex = (0, _react.useCallback)(function (inc) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var computedActiveIndex = computedProps.computedActiveIndex;\n    setActiveIndex(computedActiveIndex + inc);\n  }, []);\n  var getActiveItem = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    return computedProps ? computedProps.data[computedProps.computedActiveIndex] : null;\n  }, []);\n  var getFirstVisibleIndex = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return -1;\n    }\n\n    var scrollTop = computedProps.getScrollTop();\n    var rowHeight = props.rowHeight;\n    return Math.ceil(scrollTop / rowHeight);\n  }, [props.rowHeight]);\n  var oldActiveIndex = (0, _usePrevious.default)(computedActiveIndex, -1);\n  (0, _react.useEffect)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedFocused) {\n      return;\n    }\n\n    if (oldActiveIndex !== computedActiveIndex) {\n      var top = computedActiveIndex < oldActiveIndex;\n      computedProps.scrollToIndexIfNeeded(computedActiveIndex, {\n        top: top\n      });\n    }\n  }, [computedActiveIndex, oldActiveIndex]);\n  computedProps.activeRowRef = (0, _react.useRef)(null);\n  return {\n    computedActiveIndex: computedActiveIndex,\n    setActiveIndex: setActiveIndex,\n    incrementActiveIndex: incrementActiveIndex,\n    getActiveItem: getActiveItem,\n    getFirstVisibleIndex: getFirstVisibleIndex,\n    computedLastActiveIndex: computedLastActiveIndex,\n    doSetLastActiveIndex: doSetLastActiveIndex\n  };\n};\n\nvar _default = useActiveIndex;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}