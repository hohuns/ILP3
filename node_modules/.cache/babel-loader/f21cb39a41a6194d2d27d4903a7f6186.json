{"ast":null,"code":"/**\n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the Commercial License found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _region = _interopRequireDefault(require(\"@inovua/reactdatagrid-community/packages/region\"));\n\nvar _ColumnLayout = _interopRequireDefault(require(\"@inovua/reactdatagrid-community/Layout/ColumnLayout\"));\n\nvar _DragRow = _interopRequireDefault(require(\"./plugins/row-reorder/DragRow\"));\n\nvar _DragRowArrow = _interopRequireDefault(require(\"./plugins/row-reorder/DragRowArrow\"));\n\nvar _ScrollingRegion = _interopRequireDefault(require(\"./plugins/row-reorder/ScrollingRegion\"));\n\nvar _getRangesForRows = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getRangesForRows\"));\n\nvar _setupRowDrag = _interopRequireDefault(require(\"./plugins/row-reorder/utils/setupRowDrag\"));\n\nvar _getDropRowIndex2 = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getDropRowIndex\"));\n\nvar _moveYAfterX = _interopRequireDefault(require(\"./plugins/row-reorder/utils/moveYAfterX\"));\n\nvar _dropIndexValidation = _interopRequireDefault(require(\"./plugins/row-reorder/utils/dropIndexValidation\"));\n\nvar _LockedRows = _interopRequireDefault(require(\"./plugins/locked-rows/LockedRows\"));\n\nvar _getRangesForGroups = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getRangesForGroups\"));\n\nvar _getRangesForTree = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getRangesForTree\"));\n\nvar _getDropGroup3 = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getDropGroup\"));\n\nvar _getDropParent3 = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getDropParent\"));\n\nvar _updateTreeData = _interopRequireDefault(require(\"./plugins/tree/tree/updateTreeData\"));\n\nvar _getGlobal = require(\"@inovua/reactdatagrid-community/getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar DRAG_INFO = null;\nvar scrolling = false;\nvar SCROLL_MARGIN = 40;\nvar DRAG_ROW_MAX_HEIGHT = 100;\nvar raf = globalObject.requestAnimationFrame;\n\nvar identity = function identity(a) {\n  return a;\n};\n\nvar iterate = true;\n\nvar InovuaDataGridEnterpriseColumnLayout = function (_InovuaDataGridColumn) {\n  (0, _inherits2.default)(InovuaDataGridEnterpriseColumnLayout, _InovuaDataGridColumn);\n\n  var _super = _createSuper(InovuaDataGridEnterpriseColumnLayout);\n\n  function InovuaDataGridEnterpriseColumnLayout(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridEnterpriseColumnLayout);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dropIndex\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dragBoxInitialHeight\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dropRowHeight\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"validDropPositions\", []);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollTopRegionRef\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollBottomRegionRef\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dragRowArrow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"refDragRow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"refDragRowArrow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dragRow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"content\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"direction\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"gridScrollInterval\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderLockedEndRows\", function (computedProps) {\n      return _this.renderLockedRows(computedProps.computedLockedEndRows, 'end', computedProps);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderLockedStartRows\", function (computedProps) {\n      return _this.renderLockedRows(computedProps.computedLockedStartRows, 'start', computedProps);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderLockedRows\", function (rows, position, computedProps) {\n      if (!rows || !rows.length) {\n        return null;\n      }\n\n      return _react.default.createElement(_LockedRows.default, {\n        key: position,\n        rows: rows,\n        computedProps: computedProps,\n        position: position\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderDragRowArrow\", function () {\n      var props = _this.lastComputedProps;\n      var rowReorderArrowStyle = props.rowReorderArrowStyle;\n      return _react.default.createElement(_DragRowArrow.default, {\n        ref: _this.refDragRowArrow,\n        rowHeight: _this.dropRowHeight,\n        rowReorderArrowStyle: rowReorderArrowStyle\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderReorderRowProxy\", function (props) {\n      return _react.default.createElement(_DragRow.default, {\n        ref: _this.refDragRow,\n        renderRowReorderProxy: props && props.renderRowReorderProxy\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollingTopRegion\", function () {\n      return _react.default.createElement(_ScrollingRegion.default, {\n        ref: _this.scrollTopRegionRef,\n        dir: -1,\n        onMouseEnter: function onMouseEnter(event) {\n          return _this.onScrollingRegionMouseEnter(event, -1);\n        },\n        onMouseLeave: _this.onScrollingRegionMouseLeave\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollingBottomRegion\", function () {\n      return _react.default.createElement(_ScrollingRegion.default, {\n        ref: _this.scrollBottomRegionRef,\n        dir: 1,\n        onMouseEnter: function onMouseEnter(event) {\n          return _this.onScrollingRegionMouseEnter(event, 1);\n        },\n        onMouseLeave: _this.onScrollingRegionMouseLeave\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollingRegionMouseEnter\", function (event, dir) {\n      event.preventDefault();\n\n      if (DRAG_INFO && DRAG_INFO.dragging) {\n        scrolling = true;\n        var props = _this.lastComputedProps;\n        var rowReorderScrollByAmount = props.rowReorderScrollByAmount,\n            rowReorderAutoScrollSpeed = props.rowReorderAutoScrollSpeed;\n\n        if (scrolling && dir) {\n          globalObject.clearInterval(_this.gridScrollInterval);\n          _this.gridScrollInterval = globalObject.setInterval(function () {\n            return _this.startScrolling(rowReorderScrollByAmount, dir);\n          }, rowReorderAutoScrollSpeed);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"startScrolling\", function (rowReorderScrollByAmount, dir) {\n      var initialScrollTop = _this.getScrollTop();\n\n      var newScrollTop = initialScrollTop + dir * rowReorderScrollByAmount;\n      raf(function () {\n        _this.setScrollPosition(newScrollTop);\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setScrollPosition\", function (scrollTop) {\n      var scrollTopMax = _this.getScrollTopMax();\n\n      _this.setReorderArrowVisible(false);\n\n      if (scrollTop < 0) {\n        scrollTop = 0;\n      }\n\n      if (scrollTop > scrollTopMax) {\n        scrollTop = scrollTopMax;\n      }\n\n      _this.setScrollTop(scrollTop);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollingRegionMouseLeave\", function () {\n      scrolling = false;\n\n      _this.setReorderArrowVisible(true);\n\n      globalObject.clearInterval(_this.gridScrollInterval);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDragRowInstance\", function (dragIndex) {\n      var visibleRows = _this.getContentRows();\n\n      var dragRow = visibleRows.filter(function (row) {\n        if (!row) {\n          return;\n        }\n\n        return row.props.rowIndex === dragIndex;\n      })[0];\n      return dragRow;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onDragRowMouseDownHandle\", function (ev, index, cellNode) {\n      var dragIndex = index;\n      var props = _this.lastComputedProps;\n\n      if (!_this.onRowReorderValidation(ev, props, dragIndex)) {\n        return;\n      }\n\n      var computedFocused = props.computedFocused,\n          computedSetFocused = props.computedSetFocused,\n          setActiveIndex = props.setActiveIndex;\n\n      var _this$initDrag = _this.initDrag({\n        cellNode: cellNode\n      }),\n          contentRegion = _this$initDrag.contentRegion,\n          headerHeight = _this$initDrag.headerHeight,\n          cellRegion = _this$initDrag.cellRegion;\n\n      _this.dragRowArrow.setOffset(headerHeight);\n\n      if (!computedFocused) {\n        computedSetFocused(true);\n      }\n\n      setActiveIndex(index);\n\n      _this.setupDrag(ev, {\n        dragIndex: dragIndex,\n        contentRegion: contentRegion,\n        headerHeight: headerHeight,\n        cellRegion: cellRegion\n      }, props);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setupDrag\", function (event, _ref, props) {\n      var dragIndex = _ref.dragIndex,\n          contentRegion = _ref.contentRegion,\n          headerHeight = _ref.headerHeight,\n          cellRegion = _ref.cellRegion;\n\n      var _this$getDragBoxIniti = _this.getDragBoxInitialRegion({\n        dragIndex: dragIndex\n      }),\n          dragBoxInitialRegion = _this$getDragBoxIniti.dragBoxInitialRegion,\n          dragRowHeight = _this$getDragBoxIniti.dragRowHeight;\n\n      var _this$getDragProxy = _this.getDragProxy(props, {\n        dragIndex: dragIndex,\n        contentRegion: contentRegion,\n        cellRegion: cellRegion,\n        dragBoxInitialRegion: dragBoxInitialRegion\n      }),\n          dragProxy = _this$getDragProxy.dragProxy,\n          dragProxyPosition = _this$getDragProxy.dragProxyPosition,\n          dragBoxOffsets = _this$getDragProxy.dragBoxOffsets,\n          leftBoxOffset = _this$getDragProxy.leftBoxOffset;\n\n      _this.setScrollRegionVisibility();\n\n      dragProxy.setHeight(dragRowHeight);\n      dragProxy.setTop(dragProxyPosition.top);\n      dragProxy.setLeft(dragProxyPosition.left);\n\n      var initialScrollTop = _this.getScrollTop();\n\n      var _this$getRanges = _this.getRanges(props, {\n        initialScrollTop: initialScrollTop,\n        contentRegion: contentRegion,\n        dragBoxInitialRegion: dragBoxInitialRegion\n      }),\n          ranges = _this$getRanges.ranges,\n          selectedGroup = _this$getRanges.selectedGroup,\n          selectedParent = _this$getRanges.selectedParent;\n\n      DRAG_INFO = {\n        dragging: true,\n        dragIndex: dragIndex,\n        ranges: ranges,\n        selectedGroup: selectedGroup,\n        selectedParent: selectedParent,\n        contentRegion: contentRegion,\n        headerHeight: headerHeight,\n        dragBoxInitialRegion: dragBoxInitialRegion,\n        dragBoxRegion: dragBoxInitialRegion.clone(),\n        dragProxy: dragProxy,\n        dragBoxOffsets: dragBoxOffsets,\n        initialScrollTop: initialScrollTop,\n        leftBoxOffset: leftBoxOffset,\n        scrollTopMax: _this.getScrollTopMax()\n      };\n      iterate = true;\n\n      _this.setReorderArrowAt(dragIndex, ranges, 0);\n\n      (0, _setupRowDrag.default)(event, dragBoxInitialRegion, {\n        onDrag: function onDrag(event, config) {\n          return _this.onRowDrag(event, config, props);\n        },\n        onDrop: function onDrop(event, config) {\n          return _this.onRowDrop(event, config, props);\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowDrag\", function (_event, config, props) {\n      if (!DRAG_INFO) {\n        return;\n      }\n\n      var _DRAG_INFO = DRAG_INFO,\n          dragIndex = _DRAG_INFO.dragIndex,\n          dragBoxInitialRegion = _DRAG_INFO.dragBoxInitialRegion,\n          dragProxy = _DRAG_INFO.dragProxy,\n          dragBoxOffsets = _DRAG_INFO.dragBoxOffsets;\n\n      var _this$adjustScrollOnD = _this.adjustScrollOnDrag(props, config),\n          initialDiffTop = _this$adjustScrollOnD.initialDiffTop,\n          initialDiffLeft = _this$adjustScrollOnD.initialDiffLeft,\n          dragProxyAjust = _this$adjustScrollOnD.dragProxyAjust,\n          scrollDiff = _this$adjustScrollOnD.scrollDiff,\n          scrollTop = _this$adjustScrollOnD.scrollTop,\n          diffTop = _this$adjustScrollOnD.diffTop,\n          diffLeft = _this$adjustScrollOnD.diffLeft;\n\n      var _this$ajustDragProxy = _this.ajustDragProxy({\n        diffTop: diffTop,\n        diffLeft: diffLeft,\n        initialDiffTop: initialDiffTop,\n        initialDiffLeft: initialDiffLeft,\n        dragProxyAjust: dragProxyAjust\n      }),\n          dragProxyTop = _this$ajustDragProxy.dragProxyTop,\n          dragProxyLeft = _this$ajustDragProxy.dragProxyLeft;\n\n      dragProxy.setTop(dragProxyTop);\n      dragProxy.setLeft(dragProxyLeft);\n      dragProxy.setVisible(true);\n      var dropIndex = -1;\n      var dir = initialDiffTop > 0 ? 1 : -1;\n      _this.direction = dir;\n      var rowHeightManager = props.rowHeightManager,\n          computedGroupBy = props.computedGroupBy,\n          computedTreeEnabled = props.computedTreeEnabled,\n          silentSetData = props.silentSetData,\n          enableTreeRowReorderNestingChange = props.enableTreeRowReorderNestingChange;\n\n      if (computedGroupBy && computedGroupBy.length > 0) {\n        _this.getDropGroup();\n      }\n\n      if (computedTreeEnabled) {\n        _this.getDropParent();\n      }\n\n      var _getDropRowIndex = (0, _getDropRowIndex2.default)({\n        rowHeightManager: rowHeightManager,\n        dragBoxInitialRegion: dragBoxInitialRegion,\n        dragBoxOffsets: dragBoxOffsets,\n        initialDiffTop: initialDiffTop,\n        scrollTop: scrollTop,\n        dragIndex: dragIndex,\n        dir: dir\n      }),\n          newDropIndex = _getDropRowIndex.index;\n\n      if (newDropIndex !== -1) {\n        dropIndex = newDropIndex;\n      }\n\n      if (dropIndex === dragIndex && computedTreeEnabled && enableTreeRowReorderNestingChange) {\n        _this.computedNesting(props, dragProxyLeft, dragIndex, silentSetData);\n\n        return;\n      }\n\n      if (_this.dropIndex !== dropIndex) {\n        _this.getValidDropPositions(props, dragIndex, dropIndex);\n\n        _this.dragRowArrow.setValid(_this.validDropPositions[dropIndex]);\n      }\n\n      _this.dropIndex = dropIndex;\n      var rowHeight = rowHeightManager.getRowHeight(_this.dropIndex);\n\n      _this.dragRowArrow.setHeight(rowHeight);\n\n      if (dragIndex !== _this.dropIndex) {\n        var compareRanges = _this.compareRanges({\n          scrollDiff: scrollDiff\n        });\n\n        _this.setReorderArrowAt(_this.dropIndex, compareRanges, dir);\n      } else {\n        _this.setReorderArrowVisible(false);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowDrop\", function (_event, _config, props) {\n      var _assertThisInitialize = (0, _assertThisInitialized2.default)(_this),\n          dropIndex = _assertThisInitialize.dropIndex;\n\n      var onRowReorder = props.onRowReorder,\n          setActiveIndex = props.setActiveIndex,\n          computedGroupBy = props.computedGroupBy,\n          computedTreeEnabled = props.computedTreeEnabled,\n          generateIdFromPath = props.generateIdFromPath,\n          enableTreeRowReorderNestingChange = props.enableTreeRowReorderNestingChange;\n\n      if (dropIndex === -1 && computedTreeEnabled && enableTreeRowReorderNestingChange) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (dropIndex === undefined) {\n        _this.cancelDrop();\n\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      var _DRAG_INFO2 = DRAG_INFO,\n          dragIndex = _DRAG_INFO2.dragIndex;\n\n      if (dropIndex === dragIndex) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (!_this.validDropPositions[dropIndex]) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (computedGroupBy && computedGroupBy.length > 0) {\n        _this.updateGroups(props, dragIndex, dropIndex);\n\n        return;\n      }\n\n      if (computedTreeEnabled && generateIdFromPath) {\n        _this.updateTree(props, dragIndex, dropIndex);\n\n        return;\n      }\n\n      _this.clearDropInfo();\n\n      setActiveIndex(dropIndex);\n\n      if (onRowReorder && typeof onRowReorder === 'function') {\n        _this.onRowReorder(props, {\n          dragIndex: dragIndex,\n          dropIndex: dropIndex\n        });\n\n        return;\n      }\n\n      _this.updateDataSource(props, {\n        dropIndex: dropIndex,\n        dragIndex: dragIndex\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateDataSource\", function (props, _ref2) {\n      var dropIndex = _ref2.dropIndex,\n          dragIndex = _ref2.dragIndex;\n      var data = props.data,\n          setOriginalData = props.setOriginalData;\n\n      if (_this.validDropPositions[dropIndex]) {\n        var newDataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n        setOriginalData(newDataSource);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateTree\", function (props, dragIndex, dropIndex) {\n      var data = props.data,\n          silentSetData = props.silentSetData,\n          nodePathSeparator = props.nodePathSeparator,\n          onTreeRowReorderEnd = props.onTreeRowReorderEnd;\n      var _DRAG_INFO3 = DRAG_INFO,\n          selectedParent = _DRAG_INFO3.selectedParent,\n          dropParent = _DRAG_INFO3.dropParent;\n\n      if (_this.validDropPositions[dropIndex]) {\n        var _DRAG_INFO4 = DRAG_INFO,\n            dropDepth = _DRAG_INFO4.dropDepth;\n        var direction = _this.direction;\n        var dataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n\n        var newDataSource = _this.recomputeNodeProps(dataSource, direction, dropIndex, dropDepth, dropParent, nodePathSeparator);\n\n        (0, _updateTreeData.default)(props, {\n          selectedPath: selectedParent,\n          destinationPath: dropParent\n        });\n\n        if (onTreeRowReorderEnd) {\n          onTreeRowReorderEnd({\n            updatedTreeData: props.originalData\n          });\n        }\n\n        _this.clearDropInfo();\n\n        silentSetData(newDataSource);\n        props.reload();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateGroups\", function (props, dragIndex, dropIndex) {\n      var data = props.data,\n          silentSetData = props.silentSetData,\n          setItemOnReorderingGroups = props.setItemOnReorderingGroups;\n      var _DRAG_INFO5 = DRAG_INFO,\n          dropGroup = _DRAG_INFO5.dropGroup,\n          selectedGroup = _DRAG_INFO5.selectedGroup;\n\n      if (!selectedGroup.localeCompare(dropGroup)) {\n        var newDataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n        silentSetData(newDataSource);\n\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (dropGroup) {\n        var item = _this.computeItem(props);\n\n        setItemOnReorderingGroups(dragIndex, item, {\n          replace: false\n        });\n\n        var _newDataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n\n        silentSetData(_newDataSource);\n\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      _this.clearDropInfo();\n\n      return;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"recomputeNodeProps\", function (data, direction, dropIndex, dropDepth, destinationPath, pathSeparator) {\n      var parentNodeIdArr = destinationPath.split(pathSeparator);\n      parentNodeIdArr.splice(parentNodeIdArr.length - 1, 1);\n      var parentNodeId = parentNodeIdArr.join(pathSeparator);\n\n      if (direction < 0) {\n        data[dropIndex].__nodeProps.depth = dropDepth;\n        data[dropIndex].__nodeProps.parentNodeId = parentNodeId;\n      }\n\n      if (direction > 0) {\n        data[dropIndex].__nodeProps.depth = dropDepth;\n        data[dropIndex].__nodeProps.parentNodeId = parentNodeId;\n      }\n\n      return data;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"computedNesting\", function (props, dragProxyLeft, dragIndex, silentSetData) {\n      if (dragProxyLeft < -20) {\n        _this.updateNesting(-1, props, dragIndex, silentSetData);\n      } else if (dragProxyLeft > 80) {\n        _this.updateNesting(1, props, dragIndex, silentSetData);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateNesting\", function (dir, props, dragIndex, silentSetData) {\n      var originalData = props.originalData;\n      var data = props.data;\n      var idProperty = props.idProperty;\n      var pathSeparator = props.nodePathSeparator;\n      var nodesName = props.nodesProperty;\n      var generateIdFromPath = props.generateIdFromPath;\n      var dataSource = (0, _toConsumableArray2.default)(data);\n      var _DRAG_INFO6 = DRAG_INFO,\n          selectedPath = _DRAG_INFO6.selectedParent;\n      var depth = dataSource[dragIndex].__nodeProps.depth + dir;\n\n      var computeNesting = function computeNesting(dataArray) {\n        var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var parentNode = arguments.length > 2 ? arguments[2] : undefined;\n\n        if (iterate) {\n          for (var i = 0; i < dataArray.length; i++) {\n            var item = dataArray[i];\n\n            if (!item) {\n              continue;\n            }\n\n            var itemId = \"\".concat(item[idProperty]);\n            var itemNodes = item[nodesName];\n            var parentNodeId = parentNode ? \"\".concat(parentNode[idProperty]) : undefined;\n            var path = parentNode ? \"\".concat(parentNodeId).concat(pathSeparator).concat(itemId) : \"\".concat(itemId);\n\n            if (generateIdFromPath) {\n              item[idProperty] = path;\n            }\n\n            if (parentNode === undefined) {\n              result.push(item);\n            } else {\n              if (path === selectedPath) {\n                if (depth < 0) {\n                  _this.clearDropInfo();\n\n                  break;\n                }\n\n                var parentNodes = parentNode[nodesName];\n                var extraNodeProps = identity({\n                  depth: depth\n                });\n\n                var itemWithExtraProps = _objectSpread(_objectSpread({}, item), {}, {\n                  __extraNodeProps: extraNodeProps\n                });\n\n                parentNodes[i] = itemWithExtraProps;\n                iterate = false;\n                break;\n              }\n            }\n\n            if (Array.isArray(itemNodes)) {\n              computeNesting(itemNodes, result, item);\n            }\n          }\n        }\n\n        return result;\n      };\n\n      var computeIds = function computeIds(dataArray) {\n        for (var i = 0; i < dataArray.length; i++) {\n          var item = dataArray[i];\n\n          if (!item) {\n            continue;\n          }\n\n          var itemNodes = item[nodesName];\n          item[idProperty] = i + 1;\n\n          if (Array.isArray(itemNodes)) {\n            computeIds(itemNodes);\n          }\n        }\n      };\n\n      var newOriginalData = computeNesting(originalData);\n      computeIds(newOriginalData);\n\n      if (depth < 0) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      dataSource[dragIndex].__nodeProps.depth = depth;\n\n      _this.clearDropInfo();\n\n      silentSetData(dataSource);\n      return;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"computeItem\", function (props) {\n      var groupBy = props.computedGroupBy;\n      var _DRAG_INFO7 = DRAG_INFO,\n          dropKeyPath = _DRAG_INFO7.dropKeyPath;\n\n      if (!dropKeyPath) {\n        return {};\n      }\n\n      var item = {};\n\n      for (var i = 0; i < groupBy.length; i++) {\n        item[groupBy[i]] = dropKeyPath[i];\n      }\n\n      return item;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"initDrag\", function (_ref3) {\n      var cellNode = _ref3.cellNode;\n\n      var contentNode = _this.content.getDOMNode();\n\n      var headerNode = _this.headerLayout ? _this.headerLayout.headerDomNode.current : null;\n\n      var contentRegion = _region.default.from(contentNode);\n\n      var headerRegion = _region.default.from(headerNode);\n\n      var headerHeight = headerRegion.getHeight();\n      var node = cellNode && cellNode.current;\n\n      var cellRegion = _region.default.from(node);\n\n      return {\n        contentRegion: contentRegion,\n        headerHeight: headerHeight,\n        cellRegion: cellRegion\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDropGroup\", function () {\n      var _DRAG_INFO8 = DRAG_INFO,\n          ranges = _DRAG_INFO8.ranges,\n          dragBoxRegion = _DRAG_INFO8.dragBoxRegion;\n\n      var _getDropGroup = (0, _getDropGroup3.default)({\n        ranges: ranges,\n        dragBoxRegion: dragBoxRegion\n      }),\n          dropGroup = _getDropGroup.dropGroup,\n          dropKeyPath = _getDropGroup.keyPath;\n\n      DRAG_INFO = Object.assign({}, DRAG_INFO, {\n        dropGroup: dropGroup,\n        dropKeyPath: dropKeyPath\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDropParent\", function () {\n      var _DRAG_INFO9 = DRAG_INFO,\n          ranges = _DRAG_INFO9.ranges,\n          dragBoxRegion = _DRAG_INFO9.dragBoxRegion;\n\n      var _getDropParent = (0, _getDropParent3.default)({\n        ranges: ranges,\n        dragBoxRegion: dragBoxRegion\n      }),\n          dropParent = _getDropParent.dropParent,\n          dropDepth = _getDropParent.dropDepth;\n\n      DRAG_INFO = Object.assign({}, DRAG_INFO, {\n        dropParent: dropParent,\n        dropDepth: dropDepth\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowReorder\", function (props, _ref4) {\n      var dragIndex = _ref4.dragIndex,\n          dropIndex = _ref4.dropIndex;\n      var data = props.data,\n          onRowReorder = props.onRowReorder;\n      var rowData = data[dragIndex];\n      onRowReorder({\n        data: rowData,\n        dragRowIndex: dragIndex,\n        insertRowIndex: dropIndex\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDragProxy\", function (props, _ref5) {\n      var dragIndex = _ref5.dragIndex,\n          contentRegion = _ref5.contentRegion,\n          cellRegion = _ref5.cellRegion,\n          dragBoxInitialRegion = _ref5.dragBoxInitialRegion;\n      var dragProxy = _this.dragRow ? _this.dragRow : undefined;\n      dragProxy.setDragIndex(dragIndex);\n      dragProxy.setProps(props);\n      var dragBoxOffsets = {\n        top: contentRegion.top,\n        left: contentRegion.left\n      };\n      var leftBoxOffset = cellRegion.left - dragBoxOffsets.left;\n\n      _this.dragRowArrow.setLeft(leftBoxOffset);\n\n      var dragProxyPosition = {\n        top: dragBoxInitialRegion.top - dragBoxOffsets.top,\n        left: dragBoxInitialRegion.left - dragBoxOffsets.left\n      };\n      return {\n        dragProxy: dragProxy,\n        dragProxyPosition: dragProxyPosition,\n        dragBoxOffsets: dragBoxOffsets,\n        leftBoxOffset: leftBoxOffset\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDragBoxInitialRegion\", function (_ref6) {\n      var dragIndex = _ref6.dragIndex;\n\n      var dragBox = _this.getDragRowInstance(dragIndex);\n\n      var dragBoxNode = dragBox.domRef ? dragBox.domRef.current : null;\n      var dragBoxInitialRegion;\n\n      if (dragBox) {\n        dragBoxInitialRegion = _region.default.from(dragBoxNode);\n      }\n\n      _this.dragBoxInitialHeight = dragBoxInitialRegion && dragBoxInitialRegion.getHeight();\n\n      if (DRAG_ROW_MAX_HEIGHT && dragBoxInitialRegion && dragBoxInitialRegion.getHeight() > DRAG_ROW_MAX_HEIGHT) {\n        dragBoxInitialRegion.setHeight(DRAG_ROW_MAX_HEIGHT);\n        dragBoxInitialRegion.shift({\n          top: _this.dragBoxInitialHeight / 2 - DRAG_ROW_MAX_HEIGHT / 2\n        });\n      }\n\n      var dragRowHeight = dragBoxInitialRegion.getHeight();\n      return {\n        dragBoxInitialRegion: dragBoxInitialRegion,\n        dragRowHeight: dragRowHeight\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setScrollRegionVisibility\", function () {\n      if (_this.scrollTopRegionRef.current) {\n        _this.scrollTopRegionRef.current.setVisible(true);\n\n        var height = _this.headerLayout && _this.headerLayout.headerNode.offsetHeight;\n\n        _this.scrollTopRegionRef.current.setHeight(height);\n      }\n\n      if (_this.scrollBottomRegionRef.current) {\n        _this.scrollBottomRegionRef.current.setVisible(true);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRanges\", function (props, _ref7) {\n      var initialScrollTop = _ref7.initialScrollTop,\n          contentRegion = _ref7.contentRegion,\n          dragBoxInitialRegion = _ref7.dragBoxInitialRegion;\n      var count = props.count,\n          rowHeightManager = props.rowHeightManager,\n          data = props.data,\n          computedGroupBy = props.computedGroupBy,\n          computedTreeEnabled = props.computedTreeEnabled,\n          generateIdFromPath = props.generateIdFromPath;\n      var ranges = [];\n      var selectedGroup;\n      var selectedParent = '';\n\n      if (computedGroupBy && computedGroupBy.length > 0) {\n        ranges = (0, _getRangesForGroups.default)({\n          data: data,\n          initialOffset: contentRegion.top,\n          rowHeightManager: rowHeightManager,\n          initialScrollTop: initialScrollTop\n        });\n\n        var _getDropGroup2 = (0, _getDropGroup3.default)({\n          ranges: ranges,\n          dragBoxRegion: dragBoxInitialRegion\n        }),\n            dropGroup = _getDropGroup2.dropGroup;\n\n        selectedGroup = dropGroup;\n      } else if (computedTreeEnabled && generateIdFromPath) {\n        ranges = (0, _getRangesForTree.default)({\n          data: data,\n          initialOffset: contentRegion.top,\n          rowHeightManager: rowHeightManager,\n          initialScrollTop: initialScrollTop\n        });\n\n        var _getDropParent2 = (0, _getDropParent3.default)({\n          ranges: ranges,\n          dragBoxRegion: dragBoxInitialRegion\n        }),\n            dropParent = _getDropParent2.dropParent;\n\n        selectedParent = dropParent;\n      } else {\n        ranges = (0, _getRangesForRows.default)({\n          count: count,\n          initialOffset: contentRegion.top,\n          rowHeightManager: rowHeightManager,\n          initialScrollTop: initialScrollTop\n        });\n      }\n\n      return {\n        ranges: ranges,\n        selectedGroup: selectedGroup,\n        selectedParent: selectedParent\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"compareRanges\", function (_ref8) {\n      var scrollDiff = _ref8.scrollDiff;\n      var _DRAG_INFO10 = DRAG_INFO,\n          ranges = _DRAG_INFO10.ranges;\n\n      var mapRange = function mapRange(r) {\n        if (!r) {\n          return null;\n        }\n\n        if (r && r.group) {\n          return null;\n        } else {\n          return _objectSpread(_objectSpread({}, r), {}, {\n            top: r.top - scrollDiff,\n            bottom: r.bottom - scrollDiff\n          });\n        }\n      };\n\n      return ranges.map(mapRange);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"ajustDragProxy\", function (_ref9) {\n      var diffTop = _ref9.diffTop,\n          diffLeft = _ref9.diffLeft,\n          initialDiffTop = _ref9.initialDiffTop,\n          initialDiffLeft = _ref9.initialDiffLeft,\n          dragProxyAjust = _ref9.dragProxyAjust;\n      var _DRAG_INFO11 = DRAG_INFO,\n          dragBoxRegion = _DRAG_INFO11.dragBoxRegion,\n          dragBoxInitialRegion = _DRAG_INFO11.dragBoxInitialRegion,\n          dragBoxOffsets = _DRAG_INFO11.dragBoxOffsets,\n          headerHeight = _DRAG_INFO11.headerHeight,\n          leftBoxOffset = _DRAG_INFO11.leftBoxOffset;\n      dragBoxRegion.set({\n        top: dragBoxInitialRegion.top,\n        bottom: dragBoxInitialRegion.bottom,\n        left: dragBoxInitialRegion.left,\n        right: dragBoxInitialRegion.right\n      });\n      dragBoxRegion.shift({\n        top: diffTop,\n        left: diffLeft\n      });\n      var dragProxyTop = dragBoxInitialRegion.top - dragBoxOffsets.top + initialDiffTop - dragProxyAjust + headerHeight;\n      var dragProxyLeft = dragBoxInitialRegion.left - dragBoxOffsets.left + initialDiffLeft + leftBoxOffset;\n      return {\n        dragProxyTop: dragProxyTop,\n        dragProxyLeft: dragProxyLeft\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getValidDropPositions\", function (props, dragIndex, dropIndex) {\n      var computedGroupBy = props.computedGroupBy,\n          data = props.data,\n          count = props.count,\n          isRowReorderValid = props.isRowReorderValid,\n          allowRowReoderBetweenGroups = props.allowRowReoderBetweenGroups,\n          computedTreeEnabled = props.computedTreeEnabled,\n          enableTreeRowReorderParentChange = props.enableTreeRowReorderParentChange,\n          nodePathSeparator = props.nodePathSeparator,\n          groupPathSeparator = props.groupPathSeparator,\n          generateIdFromPath = props.generateIdFromPath;\n      var _DRAG_INFO12 = DRAG_INFO,\n          selectedGroup = _DRAG_INFO12.selectedGroup,\n          selectedParent = _DRAG_INFO12.selectedParent;\n      var validDropPositions = (0, _dropIndexValidation.default)({\n        data: data,\n        count: count,\n        dragIndex: dragIndex,\n        dropIndex: dropIndex,\n        isRowReorderValid: isRowReorderValid,\n        selectedGroup: selectedGroup,\n        selectedParent: selectedParent,\n        nodePathSeparator: nodePathSeparator,\n        groupPathSeparator: groupPathSeparator,\n        allowRowReoderBetweenGroups: allowRowReoderBetweenGroups,\n        computedGroupBy: computedGroupBy,\n        computedTreeEnabled: computedTreeEnabled,\n        generateIdFromPath: generateIdFromPath,\n        enableTreeRowReorderParentChange: enableTreeRowReorderParentChange\n      });\n      _this.validDropPositions = validDropPositions;\n      return validDropPositions;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"clearDropInfo\", function () {\n      globalObject.clearInterval(_this.gridScrollInterval);\n      _this.dragBoxInitialHeight = 0;\n\n      _this.setReorderArrowVisible(false);\n\n      if (!DRAG_INFO) {\n        return;\n      }\n\n      var _DRAG_INFO13 = DRAG_INFO,\n          dragProxy = _DRAG_INFO13.dragProxy;\n      _this.dropIndex = -1;\n      dragProxy.setVisible(false);\n      DRAG_INFO = null;\n\n      if (_this.scrollTopRegionRef.current) {\n        _this.scrollTopRegionRef.current.setVisible(false);\n      }\n\n      if (_this.scrollBottomRegionRef.current) {\n        _this.scrollBottomRegionRef.current.setVisible(false);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cancelDrop\", function () {\n      if (DRAG_INFO) {\n        DRAG_INFO.dragProxy.setVisible(false);\n      }\n\n      _this.setReorderArrowVisible(false);\n\n      DRAG_INFO = null;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"adjustScrollOnDrag\", function (props, config) {\n      var rowReorderScrollByAmount = props.rowReorderScrollByAmount;\n      var _DRAG_INFO14 = DRAG_INFO,\n          contentRegion = _DRAG_INFO14.contentRegion,\n          scrollTopMax = _DRAG_INFO14.scrollTopMax,\n          dragBoxInitialRegion = _DRAG_INFO14.dragBoxInitialRegion,\n          initialScrollTop = _DRAG_INFO14.initialScrollTop;\n      var diffTop = config.diff.top;\n      var diffLeft = config.diff.left;\n      var minScrollTop = Math.max(contentRegion.top, 0);\n      var maxScrollTop = contentRegion.bottom;\n\n      var scrollTop = _this.getScrollTop();\n\n      var scrollDiff = scrollTop - initialScrollTop;\n      var initialDiffTop = diffTop;\n      var initialDiffLeft = diffLeft;\n      diffTop += scrollDiff;\n      var scrollAjust = 0;\n      var dragProxyAjust = 0;\n\n      if (dragBoxInitialRegion.top + initialDiffTop < minScrollTop + SCROLL_MARGIN && initialDiffTop < 0) {\n        scrollAjust = -rowReorderScrollByAmount;\n      } else if (dragBoxInitialRegion.top + initialDiffTop > maxScrollTop - SCROLL_MARGIN && initialDiffTop > 0) {\n        scrollAjust = rowReorderScrollByAmount;\n      }\n\n      if (scrollAjust) {\n        if (scrollTop + scrollAjust < 0) {\n          scrollAjust = -scrollTop;\n        }\n\n        if (scrollTop + scrollAjust > scrollTopMax) {\n          scrollAjust = scrollTopMax - scrollTop;\n        }\n\n        if (scrollAjust) {\n          if (!props.rowReorderAutoScroll) {\n            _this.setScrollTop(scrollTop + scrollAjust);\n          }\n\n          dragProxyAjust = scrollAjust;\n        }\n      }\n\n      return {\n        initialDiffTop: initialDiffTop,\n        initialDiffLeft: initialDiffLeft,\n        dragProxyAjust: dragProxyAjust,\n        scrollDiff: scrollDiff,\n        scrollTop: scrollTop,\n        diffTop: diffTop,\n        diffLeft: diffLeft\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setReorderArrowAt\", function (index, ranges, direction, visible) {\n      visible = visible !== undefined ? visible : index !== DRAG_INFO.dragIndex;\n\n      if (!scrolling) {\n        _this.setReorderArrowVisible(visible);\n      }\n\n      var box = ranges[index];\n\n      if (!box) {\n        return;\n      }\n\n      if (box.group) {\n        return;\n      }\n\n      var _DRAG_INFO15 = DRAG_INFO,\n          contentRegion = _DRAG_INFO15.contentRegion;\n      var boxPos;\n      var dragRowArrowHeight = _this.dragRowArrow.props.rowReorderArrowStyle ? _this.dragRowArrow.props.rowReorderArrowStyle.height : 3;\n\n      if (!Number.isInteger(dragRowArrowHeight)) {\n        dragRowArrowHeight = 3;\n      }\n\n      var boxSide = box.bottom;\n\n      if (direction < 0) {\n        boxSide = box.top;\n      } else if (direction > 0) {\n        boxSide = box.bottom;\n      }\n\n      if (index === 0) {\n        boxPos = box.top;\n      } else if (index === ranges.length - 1) {\n        var lastBox = ranges[ranges.length - 1];\n        boxPos = lastBox.bottom - Math.floor(dragRowArrowHeight);\n      } else {\n        boxPos = boxSide - Math.floor(dragRowArrowHeight / 2);\n      }\n\n      var arrowPosition = boxPos - contentRegion.top;\n      return _this.setReorderArrowPosition(arrowPosition);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setReorderArrowPosition\", function (top) {\n      _this.dragRowArrow.setTop(top);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setReorderArrowVisible\", function (visible) {\n      _this.dragRowArrow.setVisible(visible);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowReorderValidation\", function (ev, props, dragIndex) {\n      if (ev.isDefaultPrevented && ev.isDefaultPrevented() || ev.defaultPrevented) {\n        return false;\n      }\n\n      var onRowReorder = props.onRowReorder,\n          rowReorderColumn = props.rowReorderColumn,\n          computedPagination = props.computedPagination,\n          computedSortInfo = props.computedSortInfo,\n          computedFiltered = props.computedFiltered,\n          dataSource = props.dataSource,\n          data = props.data,\n          computedPivot = props.computedPivot,\n          computedTreeEnabled = props.computedTreeEnabled,\n          enableTreeRowReorder = props.enableTreeRowReorder,\n          generateIdFromPath = props.generateIdFromPath;\n      var isNotRowReorder = false;\n\n      if (!onRowReorder && (typeof onRowReorder !== 'function' || typeof onRowReorder !== 'boolean')) {\n        if (!rowReorderColumn) {\n          isNotRowReorder = true;\n        }\n      }\n\n      if (computedTreeEnabled && !enableTreeRowReorder) {\n        isNotRowReorder = true;\n      }\n\n      if (computedTreeEnabled && !generateIdFromPath) {\n        isNotRowReorder = true;\n      }\n\n      if (isNotRowReorder) {\n        return false;\n      }\n\n      if ((ev.nativeEvent ? ev.nativeEvent.which === 3 : ev.which === 3) || ev.metaKey || ev.ctrlKey) {\n        return false;\n      }\n\n      if (computedPagination || computedSortInfo || computedFiltered || typeof dataSource === 'function' || computedPivot && computedPivot.length > 0) {\n        if (typeof onRowReorder !== 'function') {\n          return false;\n        }\n      }\n\n      var dragRow;\n      dragRow = data[dragIndex];\n\n      if (!dragRow) {\n        ev === null || ev === void 0 ? void 0 : ev.stopPropagation();\n        return false;\n      }\n\n      return true;\n    });\n\n    _this.refDragRow = function (row) {\n      _this.dragRow = row;\n    };\n\n    _this.refDragRowArrow = function (dragRow) {\n      _this.dragRowArrow = dragRow;\n    };\n\n    _this.scrollTopRegionRef = (0, _react.createRef)();\n    _this.scrollBottomRegionRef = (0, _react.createRef)();\n    return _this;\n  }\n\n  return (0, _createClass2.default)(InovuaDataGridEnterpriseColumnLayout);\n}(_ColumnLayout.default);\n\nexports.default = InovuaDataGridEnterpriseColumnLayout;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/ILP-main/node_modules/@inovua/reactdatagrid-enterprise/EnterpriseColumnLayout.js"],"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","default","_toConsumableArray2","_createClass2","_classCallCheck2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_interopRequireWildcard","_region","_ColumnLayout","_DragRow","_DragRowArrow","_ScrollingRegion","_getRangesForRows","_setupRowDrag","_getDropRowIndex2","_moveYAfterX","_dropIndexValidation","_LockedRows","_getRangesForGroups","_getRangesForTree","_getDropGroup3","_getDropParent3","_updateTreeData","_getGlobal","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","valueOf","e","globalObject","getGlobal","DRAG_INFO","scrolling","SCROLL_MARGIN","DRAG_ROW_MAX_HEIGHT","raf","requestAnimationFrame","identity","a","iterate","InovuaDataGridEnterpriseColumnLayout","_InovuaDataGridColumn","_super","_props","_this","computedProps","renderLockedRows","computedLockedEndRows","computedLockedStartRows","rows","position","createElement","props","lastComputedProps","rowReorderArrowStyle","ref","refDragRowArrow","rowHeight","dropRowHeight","refDragRow","renderRowReorderProxy","scrollTopRegionRef","dir","onMouseEnter","event","onScrollingRegionMouseEnter","onMouseLeave","onScrollingRegionMouseLeave","scrollBottomRegionRef","preventDefault","dragging","rowReorderScrollByAmount","rowReorderAutoScrollSpeed","clearInterval","gridScrollInterval","setInterval","startScrolling","initialScrollTop","getScrollTop","newScrollTop","setScrollPosition","scrollTop","scrollTopMax","getScrollTopMax","setReorderArrowVisible","setScrollTop","dragIndex","visibleRows","getContentRows","dragRow","row","rowIndex","ev","index","cellNode","onRowReorderValidation","computedFocused","computedSetFocused","setActiveIndex","_this$initDrag","initDrag","contentRegion","headerHeight","cellRegion","dragRowArrow","setOffset","setupDrag","_ref","_this$getDragBoxIniti","getDragBoxInitialRegion","dragBoxInitialRegion","dragRowHeight","_this$getDragProxy","getDragProxy","dragProxy","dragProxyPosition","dragBoxOffsets","leftBoxOffset","setScrollRegionVisibility","setHeight","setTop","top","setLeft","left","_this$getRanges","getRanges","ranges","selectedGroup","selectedParent","dragBoxRegion","clone","setReorderArrowAt","onDrag","config","onRowDrag","onDrop","onRowDrop","_event","_DRAG_INFO","_this$adjustScrollOnD","adjustScrollOnDrag","initialDiffTop","initialDiffLeft","dragProxyAjust","scrollDiff","diffTop","diffLeft","_this$ajustDragProxy","ajustDragProxy","dragProxyTop","dragProxyLeft","setVisible","dropIndex","direction","rowHeightManager","computedGroupBy","computedTreeEnabled","silentSetData","enableTreeRowReorderNestingChange","getDropGroup","getDropParent","_getDropRowIndex","newDropIndex","computedNesting","getValidDropPositions","setValid","validDropPositions","getRowHeight","compareRanges","_config","_assertThisInitialize","onRowReorder","generateIdFromPath","clearDropInfo","undefined","cancelDrop","_DRAG_INFO2","updateGroups","updateTree","updateDataSource","_ref2","data","setOriginalData","newDataSource","nodePathSeparator","onTreeRowReorderEnd","_DRAG_INFO3","dropParent","_DRAG_INFO4","dropDepth","dataSource","recomputeNodeProps","selectedPath","destinationPath","updatedTreeData","originalData","reload","setItemOnReorderingGroups","_DRAG_INFO5","dropGroup","localeCompare","item","computeItem","replace","_newDataSource","pathSeparator","parentNodeIdArr","split","splice","parentNodeId","join","__nodeProps","depth","updateNesting","idProperty","nodesName","nodesProperty","_DRAG_INFO6","computeNesting","dataArray","parentNode","itemId","concat","itemNodes","path","parentNodes","extraNodeProps","itemWithExtraProps","__extraNodeProps","Array","isArray","computeIds","newOriginalData","groupBy","_DRAG_INFO7","dropKeyPath","_ref3","contentNode","content","getDOMNode","headerNode","headerLayout","headerDomNode","current","from","headerRegion","getHeight","node","_DRAG_INFO8","_getDropGroup","keyPath","assign","_DRAG_INFO9","_getDropParent","_ref4","rowData","dragRowIndex","insertRowIndex","_ref5","setDragIndex","setProps","_ref6","dragBox","getDragRowInstance","dragBoxNode","domRef","dragBoxInitialHeight","shift","height","offsetHeight","_ref7","count","initialOffset","_getDropGroup2","_getDropParent2","_ref8","_DRAG_INFO10","mapRange","r","group","bottom","map","_ref9","_DRAG_INFO11","right","isRowReorderValid","allowRowReoderBetweenGroups","enableTreeRowReorderParentChange","groupPathSeparator","_DRAG_INFO12","_DRAG_INFO13","_DRAG_INFO14","diff","minScrollTop","Math","max","maxScrollTop","scrollAjust","rowReorderAutoScroll","visible","box","_DRAG_INFO15","boxPos","dragRowArrowHeight","Number","isInteger","boxSide","lastBox","floor","arrowPosition","setReorderArrowPosition","isDefaultPrevented","defaultPrevented","rowReorderColumn","computedPagination","computedSortInfo","computedFiltered","computedPivot","enableTreeRowReorder","isNotRowReorder","nativeEvent","which","metaKey","ctrlKey","stopPropagation","createRef"],"mappings":"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","sourcesContent":["/**\n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the Commercial License found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _region = _interopRequireDefault(require(\"@inovua/reactdatagrid-community/packages/region\"));\n\nvar _ColumnLayout = _interopRequireDefault(require(\"@inovua/reactdatagrid-community/Layout/ColumnLayout\"));\n\nvar _DragRow = _interopRequireDefault(require(\"./plugins/row-reorder/DragRow\"));\n\nvar _DragRowArrow = _interopRequireDefault(require(\"./plugins/row-reorder/DragRowArrow\"));\n\nvar _ScrollingRegion = _interopRequireDefault(require(\"./plugins/row-reorder/ScrollingRegion\"));\n\nvar _getRangesForRows = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getRangesForRows\"));\n\nvar _setupRowDrag = _interopRequireDefault(require(\"./plugins/row-reorder/utils/setupRowDrag\"));\n\nvar _getDropRowIndex2 = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getDropRowIndex\"));\n\nvar _moveYAfterX = _interopRequireDefault(require(\"./plugins/row-reorder/utils/moveYAfterX\"));\n\nvar _dropIndexValidation = _interopRequireDefault(require(\"./plugins/row-reorder/utils/dropIndexValidation\"));\n\nvar _LockedRows = _interopRequireDefault(require(\"./plugins/locked-rows/LockedRows\"));\n\nvar _getRangesForGroups = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getRangesForGroups\"));\n\nvar _getRangesForTree = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getRangesForTree\"));\n\nvar _getDropGroup3 = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getDropGroup\"));\n\nvar _getDropParent3 = _interopRequireDefault(require(\"./plugins/row-reorder/utils/getDropParent\"));\n\nvar _updateTreeData = _interopRequireDefault(require(\"./plugins/tree/tree/updateTreeData\"));\n\nvar _getGlobal = require(\"@inovua/reactdatagrid-community/getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar DRAG_INFO = null;\nvar scrolling = false;\nvar SCROLL_MARGIN = 40;\nvar DRAG_ROW_MAX_HEIGHT = 100;\nvar raf = globalObject.requestAnimationFrame;\n\nvar identity = function identity(a) {\n  return a;\n};\n\nvar iterate = true;\n\nvar InovuaDataGridEnterpriseColumnLayout = function (_InovuaDataGridColumn) {\n  (0, _inherits2.default)(InovuaDataGridEnterpriseColumnLayout, _InovuaDataGridColumn);\n\n  var _super = _createSuper(InovuaDataGridEnterpriseColumnLayout);\n\n  function InovuaDataGridEnterpriseColumnLayout(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridEnterpriseColumnLayout);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dropIndex\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dragBoxInitialHeight\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dropRowHeight\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"validDropPositions\", []);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollTopRegionRef\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollBottomRegionRef\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dragRowArrow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"refDragRow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"refDragRowArrow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"dragRow\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"content\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"direction\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"gridScrollInterval\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderLockedEndRows\", function (computedProps) {\n      return _this.renderLockedRows(computedProps.computedLockedEndRows, 'end', computedProps);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderLockedStartRows\", function (computedProps) {\n      return _this.renderLockedRows(computedProps.computedLockedStartRows, 'start', computedProps);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderLockedRows\", function (rows, position, computedProps) {\n      if (!rows || !rows.length) {\n        return null;\n      }\n\n      return _react.default.createElement(_LockedRows.default, {\n        key: position,\n        rows: rows,\n        computedProps: computedProps,\n        position: position\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderDragRowArrow\", function () {\n      var props = _this.lastComputedProps;\n      var rowReorderArrowStyle = props.rowReorderArrowStyle;\n      return _react.default.createElement(_DragRowArrow.default, {\n        ref: _this.refDragRowArrow,\n        rowHeight: _this.dropRowHeight,\n        rowReorderArrowStyle: rowReorderArrowStyle\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderReorderRowProxy\", function (props) {\n      return _react.default.createElement(_DragRow.default, {\n        ref: _this.refDragRow,\n        renderRowReorderProxy: props && props.renderRowReorderProxy\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollingTopRegion\", function () {\n      return _react.default.createElement(_ScrollingRegion.default, {\n        ref: _this.scrollTopRegionRef,\n        dir: -1,\n        onMouseEnter: function onMouseEnter(event) {\n          return _this.onScrollingRegionMouseEnter(event, -1);\n        },\n        onMouseLeave: _this.onScrollingRegionMouseLeave\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollingBottomRegion\", function () {\n      return _react.default.createElement(_ScrollingRegion.default, {\n        ref: _this.scrollBottomRegionRef,\n        dir: 1,\n        onMouseEnter: function onMouseEnter(event) {\n          return _this.onScrollingRegionMouseEnter(event, 1);\n        },\n        onMouseLeave: _this.onScrollingRegionMouseLeave\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollingRegionMouseEnter\", function (event, dir) {\n      event.preventDefault();\n\n      if (DRAG_INFO && DRAG_INFO.dragging) {\n        scrolling = true;\n        var props = _this.lastComputedProps;\n        var rowReorderScrollByAmount = props.rowReorderScrollByAmount,\n            rowReorderAutoScrollSpeed = props.rowReorderAutoScrollSpeed;\n\n        if (scrolling && dir) {\n          globalObject.clearInterval(_this.gridScrollInterval);\n          _this.gridScrollInterval = globalObject.setInterval(function () {\n            return _this.startScrolling(rowReorderScrollByAmount, dir);\n          }, rowReorderAutoScrollSpeed);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"startScrolling\", function (rowReorderScrollByAmount, dir) {\n      var initialScrollTop = _this.getScrollTop();\n\n      var newScrollTop = initialScrollTop + dir * rowReorderScrollByAmount;\n      raf(function () {\n        _this.setScrollPosition(newScrollTop);\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setScrollPosition\", function (scrollTop) {\n      var scrollTopMax = _this.getScrollTopMax();\n\n      _this.setReorderArrowVisible(false);\n\n      if (scrollTop < 0) {\n        scrollTop = 0;\n      }\n\n      if (scrollTop > scrollTopMax) {\n        scrollTop = scrollTopMax;\n      }\n\n      _this.setScrollTop(scrollTop);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollingRegionMouseLeave\", function () {\n      scrolling = false;\n\n      _this.setReorderArrowVisible(true);\n\n      globalObject.clearInterval(_this.gridScrollInterval);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDragRowInstance\", function (dragIndex) {\n      var visibleRows = _this.getContentRows();\n\n      var dragRow = visibleRows.filter(function (row) {\n        if (!row) {\n          return;\n        }\n\n        return row.props.rowIndex === dragIndex;\n      })[0];\n      return dragRow;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onDragRowMouseDownHandle\", function (ev, index, cellNode) {\n      var dragIndex = index;\n      var props = _this.lastComputedProps;\n\n      if (!_this.onRowReorderValidation(ev, props, dragIndex)) {\n        return;\n      }\n\n      var computedFocused = props.computedFocused,\n          computedSetFocused = props.computedSetFocused,\n          setActiveIndex = props.setActiveIndex;\n\n      var _this$initDrag = _this.initDrag({\n        cellNode: cellNode\n      }),\n          contentRegion = _this$initDrag.contentRegion,\n          headerHeight = _this$initDrag.headerHeight,\n          cellRegion = _this$initDrag.cellRegion;\n\n      _this.dragRowArrow.setOffset(headerHeight);\n\n      if (!computedFocused) {\n        computedSetFocused(true);\n      }\n\n      setActiveIndex(index);\n\n      _this.setupDrag(ev, {\n        dragIndex: dragIndex,\n        contentRegion: contentRegion,\n        headerHeight: headerHeight,\n        cellRegion: cellRegion\n      }, props);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setupDrag\", function (event, _ref, props) {\n      var dragIndex = _ref.dragIndex,\n          contentRegion = _ref.contentRegion,\n          headerHeight = _ref.headerHeight,\n          cellRegion = _ref.cellRegion;\n\n      var _this$getDragBoxIniti = _this.getDragBoxInitialRegion({\n        dragIndex: dragIndex\n      }),\n          dragBoxInitialRegion = _this$getDragBoxIniti.dragBoxInitialRegion,\n          dragRowHeight = _this$getDragBoxIniti.dragRowHeight;\n\n      var _this$getDragProxy = _this.getDragProxy(props, {\n        dragIndex: dragIndex,\n        contentRegion: contentRegion,\n        cellRegion: cellRegion,\n        dragBoxInitialRegion: dragBoxInitialRegion\n      }),\n          dragProxy = _this$getDragProxy.dragProxy,\n          dragProxyPosition = _this$getDragProxy.dragProxyPosition,\n          dragBoxOffsets = _this$getDragProxy.dragBoxOffsets,\n          leftBoxOffset = _this$getDragProxy.leftBoxOffset;\n\n      _this.setScrollRegionVisibility();\n\n      dragProxy.setHeight(dragRowHeight);\n      dragProxy.setTop(dragProxyPosition.top);\n      dragProxy.setLeft(dragProxyPosition.left);\n\n      var initialScrollTop = _this.getScrollTop();\n\n      var _this$getRanges = _this.getRanges(props, {\n        initialScrollTop: initialScrollTop,\n        contentRegion: contentRegion,\n        dragBoxInitialRegion: dragBoxInitialRegion\n      }),\n          ranges = _this$getRanges.ranges,\n          selectedGroup = _this$getRanges.selectedGroup,\n          selectedParent = _this$getRanges.selectedParent;\n\n      DRAG_INFO = {\n        dragging: true,\n        dragIndex: dragIndex,\n        ranges: ranges,\n        selectedGroup: selectedGroup,\n        selectedParent: selectedParent,\n        contentRegion: contentRegion,\n        headerHeight: headerHeight,\n        dragBoxInitialRegion: dragBoxInitialRegion,\n        dragBoxRegion: dragBoxInitialRegion.clone(),\n        dragProxy: dragProxy,\n        dragBoxOffsets: dragBoxOffsets,\n        initialScrollTop: initialScrollTop,\n        leftBoxOffset: leftBoxOffset,\n        scrollTopMax: _this.getScrollTopMax()\n      };\n      iterate = true;\n\n      _this.setReorderArrowAt(dragIndex, ranges, 0);\n\n      (0, _setupRowDrag.default)(event, dragBoxInitialRegion, {\n        onDrag: function onDrag(event, config) {\n          return _this.onRowDrag(event, config, props);\n        },\n        onDrop: function onDrop(event, config) {\n          return _this.onRowDrop(event, config, props);\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowDrag\", function (_event, config, props) {\n      if (!DRAG_INFO) {\n        return;\n      }\n\n      var _DRAG_INFO = DRAG_INFO,\n          dragIndex = _DRAG_INFO.dragIndex,\n          dragBoxInitialRegion = _DRAG_INFO.dragBoxInitialRegion,\n          dragProxy = _DRAG_INFO.dragProxy,\n          dragBoxOffsets = _DRAG_INFO.dragBoxOffsets;\n\n      var _this$adjustScrollOnD = _this.adjustScrollOnDrag(props, config),\n          initialDiffTop = _this$adjustScrollOnD.initialDiffTop,\n          initialDiffLeft = _this$adjustScrollOnD.initialDiffLeft,\n          dragProxyAjust = _this$adjustScrollOnD.dragProxyAjust,\n          scrollDiff = _this$adjustScrollOnD.scrollDiff,\n          scrollTop = _this$adjustScrollOnD.scrollTop,\n          diffTop = _this$adjustScrollOnD.diffTop,\n          diffLeft = _this$adjustScrollOnD.diffLeft;\n\n      var _this$ajustDragProxy = _this.ajustDragProxy({\n        diffTop: diffTop,\n        diffLeft: diffLeft,\n        initialDiffTop: initialDiffTop,\n        initialDiffLeft: initialDiffLeft,\n        dragProxyAjust: dragProxyAjust\n      }),\n          dragProxyTop = _this$ajustDragProxy.dragProxyTop,\n          dragProxyLeft = _this$ajustDragProxy.dragProxyLeft;\n\n      dragProxy.setTop(dragProxyTop);\n      dragProxy.setLeft(dragProxyLeft);\n      dragProxy.setVisible(true);\n      var dropIndex = -1;\n      var dir = initialDiffTop > 0 ? 1 : -1;\n      _this.direction = dir;\n      var rowHeightManager = props.rowHeightManager,\n          computedGroupBy = props.computedGroupBy,\n          computedTreeEnabled = props.computedTreeEnabled,\n          silentSetData = props.silentSetData,\n          enableTreeRowReorderNestingChange = props.enableTreeRowReorderNestingChange;\n\n      if (computedGroupBy && computedGroupBy.length > 0) {\n        _this.getDropGroup();\n      }\n\n      if (computedTreeEnabled) {\n        _this.getDropParent();\n      }\n\n      var _getDropRowIndex = (0, _getDropRowIndex2.default)({\n        rowHeightManager: rowHeightManager,\n        dragBoxInitialRegion: dragBoxInitialRegion,\n        dragBoxOffsets: dragBoxOffsets,\n        initialDiffTop: initialDiffTop,\n        scrollTop: scrollTop,\n        dragIndex: dragIndex,\n        dir: dir\n      }),\n          newDropIndex = _getDropRowIndex.index;\n\n      if (newDropIndex !== -1) {\n        dropIndex = newDropIndex;\n      }\n\n      if (dropIndex === dragIndex && computedTreeEnabled && enableTreeRowReorderNestingChange) {\n        _this.computedNesting(props, dragProxyLeft, dragIndex, silentSetData);\n\n        return;\n      }\n\n      if (_this.dropIndex !== dropIndex) {\n        _this.getValidDropPositions(props, dragIndex, dropIndex);\n\n        _this.dragRowArrow.setValid(_this.validDropPositions[dropIndex]);\n      }\n\n      _this.dropIndex = dropIndex;\n      var rowHeight = rowHeightManager.getRowHeight(_this.dropIndex);\n\n      _this.dragRowArrow.setHeight(rowHeight);\n\n      if (dragIndex !== _this.dropIndex) {\n        var compareRanges = _this.compareRanges({\n          scrollDiff: scrollDiff\n        });\n\n        _this.setReorderArrowAt(_this.dropIndex, compareRanges, dir);\n      } else {\n        _this.setReorderArrowVisible(false);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowDrop\", function (_event, _config, props) {\n      var _assertThisInitialize = (0, _assertThisInitialized2.default)(_this),\n          dropIndex = _assertThisInitialize.dropIndex;\n\n      var onRowReorder = props.onRowReorder,\n          setActiveIndex = props.setActiveIndex,\n          computedGroupBy = props.computedGroupBy,\n          computedTreeEnabled = props.computedTreeEnabled,\n          generateIdFromPath = props.generateIdFromPath,\n          enableTreeRowReorderNestingChange = props.enableTreeRowReorderNestingChange;\n\n      if (dropIndex === -1 && computedTreeEnabled && enableTreeRowReorderNestingChange) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (dropIndex === undefined) {\n        _this.cancelDrop();\n\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      var _DRAG_INFO2 = DRAG_INFO,\n          dragIndex = _DRAG_INFO2.dragIndex;\n\n      if (dropIndex === dragIndex) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (!_this.validDropPositions[dropIndex]) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (computedGroupBy && computedGroupBy.length > 0) {\n        _this.updateGroups(props, dragIndex, dropIndex);\n\n        return;\n      }\n\n      if (computedTreeEnabled && generateIdFromPath) {\n        _this.updateTree(props, dragIndex, dropIndex);\n\n        return;\n      }\n\n      _this.clearDropInfo();\n\n      setActiveIndex(dropIndex);\n\n      if (onRowReorder && typeof onRowReorder === 'function') {\n        _this.onRowReorder(props, {\n          dragIndex: dragIndex,\n          dropIndex: dropIndex\n        });\n\n        return;\n      }\n\n      _this.updateDataSource(props, {\n        dropIndex: dropIndex,\n        dragIndex: dragIndex\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateDataSource\", function (props, _ref2) {\n      var dropIndex = _ref2.dropIndex,\n          dragIndex = _ref2.dragIndex;\n      var data = props.data,\n          setOriginalData = props.setOriginalData;\n\n      if (_this.validDropPositions[dropIndex]) {\n        var newDataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n        setOriginalData(newDataSource);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateTree\", function (props, dragIndex, dropIndex) {\n      var data = props.data,\n          silentSetData = props.silentSetData,\n          nodePathSeparator = props.nodePathSeparator,\n          onTreeRowReorderEnd = props.onTreeRowReorderEnd;\n      var _DRAG_INFO3 = DRAG_INFO,\n          selectedParent = _DRAG_INFO3.selectedParent,\n          dropParent = _DRAG_INFO3.dropParent;\n\n      if (_this.validDropPositions[dropIndex]) {\n        var _DRAG_INFO4 = DRAG_INFO,\n            dropDepth = _DRAG_INFO4.dropDepth;\n        var direction = _this.direction;\n        var dataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n\n        var newDataSource = _this.recomputeNodeProps(dataSource, direction, dropIndex, dropDepth, dropParent, nodePathSeparator);\n\n        (0, _updateTreeData.default)(props, {\n          selectedPath: selectedParent,\n          destinationPath: dropParent\n        });\n\n        if (onTreeRowReorderEnd) {\n          onTreeRowReorderEnd({\n            updatedTreeData: props.originalData\n          });\n        }\n\n        _this.clearDropInfo();\n\n        silentSetData(newDataSource);\n        props.reload();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateGroups\", function (props, dragIndex, dropIndex) {\n      var data = props.data,\n          silentSetData = props.silentSetData,\n          setItemOnReorderingGroups = props.setItemOnReorderingGroups;\n      var _DRAG_INFO5 = DRAG_INFO,\n          dropGroup = _DRAG_INFO5.dropGroup,\n          selectedGroup = _DRAG_INFO5.selectedGroup;\n\n      if (!selectedGroup.localeCompare(dropGroup)) {\n        var newDataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n        silentSetData(newDataSource);\n\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      if (dropGroup) {\n        var item = _this.computeItem(props);\n\n        setItemOnReorderingGroups(dragIndex, item, {\n          replace: false\n        });\n\n        var _newDataSource = (0, _moveYAfterX.default)(data, dragIndex, dropIndex);\n\n        silentSetData(_newDataSource);\n\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      _this.clearDropInfo();\n\n      return;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"recomputeNodeProps\", function (data, direction, dropIndex, dropDepth, destinationPath, pathSeparator) {\n      var parentNodeIdArr = destinationPath.split(pathSeparator);\n      parentNodeIdArr.splice(parentNodeIdArr.length - 1, 1);\n      var parentNodeId = parentNodeIdArr.join(pathSeparator);\n\n      if (direction < 0) {\n        data[dropIndex].__nodeProps.depth = dropDepth;\n        data[dropIndex].__nodeProps.parentNodeId = parentNodeId;\n      }\n\n      if (direction > 0) {\n        data[dropIndex].__nodeProps.depth = dropDepth;\n        data[dropIndex].__nodeProps.parentNodeId = parentNodeId;\n      }\n\n      return data;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"computedNesting\", function (props, dragProxyLeft, dragIndex, silentSetData) {\n      if (dragProxyLeft < -20) {\n        _this.updateNesting(-1, props, dragIndex, silentSetData);\n      } else if (dragProxyLeft > 80) {\n        _this.updateNesting(1, props, dragIndex, silentSetData);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateNesting\", function (dir, props, dragIndex, silentSetData) {\n      var originalData = props.originalData;\n      var data = props.data;\n      var idProperty = props.idProperty;\n      var pathSeparator = props.nodePathSeparator;\n      var nodesName = props.nodesProperty;\n      var generateIdFromPath = props.generateIdFromPath;\n      var dataSource = (0, _toConsumableArray2.default)(data);\n      var _DRAG_INFO6 = DRAG_INFO,\n          selectedPath = _DRAG_INFO6.selectedParent;\n      var depth = dataSource[dragIndex].__nodeProps.depth + dir;\n\n      var computeNesting = function computeNesting(dataArray) {\n        var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var parentNode = arguments.length > 2 ? arguments[2] : undefined;\n\n        if (iterate) {\n          for (var i = 0; i < dataArray.length; i++) {\n            var item = dataArray[i];\n\n            if (!item) {\n              continue;\n            }\n\n            var itemId = \"\".concat(item[idProperty]);\n            var itemNodes = item[nodesName];\n            var parentNodeId = parentNode ? \"\".concat(parentNode[idProperty]) : undefined;\n            var path = parentNode ? \"\".concat(parentNodeId).concat(pathSeparator).concat(itemId) : \"\".concat(itemId);\n\n            if (generateIdFromPath) {\n              item[idProperty] = path;\n            }\n\n            if (parentNode === undefined) {\n              result.push(item);\n            } else {\n              if (path === selectedPath) {\n                if (depth < 0) {\n                  _this.clearDropInfo();\n\n                  break;\n                }\n\n                var parentNodes = parentNode[nodesName];\n                var extraNodeProps = identity({\n                  depth: depth\n                });\n\n                var itemWithExtraProps = _objectSpread(_objectSpread({}, item), {}, {\n                  __extraNodeProps: extraNodeProps\n                });\n\n                parentNodes[i] = itemWithExtraProps;\n                iterate = false;\n                break;\n              }\n            }\n\n            if (Array.isArray(itemNodes)) {\n              computeNesting(itemNodes, result, item);\n            }\n          }\n        }\n\n        return result;\n      };\n\n      var computeIds = function computeIds(dataArray) {\n        for (var i = 0; i < dataArray.length; i++) {\n          var item = dataArray[i];\n\n          if (!item) {\n            continue;\n          }\n\n          var itemNodes = item[nodesName];\n          item[idProperty] = i + 1;\n\n          if (Array.isArray(itemNodes)) {\n            computeIds(itemNodes);\n          }\n        }\n      };\n\n      var newOriginalData = computeNesting(originalData);\n      computeIds(newOriginalData);\n\n      if (depth < 0) {\n        _this.clearDropInfo();\n\n        return;\n      }\n\n      dataSource[dragIndex].__nodeProps.depth = depth;\n\n      _this.clearDropInfo();\n\n      silentSetData(dataSource);\n      return;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"computeItem\", function (props) {\n      var groupBy = props.computedGroupBy;\n      var _DRAG_INFO7 = DRAG_INFO,\n          dropKeyPath = _DRAG_INFO7.dropKeyPath;\n\n      if (!dropKeyPath) {\n        return {};\n      }\n\n      var item = {};\n\n      for (var i = 0; i < groupBy.length; i++) {\n        item[groupBy[i]] = dropKeyPath[i];\n      }\n\n      return item;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"initDrag\", function (_ref3) {\n      var cellNode = _ref3.cellNode;\n\n      var contentNode = _this.content.getDOMNode();\n\n      var headerNode = _this.headerLayout ? _this.headerLayout.headerDomNode.current : null;\n\n      var contentRegion = _region.default.from(contentNode);\n\n      var headerRegion = _region.default.from(headerNode);\n\n      var headerHeight = headerRegion.getHeight();\n      var node = cellNode && cellNode.current;\n\n      var cellRegion = _region.default.from(node);\n\n      return {\n        contentRegion: contentRegion,\n        headerHeight: headerHeight,\n        cellRegion: cellRegion\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDropGroup\", function () {\n      var _DRAG_INFO8 = DRAG_INFO,\n          ranges = _DRAG_INFO8.ranges,\n          dragBoxRegion = _DRAG_INFO8.dragBoxRegion;\n\n      var _getDropGroup = (0, _getDropGroup3.default)({\n        ranges: ranges,\n        dragBoxRegion: dragBoxRegion\n      }),\n          dropGroup = _getDropGroup.dropGroup,\n          dropKeyPath = _getDropGroup.keyPath;\n\n      DRAG_INFO = Object.assign({}, DRAG_INFO, {\n        dropGroup: dropGroup,\n        dropKeyPath: dropKeyPath\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDropParent\", function () {\n      var _DRAG_INFO9 = DRAG_INFO,\n          ranges = _DRAG_INFO9.ranges,\n          dragBoxRegion = _DRAG_INFO9.dragBoxRegion;\n\n      var _getDropParent = (0, _getDropParent3.default)({\n        ranges: ranges,\n        dragBoxRegion: dragBoxRegion\n      }),\n          dropParent = _getDropParent.dropParent,\n          dropDepth = _getDropParent.dropDepth;\n\n      DRAG_INFO = Object.assign({}, DRAG_INFO, {\n        dropParent: dropParent,\n        dropDepth: dropDepth\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowReorder\", function (props, _ref4) {\n      var dragIndex = _ref4.dragIndex,\n          dropIndex = _ref4.dropIndex;\n      var data = props.data,\n          onRowReorder = props.onRowReorder;\n      var rowData = data[dragIndex];\n      onRowReorder({\n        data: rowData,\n        dragRowIndex: dragIndex,\n        insertRowIndex: dropIndex\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDragProxy\", function (props, _ref5) {\n      var dragIndex = _ref5.dragIndex,\n          contentRegion = _ref5.contentRegion,\n          cellRegion = _ref5.cellRegion,\n          dragBoxInitialRegion = _ref5.dragBoxInitialRegion;\n      var dragProxy = _this.dragRow ? _this.dragRow : undefined;\n      dragProxy.setDragIndex(dragIndex);\n      dragProxy.setProps(props);\n      var dragBoxOffsets = {\n        top: contentRegion.top,\n        left: contentRegion.left\n      };\n      var leftBoxOffset = cellRegion.left - dragBoxOffsets.left;\n\n      _this.dragRowArrow.setLeft(leftBoxOffset);\n\n      var dragProxyPosition = {\n        top: dragBoxInitialRegion.top - dragBoxOffsets.top,\n        left: dragBoxInitialRegion.left - dragBoxOffsets.left\n      };\n      return {\n        dragProxy: dragProxy,\n        dragProxyPosition: dragProxyPosition,\n        dragBoxOffsets: dragBoxOffsets,\n        leftBoxOffset: leftBoxOffset\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getDragBoxInitialRegion\", function (_ref6) {\n      var dragIndex = _ref6.dragIndex;\n\n      var dragBox = _this.getDragRowInstance(dragIndex);\n\n      var dragBoxNode = dragBox.domRef ? dragBox.domRef.current : null;\n      var dragBoxInitialRegion;\n\n      if (dragBox) {\n        dragBoxInitialRegion = _region.default.from(dragBoxNode);\n      }\n\n      _this.dragBoxInitialHeight = dragBoxInitialRegion && dragBoxInitialRegion.getHeight();\n\n      if (DRAG_ROW_MAX_HEIGHT && dragBoxInitialRegion && dragBoxInitialRegion.getHeight() > DRAG_ROW_MAX_HEIGHT) {\n        dragBoxInitialRegion.setHeight(DRAG_ROW_MAX_HEIGHT);\n        dragBoxInitialRegion.shift({\n          top: _this.dragBoxInitialHeight / 2 - DRAG_ROW_MAX_HEIGHT / 2\n        });\n      }\n\n      var dragRowHeight = dragBoxInitialRegion.getHeight();\n      return {\n        dragBoxInitialRegion: dragBoxInitialRegion,\n        dragRowHeight: dragRowHeight\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setScrollRegionVisibility\", function () {\n      if (_this.scrollTopRegionRef.current) {\n        _this.scrollTopRegionRef.current.setVisible(true);\n\n        var height = _this.headerLayout && _this.headerLayout.headerNode.offsetHeight;\n\n        _this.scrollTopRegionRef.current.setHeight(height);\n      }\n\n      if (_this.scrollBottomRegionRef.current) {\n        _this.scrollBottomRegionRef.current.setVisible(true);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRanges\", function (props, _ref7) {\n      var initialScrollTop = _ref7.initialScrollTop,\n          contentRegion = _ref7.contentRegion,\n          dragBoxInitialRegion = _ref7.dragBoxInitialRegion;\n      var count = props.count,\n          rowHeightManager = props.rowHeightManager,\n          data = props.data,\n          computedGroupBy = props.computedGroupBy,\n          computedTreeEnabled = props.computedTreeEnabled,\n          generateIdFromPath = props.generateIdFromPath;\n      var ranges = [];\n      var selectedGroup;\n      var selectedParent = '';\n\n      if (computedGroupBy && computedGroupBy.length > 0) {\n        ranges = (0, _getRangesForGroups.default)({\n          data: data,\n          initialOffset: contentRegion.top,\n          rowHeightManager: rowHeightManager,\n          initialScrollTop: initialScrollTop\n        });\n\n        var _getDropGroup2 = (0, _getDropGroup3.default)({\n          ranges: ranges,\n          dragBoxRegion: dragBoxInitialRegion\n        }),\n            dropGroup = _getDropGroup2.dropGroup;\n\n        selectedGroup = dropGroup;\n      } else if (computedTreeEnabled && generateIdFromPath) {\n        ranges = (0, _getRangesForTree.default)({\n          data: data,\n          initialOffset: contentRegion.top,\n          rowHeightManager: rowHeightManager,\n          initialScrollTop: initialScrollTop\n        });\n\n        var _getDropParent2 = (0, _getDropParent3.default)({\n          ranges: ranges,\n          dragBoxRegion: dragBoxInitialRegion\n        }),\n            dropParent = _getDropParent2.dropParent;\n\n        selectedParent = dropParent;\n      } else {\n        ranges = (0, _getRangesForRows.default)({\n          count: count,\n          initialOffset: contentRegion.top,\n          rowHeightManager: rowHeightManager,\n          initialScrollTop: initialScrollTop\n        });\n      }\n\n      return {\n        ranges: ranges,\n        selectedGroup: selectedGroup,\n        selectedParent: selectedParent\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"compareRanges\", function (_ref8) {\n      var scrollDiff = _ref8.scrollDiff;\n      var _DRAG_INFO10 = DRAG_INFO,\n          ranges = _DRAG_INFO10.ranges;\n\n      var mapRange = function mapRange(r) {\n        if (!r) {\n          return null;\n        }\n\n        if (r && r.group) {\n          return null;\n        } else {\n          return _objectSpread(_objectSpread({}, r), {}, {\n            top: r.top - scrollDiff,\n            bottom: r.bottom - scrollDiff\n          });\n        }\n      };\n\n      return ranges.map(mapRange);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"ajustDragProxy\", function (_ref9) {\n      var diffTop = _ref9.diffTop,\n          diffLeft = _ref9.diffLeft,\n          initialDiffTop = _ref9.initialDiffTop,\n          initialDiffLeft = _ref9.initialDiffLeft,\n          dragProxyAjust = _ref9.dragProxyAjust;\n      var _DRAG_INFO11 = DRAG_INFO,\n          dragBoxRegion = _DRAG_INFO11.dragBoxRegion,\n          dragBoxInitialRegion = _DRAG_INFO11.dragBoxInitialRegion,\n          dragBoxOffsets = _DRAG_INFO11.dragBoxOffsets,\n          headerHeight = _DRAG_INFO11.headerHeight,\n          leftBoxOffset = _DRAG_INFO11.leftBoxOffset;\n      dragBoxRegion.set({\n        top: dragBoxInitialRegion.top,\n        bottom: dragBoxInitialRegion.bottom,\n        left: dragBoxInitialRegion.left,\n        right: dragBoxInitialRegion.right\n      });\n      dragBoxRegion.shift({\n        top: diffTop,\n        left: diffLeft\n      });\n      var dragProxyTop = dragBoxInitialRegion.top - dragBoxOffsets.top + initialDiffTop - dragProxyAjust + headerHeight;\n      var dragProxyLeft = dragBoxInitialRegion.left - dragBoxOffsets.left + initialDiffLeft + leftBoxOffset;\n      return {\n        dragProxyTop: dragProxyTop,\n        dragProxyLeft: dragProxyLeft\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getValidDropPositions\", function (props, dragIndex, dropIndex) {\n      var computedGroupBy = props.computedGroupBy,\n          data = props.data,\n          count = props.count,\n          isRowReorderValid = props.isRowReorderValid,\n          allowRowReoderBetweenGroups = props.allowRowReoderBetweenGroups,\n          computedTreeEnabled = props.computedTreeEnabled,\n          enableTreeRowReorderParentChange = props.enableTreeRowReorderParentChange,\n          nodePathSeparator = props.nodePathSeparator,\n          groupPathSeparator = props.groupPathSeparator,\n          generateIdFromPath = props.generateIdFromPath;\n      var _DRAG_INFO12 = DRAG_INFO,\n          selectedGroup = _DRAG_INFO12.selectedGroup,\n          selectedParent = _DRAG_INFO12.selectedParent;\n      var validDropPositions = (0, _dropIndexValidation.default)({\n        data: data,\n        count: count,\n        dragIndex: dragIndex,\n        dropIndex: dropIndex,\n        isRowReorderValid: isRowReorderValid,\n        selectedGroup: selectedGroup,\n        selectedParent: selectedParent,\n        nodePathSeparator: nodePathSeparator,\n        groupPathSeparator: groupPathSeparator,\n        allowRowReoderBetweenGroups: allowRowReoderBetweenGroups,\n        computedGroupBy: computedGroupBy,\n        computedTreeEnabled: computedTreeEnabled,\n        generateIdFromPath: generateIdFromPath,\n        enableTreeRowReorderParentChange: enableTreeRowReorderParentChange\n      });\n      _this.validDropPositions = validDropPositions;\n      return validDropPositions;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"clearDropInfo\", function () {\n      globalObject.clearInterval(_this.gridScrollInterval);\n      _this.dragBoxInitialHeight = 0;\n\n      _this.setReorderArrowVisible(false);\n\n      if (!DRAG_INFO) {\n        return;\n      }\n\n      var _DRAG_INFO13 = DRAG_INFO,\n          dragProxy = _DRAG_INFO13.dragProxy;\n      _this.dropIndex = -1;\n      dragProxy.setVisible(false);\n      DRAG_INFO = null;\n\n      if (_this.scrollTopRegionRef.current) {\n        _this.scrollTopRegionRef.current.setVisible(false);\n      }\n\n      if (_this.scrollBottomRegionRef.current) {\n        _this.scrollBottomRegionRef.current.setVisible(false);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cancelDrop\", function () {\n      if (DRAG_INFO) {\n        DRAG_INFO.dragProxy.setVisible(false);\n      }\n\n      _this.setReorderArrowVisible(false);\n\n      DRAG_INFO = null;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"adjustScrollOnDrag\", function (props, config) {\n      var rowReorderScrollByAmount = props.rowReorderScrollByAmount;\n      var _DRAG_INFO14 = DRAG_INFO,\n          contentRegion = _DRAG_INFO14.contentRegion,\n          scrollTopMax = _DRAG_INFO14.scrollTopMax,\n          dragBoxInitialRegion = _DRAG_INFO14.dragBoxInitialRegion,\n          initialScrollTop = _DRAG_INFO14.initialScrollTop;\n      var diffTop = config.diff.top;\n      var diffLeft = config.diff.left;\n      var minScrollTop = Math.max(contentRegion.top, 0);\n      var maxScrollTop = contentRegion.bottom;\n\n      var scrollTop = _this.getScrollTop();\n\n      var scrollDiff = scrollTop - initialScrollTop;\n      var initialDiffTop = diffTop;\n      var initialDiffLeft = diffLeft;\n      diffTop += scrollDiff;\n      var scrollAjust = 0;\n      var dragProxyAjust = 0;\n\n      if (dragBoxInitialRegion.top + initialDiffTop < minScrollTop + SCROLL_MARGIN && initialDiffTop < 0) {\n        scrollAjust = -rowReorderScrollByAmount;\n      } else if (dragBoxInitialRegion.top + initialDiffTop > maxScrollTop - SCROLL_MARGIN && initialDiffTop > 0) {\n        scrollAjust = rowReorderScrollByAmount;\n      }\n\n      if (scrollAjust) {\n        if (scrollTop + scrollAjust < 0) {\n          scrollAjust = -scrollTop;\n        }\n\n        if (scrollTop + scrollAjust > scrollTopMax) {\n          scrollAjust = scrollTopMax - scrollTop;\n        }\n\n        if (scrollAjust) {\n          if (!props.rowReorderAutoScroll) {\n            _this.setScrollTop(scrollTop + scrollAjust);\n          }\n\n          dragProxyAjust = scrollAjust;\n        }\n      }\n\n      return {\n        initialDiffTop: initialDiffTop,\n        initialDiffLeft: initialDiffLeft,\n        dragProxyAjust: dragProxyAjust,\n        scrollDiff: scrollDiff,\n        scrollTop: scrollTop,\n        diffTop: diffTop,\n        diffLeft: diffLeft\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setReorderArrowAt\", function (index, ranges, direction, visible) {\n      visible = visible !== undefined ? visible : index !== DRAG_INFO.dragIndex;\n\n      if (!scrolling) {\n        _this.setReorderArrowVisible(visible);\n      }\n\n      var box = ranges[index];\n\n      if (!box) {\n        return;\n      }\n\n      if (box.group) {\n        return;\n      }\n\n      var _DRAG_INFO15 = DRAG_INFO,\n          contentRegion = _DRAG_INFO15.contentRegion;\n      var boxPos;\n      var dragRowArrowHeight = _this.dragRowArrow.props.rowReorderArrowStyle ? _this.dragRowArrow.props.rowReorderArrowStyle.height : 3;\n\n      if (!Number.isInteger(dragRowArrowHeight)) {\n        dragRowArrowHeight = 3;\n      }\n\n      var boxSide = box.bottom;\n\n      if (direction < 0) {\n        boxSide = box.top;\n      } else if (direction > 0) {\n        boxSide = box.bottom;\n      }\n\n      if (index === 0) {\n        boxPos = box.top;\n      } else if (index === ranges.length - 1) {\n        var lastBox = ranges[ranges.length - 1];\n        boxPos = lastBox.bottom - Math.floor(dragRowArrowHeight);\n      } else {\n        boxPos = boxSide - Math.floor(dragRowArrowHeight / 2);\n      }\n\n      var arrowPosition = boxPos - contentRegion.top;\n      return _this.setReorderArrowPosition(arrowPosition);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setReorderArrowPosition\", function (top) {\n      _this.dragRowArrow.setTop(top);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setReorderArrowVisible\", function (visible) {\n      _this.dragRowArrow.setVisible(visible);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowReorderValidation\", function (ev, props, dragIndex) {\n      if (ev.isDefaultPrevented && ev.isDefaultPrevented() || ev.defaultPrevented) {\n        return false;\n      }\n\n      var onRowReorder = props.onRowReorder,\n          rowReorderColumn = props.rowReorderColumn,\n          computedPagination = props.computedPagination,\n          computedSortInfo = props.computedSortInfo,\n          computedFiltered = props.computedFiltered,\n          dataSource = props.dataSource,\n          data = props.data,\n          computedPivot = props.computedPivot,\n          computedTreeEnabled = props.computedTreeEnabled,\n          enableTreeRowReorder = props.enableTreeRowReorder,\n          generateIdFromPath = props.generateIdFromPath;\n      var isNotRowReorder = false;\n\n      if (!onRowReorder && (typeof onRowReorder !== 'function' || typeof onRowReorder !== 'boolean')) {\n        if (!rowReorderColumn) {\n          isNotRowReorder = true;\n        }\n      }\n\n      if (computedTreeEnabled && !enableTreeRowReorder) {\n        isNotRowReorder = true;\n      }\n\n      if (computedTreeEnabled && !generateIdFromPath) {\n        isNotRowReorder = true;\n      }\n\n      if (isNotRowReorder) {\n        return false;\n      }\n\n      if ((ev.nativeEvent ? ev.nativeEvent.which === 3 : ev.which === 3) || ev.metaKey || ev.ctrlKey) {\n        return false;\n      }\n\n      if (computedPagination || computedSortInfo || computedFiltered || typeof dataSource === 'function' || computedPivot && computedPivot.length > 0) {\n        if (typeof onRowReorder !== 'function') {\n          return false;\n        }\n      }\n\n      var dragRow;\n      dragRow = data[dragIndex];\n\n      if (!dragRow) {\n        ev === null || ev === void 0 ? void 0 : ev.stopPropagation();\n        return false;\n      }\n\n      return true;\n    });\n\n    _this.refDragRow = function (row) {\n      _this.dragRow = row;\n    };\n\n    _this.refDragRowArrow = function (dragRow) {\n      _this.dragRowArrow = dragRow;\n    };\n\n    _this.scrollTopRegionRef = (0, _react.createRef)();\n    _this.scrollBottomRegionRef = (0, _react.createRef)();\n    return _this;\n  }\n\n  return (0, _createClass2.default)(InovuaDataGridEnterpriseColumnLayout);\n}(_ColumnLayout.default);\n\nexports.default = InovuaDataGridEnterpriseColumnLayout;"]},"metadata":{},"sourceType":"script"}