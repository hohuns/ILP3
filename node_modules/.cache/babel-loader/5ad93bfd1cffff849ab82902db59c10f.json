{"ast":null,"code":"/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof3 = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.REMAINING_ITEMS = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _NotifyResize = require(\"../../NotifyResize\");\n\nvar _throttle = _interopRequireDefault(require(\"../../../common/throttle\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nvar _TextInput = _interopRequireDefault(require(\"./TextInput\"));\n\nvar _Value = _interopRequireDefault(require(\"./Value\"));\n\nvar _ClearButton = _interopRequireDefault(require(\"./ClearButton\"));\n\nvar _ToggleButton = _interopRequireDefault(require(\"./ToggleButton\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _Icons = require(\"./Icons\");\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"./utils/shouldComponentUpdate\"));\n\nvar _getRootClassName = _interopRequireDefault(require(\"./utils/getRootClassName\"));\n\nvar _getListProps2 = _interopRequireDefault(require(\"./utils/getListProps\"));\n\nvar _getValueProps2 = _interopRequireDefault(require(\"./utils/getValueProps\"));\n\nvar _getDataProp = _interopRequireDefault(require(\"./utils/getDataProp\"));\n\nvar _getNewMultipleValue = _interopRequireDefault(require(\"./utils/getNewMultipleValue\"));\n\nvar _getNewSingleValue = _interopRequireDefault(require(\"./utils/getNewSingleValue\"));\n\nvar _findItemIndex = _interopRequireDefault(require(\"./utils/findItemIndex\"));\n\nvar _filterByValue = _interopRequireDefault(require(\"./utils/filterByValue\"));\n\nvar _filterByText = _interopRequireDefault(require(\"./utils/filterByText\"));\n\nvar _deselectValue = _interopRequireDefault(require(\"./utils/deselectValue\"));\n\nvar _getNewActiveTagOnRemove = _interopRequireDefault(require(\"./utils/getNewActiveTagOnRemove\"));\n\nvar _getNextItem = _interopRequireDefault(require(\"./utils/getNextItem\"));\n\nvar _groupItems = _interopRequireDefault(require(\"./utils/groupItems\"));\n\nvar _getValueMap = _interopRequireDefault(require(\"./utils/getValueMap\"));\n\nvar _getGroups = _interopRequireDefault(require(\"./utils/getGroups\"));\n\nvar _PaginationToolbar = require(\"../../PaginationToolbar\");\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar REMAINING_ITEMS = 'REMAINING_ITEMS';\nexports.REMAINING_ITEMS = REMAINING_ITEMS;\nvar emptyObject = {};\n\nvar InovuaComboBox = function (_Component) {\n  (0, _inherits2.default)(InovuaComboBox, _Component);\n\n  var _super = _createSuper(InovuaComboBox);\n\n  function InovuaComboBox(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaComboBox);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidUpdate\", function (prevProps) {\n      if (_this.isExpandedControlled() && _this.props.expanded !== prevProps.expanded) {\n        _this.onExpand();\n      }\n\n      if (prevProps.dataSource !== _this.props.dataSource) {\n        _this.loadDataSource(_this.props.dataSource, _this.props);\n      }\n\n      if (_this.props.idProperty !== prevProps.idProperty) {\n        _this.updateGetIdProperty(_this.props);\n      }\n\n      if (_this.props.displayProperty !== prevProps.displayProperty) {\n        _this.updateGetDisplayProperty(_this.props);\n      }\n\n      if (_this.props.filterProperty !== prevProps.filterProperty) {\n        _this.updateGetFilterProperty(_this.props);\n      }\n\n      if (_this.props.groupProperty !== prevProps.groupProperty) {\n        _this.updateGroups({\n          groupProperty: _this.props.groupProperty\n        });\n      }\n\n      if (_this.isTextControled() && _this.props.text !== prevProps.text) {\n        _this.onTextUpdate(_this.props.text);\n      }\n\n      if (_this.isActiveItemControlled() && prevProps.changeValueOnNavigation && !prevProps.multiple && prevProps.activeItem !== _this.props.activeItem) {\n        _this.setValue(_this.props.activeItem, {\n          action: 'navigate'\n        });\n      }\n\n      if (_this.isExpandedControlled() && !prevProps.expanded && _this.props.expanded) {\n        _this.loadLazyDataSource({\n          action: 'expand',\n          text: ''\n        });\n      }\n    });\n\n    _this.refTools = function (tools) {\n      _this.toolsNode = tools;\n    };\n\n    _this.state = {\n      loading: props.defaultLoading || !!(props.dataSource && props.dataSource.then),\n      value: props.defaultValue,\n      valueMap: {},\n      text: props.defaultText,\n      activeTag: props.defaultActiveTag,\n      activeItem: props.defaultActiveItem || !props.multiple && props.defaultValue,\n      expanded: props.defaultExpanded,\n      toolsSize: {\n        width: 0,\n        height: 0\n      },\n      over: false,\n      focus: false\n    };\n    _this.getData = _this.getData.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleItemClick = _this.handleItemClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextChange = _this.handleTextChange.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextInputClick = _this.handleTextInputClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTagClick = _this.handleTagClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveTag = _this.handleRemoveTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboClick = _this.handleComboClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboKeyDown = _this.handleComboKeyDown.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboFocus = _this.handleComboFocus.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboBlur = _this.handleComboBlur.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getComboNode = _this.getComboNode.bind((0, _assertThisInitialized2.default)(_this));\n    _this.clear = _this.clear.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseEnter = _this.handleMouseEnter.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseLeave = _this.handleMouseLeave.bind((0, _assertThisInitialized2.default)(_this));\n    _this.toggleExpand = _this.toggleExpand.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleToolsSize = _this.handleToolsSize.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveMultipleTag = _this.handleRemoveMultipleTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleListScrollBottom = _this.handleListScrollBottom.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleDelete = _this.handleDelete.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getListNode = _this.getListNode.bind((0, _assertThisInitialized2.default)(_this));\n\n    _this.updateGetIdProperty();\n\n    _this.updateGetDisplayProperty();\n\n    _this.updateGetFilterProperty();\n\n    _this.addTextInputRef = function (ref) {\n      _this.textInput = ref;\n    };\n\n    _this.addRootRef = function (ref) {\n      _this.comboNode = ref;\n    };\n\n    _this.addListRef = function (ref) {\n      _this.listNode = ref;\n    };\n\n    _this.setActiveItem = (0, _throttle.default)(_this.setActiveItem, 16);\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaComboBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoFocus) {\n        this.focus();\n      }\n\n      if (this.state.activeItem && this.state.activeItemIndex == null) {\n        this.setState({\n          activeItemIndex: this.getItemIndexById(this.state.activeItem)\n        });\n      }\n\n      if (!this.isRemoteFilter()) {\n        this.doFilter();\n      }\n\n      if (!this.props.lazyDataSource) {\n        this.loadDataSource(this.props.dataSource);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n          state = this.state;\n      var textInput = this.renderTextInput();\n      var className = (0, _getRootClassName.default)({\n        props: props,\n        state: state,\n        computed: {\n          value: this.getValue()\n        }\n      });\n      var expanded = this.getExpanded();\n      var items = this.getSelectedItems();\n      var groupedItems = this.groupedItems = this.getGroupedItems(this.getSelectedItems());\n      this.areItemsGrouped = this.groupedItems && this.groupedItems.remainingItems && this.groupedItems.remainingItems.length;\n      var style = this.getRootStyle();\n      var filteredData = this.getFilteredData();\n      var text = this.getText();\n      this.isNewCustomTagValid = (!filteredData || filteredData.length === 0) && !!text && props.allowCustomTagCreation;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, InovuaComboBox.propTypes)), {}, {\n        onClick: this.handleComboClick,\n        onMouseDown: this.handleComboMouseDown,\n        onKeyDown: this.handleComboKeyDown,\n        onFocus: this.handleComboFocus,\n        onBlur: this.handleComboBlur,\n        className: className,\n        style: style,\n        ref: this.addRootRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave\n      }), _react.default.createElement(_Value.default, _objectSpread(_objectSpread({}, this.getValueProps({\n        items: items,\n        groupedItems: groupedItems\n      })), {}, {\n        textInput: textInput,\n        toolsSize: state.toolsSize\n      })), _react.default.createElement(\"div\", {\n        className: \"\".concat(props.rootClassName, \"__tools\"),\n        ref: this.refTools\n      }, this.renderSpinner(), this.renderClearIcon(), this.renderToggleIcon(), this.props.tagEllipsis && _react.default.createElement(_NotifyResize.NotifyResize, {\n        notifyOnMount: true,\n        onResize: this.handleToolsSize\n      })), expanded && this.renderList());\n    }\n  }, {\n    key: \"getRootStyle\",\n    value: function getRootStyle() {\n      var props = this.props,\n          state = this.state;\n\n      var style = _objectSpread({}, props.style);\n\n      if (props.borderRadius) {\n        style.borderRadius = props.borderRadius;\n      }\n\n      if (props.padding) {\n        style.padding = props.padding;\n      }\n\n      if (props.border) {\n        style.border = props.border;\n      }\n\n      if (props.background) {\n        style.background = props.background;\n      }\n\n      if (!this.getValue() && props.emptyStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.emptyStyle);\n      }\n\n      if (props.disabledStyle && props.disabled) {\n        style = _objectSpread(_objectSpread({}, style), props.disabledStyle);\n      }\n\n      if (state.focus && props.focusedStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.focusedStyle);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var listProps = this.getListProps();\n      var result;\n\n      if (typeof this.props.renderList === 'function') {\n        result = this.props.renderList({\n          domProps: listProps,\n          items: this.getFilteredData()\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(_List.default, _objectSpread({}, listProps));\n      }\n\n      if (typeof this.props.renderListComponent === 'function') {\n        var res = this.props.renderListComponent(result);\n\n        if ((0, _typeof2.default)(res) !== undefined) {\n          return res;\n        }\n\n        result = res;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderClearIcon\",\n    value: function renderClearIcon() {\n      var props = this.props,\n          state = this.state;\n      var searchable = props.searchable;\n      var text = this.getText();\n      var value = this.getValue();\n      var showClearIcon = (text || value != null) && props.clearIcon;\n\n      if (props.showClearIconOnMouseOver) {\n        if (!state.over) {\n          showClearIcon = false;\n        }\n      }\n\n      if (searchable === false) {\n        showClearIcon = false;\n      }\n\n      if (!showClearIcon) {\n        return null;\n      }\n\n      var clearButton = _react.default.createElement(_ClearButton.default, {\n        onClear: this.clear,\n        closeIcon: props.clearIcon,\n        className: \"\".concat(props.rootClassName, \"__clear-icon\")\n      });\n\n      return clearButton;\n    }\n  }, {\n    key: \"renderToggleIcon\",\n    value: function renderToggleIcon() {\n      var props = this.props;\n\n      if (!props.toggleIcon) {\n        return null;\n      }\n\n      return _react.default.createElement(_ToggleButton.default, {\n        onToggle: this.toggleExpand,\n        className: \"\".concat(props.rootClassName, \"__toggle-icon\"),\n        toggleIcon: props.toggleIcon,\n        expanded: this.getExpanded()\n      });\n    }\n  }, {\n    key: \"renderTextInput\",\n    value: function renderTextInput() {\n      if (this.props.disabled) {\n        return null;\n      }\n\n      var text = this.getText();\n      var value = text;\n\n      if (!this.props.multiple) {\n        if (text == null) {\n          value = this.getValue() == null ? '' : this.getItemLabel();\n        } else {\n          value = text;\n        }\n      }\n\n      var data = this.getFilteredData();\n      var suggestion = null;\n\n      if (this.props.minAutocompleteLength <= (value && value.length) && data && data[0]) {\n        suggestion = this.getDisplayProperty(data[0]);\n      }\n\n      var inputProps = {\n        key: 'text_input',\n        value: value,\n        theme: this.props.theme,\n        suggestion: suggestion,\n        placeholder: this.props.placeholder,\n        rootClassName: \"\".concat(this.props.rootClassName, \"__input\"),\n        className: this.props.inputClassName,\n        style: this.props.inputStyle,\n        onChange: this.handleTextChange,\n        ref: this.addTextInputRef,\n        onClick: this.handleTextInputClick,\n        throttle: this.props.filterDelay,\n        autocomplete: this.props.autocomplete,\n        tabIndex: this.props.tabIndex,\n        autocompleteDelay: this.props.autocompleteDelay,\n        searchable: this.props.searchable\n      };\n      var result;\n\n      if (typeof this.props.renderInput === 'function') {\n        result = this.props.renderInput({\n          text: text,\n          domProps: inputProps,\n          onChange: inputProps.onChange\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(_TextInput.default, _objectSpread({}, inputProps));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderSpinner\",\n    value: function renderSpinner() {\n      if (!this.props.loadingSpinner) {\n        return null;\n      }\n\n      var loading = this.getLoading();\n\n      if (!loading && !this.getExpanded()) {\n        return null;\n      }\n\n      var spinner = this.props.loadingSpinner === true ? _react.default.createElement(_Icons.LoadingIcon, {\n        className: \"\".concat(this.props.rootClassName, \"__loading-spinner\")\n      }) : this.props.loadingSpinner;\n      return loading ? spinner : (0, _react.cloneElement)(spinner, {\n        style: spinner.props.style ? _objectSpread(_objectSpread({}, spinner.props.style), {}, {\n          display: 'none'\n        }) : {\n          display: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"getListProps\",\n    value: function getListProps() {\n      var props = this.props,\n          state = this.state;\n      var data = this.getFilteredData();\n      var groupsLength = this.state.groups && Object.keys(this.state.groups).length || 0;\n      var listProps = (0, _getListProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          data: data,\n          loading: this.getLoading(),\n          activeItem: this.getActiveItem(),\n          value: this.getValue(),\n          dataLength: data && data.length + groupsLength || 0,\n          getIdProperty: this.getIdProperty,\n          getDisplayProperty: this.getDisplayProperty,\n          onItemClick: this.handleItemClick,\n          getComboNode: this.getComboNode,\n          ref: this.addListRef,\n          onScrollBottom: this.handleListScrollBottom,\n          text: this.getText(),\n          isNewCustomTagValid: this.isNewCustomTagValid\n        }\n      });\n      return listProps;\n    }\n  }, {\n    key: \"getValueProps\",\n    value: function getValueProps(_ref) {\n      var items = _ref.items,\n          groupedItems = _ref.groupedItems,\n          item = _ref.item;\n      var props = this.props,\n          state = this.state;\n      var value = this.getValue();\n      return (0, _getValueProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          items: items,\n          item: item,\n          groupedItems: groupedItems,\n          value: value,\n          label: this.getItemLabel(),\n          activeTag: this.getActiveTag()\n        },\n        tagProps: {\n          activeStyle: props.tagActiveStyle,\n          onClick: this.handleTagClick,\n          onCloseTagClick: this.handleRemoveTag,\n          onMultipleTagClose: this.handleRemoveMultipleTag\n        }\n      });\n    }\n  }, {\n    key: \"loadDataSource\",\n    value: function loadDataSource(dataSource) {\n      var _this2 = this;\n\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n\n      var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n          appendTo = _ref2.appendTo,\n          action = _ref2.action,\n          value = _ref2.value,\n          text = _ref2.text,\n          skip = _ref2.skip,\n          limit = _ref2.limit,\n          hasNextPage = _ref2.hasNextPage;\n\n      if (Array.isArray(dataSource)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n\n        this.setData(dataSource, props, {\n          appendTo: appendTo\n        });\n        return;\n      }\n\n      if (dataSource && Array.isArray(dataSource.data)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n\n        this.setData(dataSource.data, props, {\n          remoteCount: dataSource.count != null ? dataSource.count * 1 : null,\n          appendTo: appendTo\n        });\n        return;\n      }\n\n      if (dataSource && dataSource.then) {\n        this.setLoading(true);\n        dataSource.then(function (data) {\n          _this2.props.onDataSourceLoad(data);\n\n          _this2.loadDataSource(data, props, {\n            appendTo: appendTo\n          });\n        });\n        return;\n      }\n\n      if (typeof dataSource === 'function') {\n        var config = _objectSpread(_objectSpread({}, props), {}, {\n          data: this.state.data,\n          hasNextPage: hasNextPage !== undefined ? hasNextPage : this.hasNextPage(),\n          text: this.isRemoteFilter() ? text !== undefined ? text : this.getText() : undefined,\n          skip: skip || 0,\n          action: action,\n          append: !!appendTo,\n          value: value !== undefined ? value : this.getValue(),\n          limit: limit !== undefined ? limit : this.props.limit\n        });\n\n        var dataResult = dataSource(config);\n        this.loadDataSource(dataResult, undefined, {\n          appendTo: config.append === false ? null : appendTo\n        });\n      }\n\n      if (!dataSource) {\n        this.setData(null, props);\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      var _this3 = this;\n\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n          remoteCount = _ref3.remoteCount,\n          appendTo = _ref3.appendTo;\n\n      if (!data) {\n        this.setState({\n          data: null,\n          dataMap: null,\n          filteredData: null,\n          remoteCount: null\n        });\n        return null;\n      }\n\n      if (Array.isArray(appendTo)) {\n        data = appendTo.concat(data);\n      }\n\n      var dataMap = data.reduce(function (acc, item) {\n        acc[_this3.getIdProperty(item)] = item;\n        return acc;\n      }, {});\n\n      if (props.groupProperty) {\n        this.updateGroups({\n          data: data,\n          groupProperty: props.groupProperty\n        });\n      }\n\n      this.updateValueMap({\n        value: this.getValue(props),\n        dataMap: dataMap,\n        oldValueMap: this.getValueMap()\n      });\n      this.updateFilteredData({\n        data: data\n      });\n      this.setState({\n        data: data,\n        dataMap: dataMap,\n        remoteCount: remoteCount\n      });\n    }\n  }, {\n    key: \"getPageCount\",\n    value: function getPageCount() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var count = this.getDataCountForPagination(props);\n      return (0, _PaginationToolbar.getPageCount)({\n        count: count,\n        limit: props.limit\n      });\n    }\n  }, {\n    key: \"hasNextPage\",\n    value: function hasNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.getCurrentPage(props) < this.getPageCount(props);\n    }\n  }, {\n    key: \"getCurrentPage\",\n    value: function getCurrentPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var limit = props.limit,\n          skip = props.skip;\n      return (0, _PaginationToolbar.getCurrentPage)({\n        skip: this.previousSkip ? this.previousSkip : 0,\n        limit: limit\n      });\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n    }\n  }, {\n    key: \"getDataCountForPagination\",\n    value: function getDataCountForPagination() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var data = this.getData();\n      var count = this.isPaginationEnabled(props) ? props.remoteCount || this.state.remoteCount : data ? data.length : 0;\n      return count || 0;\n    }\n  }, {\n    key: \"getFilteredData\",\n    value: function getFilteredData() {\n      return this.state.filteredData;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.state.data;\n    }\n  }, {\n    key: \"loadLazyDataSource\",\n    value: function loadLazyDataSource(_ref4) {\n      var action = _ref4.action,\n          text = _ref4.text;\n\n      if (!this.props.lazyDataSource) {\n        return null;\n      }\n\n      var params = {\n        action: action,\n        text: text,\n        value: this.getValue()\n      };\n      this.setData(null);\n      this.loadDataSource(this.props.dataSource, undefined, params);\n      return null;\n    }\n  }, {\n    key: \"isPaginationEnabled\",\n    value: function isPaginationEnabled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var hasLoadNextPage = typeof props.loadNextPage === 'function';\n      var hasFunctionalDataSource = typeof props.dataSource === 'function';\n\n      if (props.enablePagination === false) {\n        return false;\n      }\n\n      return props.enablePagination ? hasLoadNextPage || hasFunctionalDataSource : hasLoadNextPage;\n    }\n  }, {\n    key: \"remoteFilterData\",\n    value: function remoteFilterData() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$text = _ref5.text,\n          text = _ref5$text === void 0 ? this.getText() : _ref5$text,\n          _ref5$value = _ref5.value,\n          value = _ref5$value === void 0 ? this.getValue() : _ref5$value,\n          filterType = _ref5.filterType;\n\n      this.previousSkip = null;\n      this.loadDataSource(this.props.dataSource, undefined, {\n        text: text,\n        skip: 0\n      });\n    }\n  }, {\n    key: \"loadNextPage\",\n    value: function loadNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var filteredData = this.getFilteredData();\n\n      if (filteredData && filteredData.length < 3) {\n        return null;\n      }\n\n      if (this.previousSkip == null) {\n        this.previousSkip = props.skip;\n      }\n\n      var limit = props.limit;\n      var hasNextPage = this.hasNextPage();\n      var newSkip = this.previousSkip + limit;\n      this.previousSkip = newSkip;\n\n      if (!this.isPaginationEnabled()) {\n        return;\n      }\n\n      var fn = typeof props.dataSource === 'function' ? props.dataSource : null;\n\n      if (fn && hasNextPage) {\n        var currentData = this.state.data;\n        this.loadDataSource(this.props.dataSource, undefined, {\n          appendTo: currentData,\n          hasNextPage: hasNextPage,\n          skip: newSkip,\n          limit: limit,\n          filter: this.currentFilter\n        });\n      }\n    }\n  }, {\n    key: \"isRemoteDataSource\",\n    value: function isRemoteDataSource() {\n      return typeof this.props.dataSource === 'function';\n    }\n  }, {\n    key: \"isRemoteFilter\",\n    value: function isRemoteFilter() {\n      return (0, _typeof2.default)(this.isRemoteDataSource()) && this.props.remoteFilter;\n    }\n  }, {\n    key: \"doFilter\",\n    value: function doFilter() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          text = _ref6.text,\n          value = _ref6.value,\n          force = _ref6.force,\n          data = _ref6.data,\n          filterType = _ref6.filterType,\n          action = _ref6.action;\n\n      if (this.currentFilter === text && !force) {\n        return;\n      }\n\n      this.currentFilter = text;\n\n      if (this.isRemoteFilter()) {\n        if (action === 'select') {\n          return;\n        }\n\n        this.remoteFilterData({\n          value: value,\n          text: text,\n          filterType: filterType\n        });\n      } else {\n        this.updateFilteredData({\n          text: text,\n          value: value,\n          data: data,\n          filterType: filterType\n        });\n      }\n    }\n  }, {\n    key: \"updateFilteredData\",\n    value: function updateFilteredData() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$text = _ref7.text,\n          text = _ref7$text === void 0 ? this.getText() : _ref7$text,\n          _ref7$value = _ref7.value,\n          value = _ref7$value === void 0 ? this.getValue() : _ref7$value,\n          _ref7$data = _ref7.data,\n          data = _ref7$data === void 0 ? this.state.data : _ref7$data,\n          filterType = _ref7.filterType;\n\n      var filteredData = data;\n\n      if (!Array.isArray(filteredData)) {\n        return filteredData;\n      }\n\n      if (!this.isRemoteFilter()) {\n        filteredData = this.filterDataByText({\n          text: text,\n          data: filteredData\n        });\n        filteredData = this.filterDataByValue({\n          value: value,\n          text: text,\n          data: filteredData\n        });\n      }\n\n      var isFilteredByText = filterType === 'text' && data.length !== filteredData.length;\n\n      if (isFilteredByText && this.props.activeFirstItemOnFilter) {\n        var firstItem = filteredData && filteredData[0];\n\n        if (firstItem) {\n          var id = this.getIdProperty(firstItem);\n          this.setActiveItem(id);\n        } else {\n          this.setActiveItem(null);\n        }\n      }\n\n      this.setState({\n        filteredData: filteredData\n      });\n    }\n  }, {\n    key: \"filterDataByValue\",\n    value: function filterDataByValue(_ref8) {\n      var _ref8$value = _ref8.value,\n          value = _ref8$value === void 0 ? this.getValue() : _ref8$value,\n          _ref8$data = _ref8.data,\n          data = _ref8$data === void 0 ? this.state.data : _ref8$data;\n\n      if (!Array.isArray(data)) {\n        return data;\n      }\n\n      var newData = data;\n\n      if (data && value && this.props.removeSelectedItems) {\n        newData = (0, _filterByValue.default)({\n          data: newData,\n          getIdProperty: this.getIdProperty,\n          value: value\n        });\n      }\n\n      return newData;\n    }\n  }, {\n    key: \"filterDataByText\",\n    value: function filterDataByText(_ref9) {\n      var _ref9$text = _ref9.text,\n          text = _ref9$text === void 0 ? this.getText() : _ref9$text,\n          _ref9$data = _ref9.data,\n          data = _ref9$data === void 0 ? this.state.data : _ref9$data;\n\n      if (!data || !text) {\n        return data;\n      }\n\n      var newData = data;\n\n      if (this.isFilterTextActive()) {\n        var filterFunction = this.props.filterFunction;\n        newData = (0, _filterByText.default)({\n          data: data,\n          text: text,\n          filterFunction: filterFunction,\n          getFilterProperty: this.getFilterProperty || this.getDisplayProperty,\n          mode: this.props.filterMode,\n          hightlight: this.props.highlightMatchedText\n        });\n      }\n\n      return newData;\n    }\n  }, {\n    key: \"getDataMap\",\n    value: function getDataMap() {\n      return this.state.dataMap;\n    }\n  }, {\n    key: \"getValueMap\",\n    value: function getValueMap() {\n      return this.state.valueMap;\n    }\n  }, {\n    key: \"isValueControlled\",\n    value: function isValueControlled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return props.value !== undefined;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.isValueControlled(props) ? props.value : this.state.value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(newValue) {\n      var _ref10 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          action = _ref10.action;\n\n      if (this.props.disabled) {\n        return null;\n      }\n\n      if (this.props.readOnly) {\n        return null;\n      }\n\n      if (this.props.maxValueLength && newValue && newValue.length > this.props.maxValueLength) {\n        return null;\n      }\n\n      if (this.props.collapseOnSelect && action !== 'navigate') {\n        this.collapse();\n      }\n\n      if (this.props.autoBlur) {\n        this.blur();\n      }\n\n      if (!this.isValueControlled()) {\n        this.setState({\n          value: newValue\n        });\n      }\n\n      this.setText(null, {\n        skipFilter: true\n      });\n      this.updateValueMap({\n        value: newValue\n      });\n      this.props.onChange(newValue);\n    }\n  }, {\n    key: \"isFilterTextActive\",\n    value: function isFilterTextActive() {\n      var text = this.getText();\n      var data = this.getFilteredData();\n      return data && text && this.props.searchable && text.length >= this.props.filterMinLength;\n    }\n  }, {\n    key: \"updateValueMap\",\n    value: function updateValueMap(_ref11) {\n      var _this4 = this;\n\n      var value = _ref11.value,\n          dataMap = _ref11.dataMap,\n          oldValueMap = _ref11.oldValueMap;\n      var newValueMap = (0, _getValueMap.default)({\n        value: value,\n        dataMap: dataMap || this.getDataMap(),\n        oldValueMap: oldValueMap || this.getValueMap()\n      });\n\n      if (newValueMap) {\n        newValueMap = Object.keys(newValueMap).reduce(function (acc, id) {\n          var item = newValueMap[id];\n          acc[id] = _objectSpread(_objectSpread({}, item), {}, {\n            id: _this4.getIdProperty(item),\n            label: _this4.getDisplayProperty(item) || item\n          });\n          return acc;\n        }, {});\n      }\n\n      this.setState({\n        valueMap: newValueMap\n      });\n    }\n  }, {\n    key: \"selectItem\",\n    value: function selectItem(id) {\n      var dataMap = this.getDataMap();\n      var item = dataMap && dataMap[id];\n\n      if (!item && !this.props.allowCustomTagCreation) {\n        return null;\n      }\n\n      if (typeof this.props.isSelectedItemValid === 'function') {\n        var isItemValid = this.props.isSelectedItemValid(item);\n\n        if (!isItemValid) {\n          return null;\n        }\n      }\n\n      var value = this.getValue();\n      var newValue;\n\n      if (this.props.multiple) {\n        newValue = (0, _getNewMultipleValue.default)({\n          id: id,\n          value: value\n        });\n      } else {\n        newValue = (0, _getNewSingleValue.default)({\n          id: id,\n          value: value,\n          toggle: this.props.changeValueOnNavigation ? false : this.props.allowSelectionToggle\n        });\n      }\n\n      this.setValue(newValue, {\n        action: 'select'\n      });\n      this.props.onItemClick({\n        item: item,\n        id: id\n      });\n    }\n  }, {\n    key: \"deselectItem\",\n    value: function deselectItem(id) {\n      var value = this.getValue();\n      var newValue = (0, _deselectValue.default)({\n        id: id,\n        value: value,\n        getIdProperty: this.getIdProperty\n      });\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"deselectItems\",\n    value: function deselectItems() {\n      var _this5 = this;\n\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var value = this.getValue();\n      var newValue = ids.reduce(function (acc, id) {\n        acc = (0, _deselectValue.default)({\n          id: id,\n          value: acc,\n          getIdProperty: _this5.getIdProperty\n        });\n        return acc;\n      }, value);\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"getExpanded\",\n    value: function getExpanded() {\n      return this.isExpandedControlled() ? this.props.expanded : this.expanded != null ? this.expanded : this.state.expanded;\n    }\n  }, {\n    key: \"isExpandedControlled\",\n    value: function isExpandedControlled() {\n      return this.props.expanded !== undefined;\n    }\n  }, {\n    key: \"setExpanded\",\n    value: function setExpanded(expanded) {\n      var _this6 = this;\n\n      if (this.expandedPromise) {\n        this.expandedPromise.then(function (result) {\n          if (_this6.getExpanded() !== expanded) {\n            _this6.setExpanded(expanded);\n          }\n        });\n        return;\n      }\n\n      this.expandedPromise = this.doSetExpanded(expanded).then(function () {\n        delete _this6.expandedPromise;\n      });\n    }\n  }, {\n    key: \"doSetExpanded\",\n    value: function doSetExpanded(expanded) {\n      var _this7 = this;\n\n      if (this.props.disabled) {\n        return Promise.resolve(null);\n      }\n\n      var currentExpanded = this.getExpanded();\n\n      if (currentExpanded === expanded) {\n        return Promise.resolve(expanded);\n      }\n\n      if (!expanded && this.isRemoteFilter()) {\n        this.previousSkip = null;\n      }\n\n      globalObject.requestAnimationFrame(function () {\n        if (_this7.toolsNode) {\n          _this7.handleToolsSize();\n        }\n      });\n      var promise;\n\n      if (!this.isExpandedControlled()) {\n        promise = new Promise(function (resolve, reject) {\n          _this7.setState({\n            expanded: expanded\n          }, function () {\n            resolve(expanded);\n          });\n        });\n      } else {\n        promise = Promise.resolve(expanded);\n      }\n\n      if (expanded) {\n        if (this.isRemoteDataSource() && this.state.data === undefined) {\n          this.loadDataSource(this.props.dataSource);\n        } else {\n          if (this.wasExpandedAtLeastOnce) {\n            this.doFilter({\n              text: '',\n              action: 'expand',\n              force: true\n            });\n          }\n        }\n      }\n\n      if (expanded && !this.wasExpandedAtLeastOnce) {\n        this.wasExpandedAtLeastOnce = true;\n      }\n\n      if (expanded) {\n        this.onExpand();\n      } else {\n        this.props.onCollapse();\n      }\n\n      this.props.onExpandChange(expanded);\n      this.props.onExpandedChange(expanded);\n      return promise;\n    }\n  }, {\n    key: \"onExpand\",\n    value: function onExpand() {\n      this.props.onExpand();\n\n      if (this.props.highlightFirst) {\n        var activeItem = this.getActiveItem();\n\n        if (!activeItem) {\n          var firstItem = this.getItemByIndex(0);\n\n          if (firstItem) {\n            var id = this.getIdProperty(firstItem);\n            this.setActiveItem(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isActiveTagControlled\",\n    value: function isActiveTagControlled() {\n      return this.props.activeTag !== undefined;\n    }\n  }, {\n    key: \"setActiveTag\",\n    value: function setActiveTag(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n\n      if (!this.isActiveTagControlled()) {\n        this.setState({\n          activeTag: id\n        });\n      }\n\n      this.props.onActiveTagChange(id);\n    }\n  }, {\n    key: \"deselectActiveTag\",\n    value: function deselectActiveTag() {\n      var activeTag = this.getActiveTag();\n\n      if (activeTag) {\n        this.setActiveTag(null);\n      }\n    }\n  }, {\n    key: \"getActiveTag\",\n    value: function getActiveTag() {\n      return this.isActiveTagControlled() ? this.props.activeTag : this.state.activeTag;\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function getSelectedItems() {\n      var _this8 = this;\n\n      var valueMap = this.getValueMap();\n      var value = this.getValue();\n      var items = null;\n\n      if (value) {\n        value = Array.isArray(value) ? value : [value];\n        items = value.map(function (id) {\n          return valueMap[id] || {\n            id: (0, _typeof2.default)(id) === 'object' ? _this8.getIdProperty(id) : id,\n            label: (0, _typeof2.default)(id) === 'object' ? _this8.getDisplayProperty(id) : _this8.getItemLabel(id)\n          };\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"getItemLabel\",\n    value: function getItemLabel(id) {\n      id = id === undefined ? this.getValue() : id;\n      var valueMap = this.getValueMap();\n      var dataMap = this.getDataMap();\n      var label;\n\n      if (valueMap && valueMap[id]) {\n        label = valueMap[id].label;\n      } else if (dataMap && dataMap[id]) {\n        label = this.getDisplayProperty(dataMap[id]);\n      }\n\n      if (label === undefined) {\n        label = this.props.defaultDisplayValue !== undefined && id != null ? this.props.defaultDisplayValue : id;\n      }\n\n      return label;\n    }\n  }, {\n    key: \"getGroupedItems\",\n    value: function getGroupedItems(items) {\n      var maxTagsLength = this.props.maxTagsLength;\n\n      if (maxTagsLength == null || !items) {\n        return null;\n      }\n\n      return (0, _groupItems.default)({\n        maxTagsLength: maxTagsLength,\n        items: items\n      });\n    }\n  }, {\n    key: \"isActiveItemControlled\",\n    value: function isActiveItemControlled() {\n      return this.props.activeItem !== undefined;\n    }\n  }, {\n    key: \"setActiveItem\",\n    value: function setActiveItem(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n\n      var activeItem = this.getActiveItem();\n\n      if (activeItem === id) {\n        return null;\n      }\n\n      if (!this.isActiveItemControlled()) {\n        var activeItemIndex = null;\n\n        if (id) {\n          activeItemIndex = this.getItemIndexById(id);\n        }\n\n        this.setState({\n          activeItemIndex: activeItemIndex,\n          activeItem: id\n        });\n\n        if (this.props.changeValueOnNavigation && !this.props.multiple) {\n          this.setValue(id, {\n            action: 'navigate'\n          });\n        }\n      }\n\n      this.scrollToId(id);\n      this.props.onActiveItemChange(id);\n    }\n  }, {\n    key: \"getActiveItem\",\n    value: function getActiveItem() {\n      return this.isActiveItemControlled() ? this.props.activeItem : this.state.activeItem;\n    }\n  }, {\n    key: \"isTextControled\",\n    value: function isTextControled() {\n      return this.props.text != null;\n    }\n  }, {\n    key: \"getText\",\n    value: function getText() {\n      return this.isTextControled() ? this.props.text : this.state.text;\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n\n      if (text === this.getText()) {\n        callback();\n        return;\n      }\n\n      if (!this.isTextControled()) {\n        this.setStateText(text, config, callback);\n      }\n\n      this.props.onTextChange(text);\n    }\n  }, {\n    key: \"setStateText\",\n    value: function setStateText(text) {\n      var _this9 = this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n\n      this.setState({\n        text: text\n      }, function () {\n        _this9.onTextUpdate(text, config);\n\n        callback();\n      });\n    }\n  }, {\n    key: \"onTextUpdate\",\n    value: function onTextUpdate(text) {\n      var _ref12 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject,\n          skipFilter = _ref12.skipFilter;\n\n      this.clearValueOnEmptyIfNecessary(text);\n\n      if (!skipFilter) {\n        this.doFilter({\n          text: text,\n          filterType: 'text'\n        });\n      }\n    }\n  }, {\n    key: \"clearValueOnEmptyIfNecessary\",\n    value: function clearValueOnEmptyIfNecessary(text) {\n      if (this.props.clearValueOnEmpty && !this.props.multiple && text === '') {\n        this.setValue(null);\n      }\n    }\n  }, {\n    key: \"getLoading\",\n    value: function getLoading() {\n      return this.isLoadingControlled() ? this.props.loading : this.state.loading;\n    }\n  }, {\n    key: \"isLoadingControlled\",\n    value: function isLoadingControlled() {\n      return this.props.loading != null;\n    }\n  }, {\n    key: \"setLoading\",\n    value: function setLoading(loading) {\n      if (loading === this.state.loading) {\n        return;\n      }\n\n      if (!this.isLoadingControlled()) {\n        this.setState({\n          loading: loading\n        });\n      }\n\n      this.props.onLoadingChange(loading);\n    }\n  }, {\n    key: \"handleComboClick\",\n    value: function handleComboClick(event) {\n      event.preventDefault();\n\n      if (this.props.toggleExpandOnClick) {\n        this.toggleExpand();\n      } else if (this.props.expandOnClick) {\n        this.expand();\n      }\n\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter() {\n      this.setState({\n        over: true\n      });\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      this.setState({\n        over: false\n      });\n    }\n  }, {\n    key: \"handleComboFocus\",\n    value: function handleComboFocus() {\n      if (this.props.expandOnFocus) {\n        this.expand();\n      }\n\n      this.setState({\n        focus: true\n      });\n      this.props.onFocus();\n    }\n  }, {\n    key: \"handleComboBlur\",\n    value: function handleComboBlur(event) {\n      var _this10 = this;\n\n      if (this.isFocused() && event && event.relatedTarget && (0, _containsNode.default)(this.comboNode, event.relatedTarget)) {\n        globalObject.requestAnimationFrame(function () {\n          _this10.focus();\n        });\n        return;\n      }\n\n      if (this.props.collapseOnBlur) {\n        this.collapse();\n      }\n\n      if (this.props.clearTextOnBlur) {\n        this.setText(null);\n      }\n\n      this.setState({\n        focus: false\n      });\n      this.props.onBlur();\n    }\n  }, {\n    key: \"isFocused\",\n    value: function isFocused() {\n      return this.state.focus;\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(id) {\n      if (!this.isFocused() && this.props.focusOnClick) {\n        this.focus();\n      }\n\n      this.setActiveItem(id);\n      this.selectItem(id);\n    }\n  }, {\n    key: \"handleTextChange\",\n    value: function handleTextChange(text) {\n      var _this11 = this;\n\n      this.deselectActiveTag();\n      this.setText(text, {\n        skipFilter: this.props.expandOnTextChange && !this.getExpanded()\n      }, function () {\n        if (_this11.props.expandOnTextChange) {\n          _this11.expand();\n        }\n      });\n    }\n  }, {\n    key: \"handleTextInputClick\",\n    value: function handleTextInputClick() {\n      this.deselectActiveTag();\n    }\n  }, {\n    key: \"handleRemoveTag\",\n    value: function handleRemoveTag(id) {\n      this.removeTag(id);\n    }\n  }, {\n    key: \"handleRemoveMultipleTag\",\n    value: function handleRemoveMultipleTag(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleListScrollBottom\",\n    value: function handleListScrollBottom() {\n      this.loadNextPage();\n    }\n  }, {\n    key: \"removeTag\",\n    value: function removeTag(id) {\n      var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var activeTag = this.getActiveTag();\n\n      if (activeTag === id && activeTag != null) {\n        var value = this.getValue();\n        var newActiveTag = (0, _getNewActiveTagOnRemove.default)({\n          id: id,\n          value: value,\n          dir: dir\n        });\n        this.setActiveTag(newActiveTag);\n      }\n\n      this.deselectItem(id);\n    }\n  }, {\n    key: \"removeRemainingTags\",\n    value: function removeRemainingTags() {\n      var ids = this.groupedItems.remainingItems.map(function (item) {\n        return item.id;\n      });\n      var visibleItems = this.groupedItems.visibleItems;\n      var activeTag = this.getActiveTag();\n\n      if (activeTag === REMAINING_ITEMS) {\n        var lastItem = Array.isArray(visibleItems) && visibleItems[visibleItems.length - 1];\n\n        if (lastItem) {\n          this.setActiveTag(lastItem.id);\n        }\n      } else {\n        this.deselectActiveTag();\n      }\n\n      this.removeTags(ids);\n    }\n  }, {\n    key: \"removeTags\",\n    value: function removeTags(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleTagClick\",\n    value: function handleTagClick(id) {\n      var activeTag = this.getActiveTag();\n\n      if (activeTag === id) {\n        this.setActiveTag(null);\n      } else {\n        this.setActiveTag(id);\n      }\n\n      this.props.onTagClick(this.getItemById(id));\n\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleComboMouseDown\",\n    value: function handleComboMouseDown(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleComboKeyDown\",\n    value: function handleComboKeyDown(event) {\n      if (this.props.allowCustomTagCreation && event.key === 'Enter') {\n        if (this.isNewCustomTagValid) {\n          this.selectItem(this.getText());\n          this.setText(null);\n        }\n      }\n\n      if (this.props.enableNavigation) {\n        if (this.props.enableListNavigation) {\n          switch (event.key) {\n            case 'ArrowDown':\n              this.navigateToNextItem(1, event);\n              break;\n\n            case 'ArrowUp':\n              this.navigateToNextItem(-1, event);\n              break;\n\n            case 'Enter':\n              this.handleEnterKeyPress(event);\n              break;\n\n            case 'Space':\n              this.selectActiveItem();\n              break;\n          }\n        }\n\n        if (this.props.enableTagNavigation) {\n          switch (event.key) {\n            case 'ArrowLeft':\n              this.navigateToNextTag(-1, event);\n              break;\n\n            case 'ArrowRight':\n              this.navigateToNextTag(1, event);\n              break;\n\n            case 'Backspace':\n              this.handleBackspace(event);\n              break;\n\n            case 'Delete':\n              this.handleDelete(event);\n          }\n        }\n      }\n\n      if (event.key === 'Escape') {\n        var expanded = this.getExpanded();\n\n        if (this.props.collapseOnEscape) {\n          if (expanded) {\n            this.collapse();\n          }\n        }\n\n        if (!expanded && this.getActiveTag()) {\n          this.setActiveTag(null);\n        }\n\n        if (!this.props.multiple) {\n          this.setText(null);\n        }\n      }\n\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(event, this);\n      }\n    }\n  }, {\n    key: \"navigateToNextItem\",\n    value: function navigateToNextItem(direction, event) {\n      var data = this.getFilteredData();\n\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (this.getExpanded()) {\n        var activeItem = this.getActiveItem();\n        var newActiveItem;\n\n        if (activeItem != null) {\n          newActiveItem = (0, _getNextItem.default)({\n            direction: direction,\n            data: data,\n            id: activeItem,\n            activeItem: activeItem,\n            getIdProperty: this.getIdProperty\n          });\n        } else {\n          var firstItemId;\n          var lastItemId;\n\n          if (data && data.length) {\n            firstItemId = this.getIdProperty(data[0]);\n            lastItemId = this.getIdProperty(data[data.length - 1]);\n\n            if (direction && firstItemId != null) {\n              newActiveItem = firstItemId;\n            }\n\n            if (direction === -1 && lastItemId != null) {\n              newActiveItem = lastItemId;\n            }\n          }\n        }\n\n        this.setActiveItem(newActiveItem);\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"selectActiveItem\",\n    value: function selectActiveItem() {\n      var activeItem = this.getActiveItem();\n\n      if (activeItem) {\n        this.selectItem(activeItem);\n      }\n    }\n  }, {\n    key: \"handleEnterKeyPress\",\n    value: function handleEnterKeyPress(event) {\n      var expanded = this.getExpanded();\n\n      if (expanded) {\n        this.selectActiveItem();\n      }\n\n      var activeItem = this.getActiveItem();\n\n      if (this.props.collapseOnSelectWithEnter) {\n        if (activeItem && expanded) {\n          this.collapse();\n        }\n      }\n\n      if (this.props.navigateToNextAfterSelection && this.props.multiple && activeItem) {\n        this.navigateToNextItem(1, event);\n      }\n    }\n  }, {\n    key: \"navigateToNextTag\",\n    value: function navigateToNextTag(direction, event) {\n      if (!this.isNavigationAllowed(direction)) {\n        return null;\n      }\n\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      var newActiveTag;\n      var items = this.getSelectedItems();\n      var itemsIds;\n\n      if (this.areItemsGrouped) {\n        var visibleItems = this.groupedItems.visibleItems.map(function (item) {\n          return item.id;\n        });\n        itemsIds = [].concat((0, _toConsumableArray2.default)(visibleItems), [REMAINING_ITEMS]);\n      } else {\n        itemsIds = items.map(function (item) {\n          return item.id;\n        });\n      }\n\n      var currentActiveTag = this.getActiveTag();\n      var currentIndex = itemsIds.indexOf(currentActiveTag);\n      var lastIndex = itemsIds.length - 1;\n      var lastTag = itemsIds[lastIndex];\n      var firstTag = itemsIds[0];\n      var isFirstTag = currentIndex === 0;\n      var isLastTag = currentIndex === lastIndex;\n\n      if (direction === -1 && isFirstTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n\n      if (direction === 1 && isLastTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n\n      if (currentActiveTag === null || currentIndex === -1) {\n        newActiveTag = direction === -1 ? lastTag : firstTag;\n      } else {\n        if (direction === -1) {\n          newActiveTag = isFirstTag ? lastTag : itemsIds[currentIndex - 1];\n        } else if (direction === 1) {\n          newActiveTag = isLastTag ? firstTag : itemsIds[currentIndex + 1];\n        }\n      }\n\n      this.setActiveTag(newActiveTag);\n      return null;\n    }\n  }, {\n    key: \"isNavigationAllowed\",\n    value: function isNavigationAllowed(direction) {\n      if (!this.props.multiple) {\n        return false;\n      }\n\n      var inputNode = this.getTextInputNode();\n\n      if (inputNode.hasSelection()) {\n        return false;\n      }\n\n      var currentActiveTag = this.getActiveTag();\n      var canNavigateLeft = inputNode.isCursorAtStartPosition() && direction === -1;\n      var canNavigateRight = inputNode.isCursorAtEndPosition() && direction === 1;\n\n      if (!canNavigateRight && !canNavigateLeft && !currentActiveTag) {\n        return false;\n      }\n\n      var items = this.getSelectedItems();\n\n      if (!Array.isArray(items)) {\n        return false;\n      }\n\n      if (items.length === 1 && currentActiveTag) {\n        this.setActiveTag(null);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleBackspace\",\n    value: function handleBackspace(event) {\n      if (this.props.multiple) {\n        this.handleTagBackspaceRemove(event);\n      }\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(event) {\n      var activeTag = this.getActiveTag();\n\n      if (this.props.multiple && activeTag) {\n        this.removeTag(activeTag, 1);\n      }\n    }\n  }, {\n    key: \"handleTagBackspaceRemove\",\n    value: function handleTagBackspaceRemove(event) {\n      if (!this.props.removeTagOnBackspace) {\n        return null;\n      }\n\n      var value = this.getValue();\n\n      if (!value) {\n        return null;\n      }\n\n      var activeTag = this.getActiveTag();\n\n      if (activeTag != null) {\n        event.preventDefault();\n\n        if (activeTag === REMAINING_ITEMS) {\n          this.removeRemainingTags();\n        } else {\n          this.removeTag(activeTag, -1);\n        }\n\n        return null;\n      }\n\n      var inputNode = this.getTextInputNode();\n      var canDeleteTag = value && value.length && inputNode.isCursorAtStartPosition();\n\n      if (canDeleteTag) {\n        if (this.areItemsGrouped) {\n          var ids = this.groupedItems.remainingItems.map(function (item) {\n            return item.id;\n          });\n          this.removeTags(ids);\n        } else {\n          var items = this.getSelectedItems();\n          var lastItem = items[items.length - 1];\n          var lastItemId = lastItem.id;\n\n          if (this.props.keepTagTextOnRemove) {\n            var label = lastItem.label;\n\n            if (label && typeof label === 'string') {\n              this.setText(label);\n            }\n          }\n\n          this.removeTag(lastItemId);\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"handleToolsSize\",\n    value: function handleToolsSize() {\n      var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.toolsNode ? this.toolsNode.getBoundingClientRect() : {\n        width: 0,\n        height: 0\n      };\n      var node = this.comboNode;\n      var computedStyle = globalObject.getComputedStyle(node);\n      var width = size.width + parseInt(computedStyle.paddingLeft, 10) + parseInt(computedStyle.paddingRight, 10);\n      this.setState({\n        toolsSize: {\n          height: size.height,\n          width: width\n        }\n      });\n    }\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      this.setExpanded(true);\n    }\n  }, {\n    key: \"collapse\",\n    value: function collapse() {\n      this.setExpanded(false);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var listNode = this.getListNode();\n      return listNode && listNode.scrollToIndex(index);\n    }\n  }, {\n    key: \"getItemIndexById\",\n    value: function getItemIndexById(id) {\n      var index = (0, _findItemIndex.default)({\n        id: id,\n        data: this.getFilteredData(),\n        getIdProperty: this.getIdProperty\n      });\n      return index;\n    }\n  }, {\n    key: \"scrollToId\",\n    value: function scrollToId(id) {\n      var index = this.getItemIndexById(id);\n\n      if (index != null) {\n        this.scrollToIndex(index);\n      }\n    }\n  }, {\n    key: \"toggleExpand\",\n    value: function toggleExpand() {\n      var expanded = this.getExpanded();\n\n      if (expanded) {\n        this.collapse();\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      var data = this.getFilteredData();\n\n      if (!data || !Array.isArray(data) || !data[index]) {\n        return null;\n      }\n\n      return data[index];\n    }\n  }, {\n    key: \"getItemById\",\n    value: function getItemById(id) {\n      var dataMap = this.getDataMap();\n      return dataMap && dataMap[id] || id;\n    }\n  }, {\n    key: \"updateGetIdProperty\",\n    value: function updateGetIdProperty(props) {\n      props = props || this.props;\n      this.getIdProperty = (0, _getDataProp.default)(props.idProperty);\n    }\n  }, {\n    key: \"updateGetDisplayProperty\",\n    value: function updateGetDisplayProperty(props) {\n      props = props || this.props;\n      this.getDisplayProperty = (0, _getDataProp.default)(props.displayProperty);\n    }\n  }, {\n    key: \"updateGetFilterProperty\",\n    value: function updateGetFilterProperty(props) {\n      props = props || this.props;\n      this.getFilterProperty = (0, _getDataProp.default)(props.filterProperty);\n    }\n  }, {\n    key: \"updateGroups\",\n    value: function updateGroups(_ref13) {\n      var _ref13$groupProperty = _ref13.groupProperty,\n          groupProperty = _ref13$groupProperty === void 0 ? this.props.groupProperty : _ref13$groupProperty,\n          _ref13$data = _ref13.data,\n          data = _ref13$data === void 0 ? this.getFilteredData() : _ref13$data;\n\n      if (!data) {\n        return null;\n      }\n\n      var groups = (0, _getGroups.default)(data, groupProperty);\n      this.setState({\n        groups: groups\n      });\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var textInput = this.getTextInputNode();\n\n      if (textInput && textInput.focus && !this.hasFocus()) {\n        textInput.focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var textInput = this.getTextInputNode();\n\n      if (textInput && textInput.blur) {\n        textInput.blur();\n      }\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      var textInput = this.getTextInputNode();\n\n      if (textInput && textInput.hasFocus) {\n        return textInput.hasFocus();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getTextInputNode\",\n    value: function getTextInputNode() {\n      return this.textInput;\n    }\n  }, {\n    key: \"getComboNode\",\n    value: function getComboNode() {\n      return this.comboNode;\n    }\n  }, {\n    key: \"getListNode\",\n    value: function getListNode() {\n      return this.listNode;\n    }\n  }, {\n    key: \"getVirtualListNode\",\n    value: function getVirtualListNode() {\n      return this.listNode && this.listNode.getVirtualListNode();\n    }\n  }, {\n    key: \"getlListNode\",\n    value: function getlListNode() {\n      return this.listNode && this.listNode.getlListNode();\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(item) {\n      var newData = [].concat((0, _toConsumableArray2.default)(this.getData()), [item]);\n      this.setData(newData);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this12 = this;\n\n      this.setValue(null);\n      this.setText(null);\n      globalObject.requestAnimationFrame(function () {\n        if (_this12.toolsNode) {\n          _this12.handleToolsSize();\n        }\n      });\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(id) {\n      return this.getItemById(id);\n    }\n  }, {\n    key: \"getItemCount\",\n    value: function getItemCount() {\n      var data = this.getData();\n      return Array.isArray(data) ? data.length : null;\n    }\n  }, {\n    key: \"insertItem\",\n    value: function insertItem(_ref14) {\n      var index = _ref14.index,\n          item = _ref14.item;\n      var data = this.getData();\n      var newData = [].concat((0, _toConsumableArray2.default)(data.slice(0, index)), [item], (0, _toConsumableArray2.default)(data.slice(index)));\n      this.setData(newData);\n    }\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(ids) {\n      var _this13 = this;\n\n      ids = Array.isArray(ids) ? ids : [ids];\n      var data = this.getData();\n      var newData = data.filter(function (item) {\n        var id = _this13.getIdProperty(item);\n\n        return ids.indexOf(id) === -1;\n      });\n      this.setData(newData);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var expanded = this.getExpanded();\n      this.setExpanded(!expanded);\n    }\n  }]);\n  return InovuaComboBox;\n}(_react.Component);\n\nfunction emptyFn() {}\n\nInovuaComboBox.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-combo-box',\n  inlineFlex: false,\n  itemEllipsis: true,\n  borderRadius: 0,\n  shadow: true,\n  showShadowOnMouseOver: false,\n  clearTextOnBlur: true,\n  onKeyDown: emptyFn,\n  autoFocus: false,\n  autoBlur: false,\n  focusOnClick: true,\n  onFocus: emptyFn,\n  onBlur: emptyFn,\n  defaultActiveItem: null,\n  highlightFirst: false,\n  onTextChange: emptyFn,\n  searchable: true,\n  tagCloseIconPosition: 'end',\n  removeTagOnBackspace: true,\n  tagEllipsis: true,\n  filterMinLength: 0,\n  filterDelay: 300,\n  activeFirstItemOnFilter: true,\n  clearIcon: true,\n  toggleIcon: true,\n  showClearIconOnMouseOver: false,\n  clearTextOnSelect: true,\n  filterMode: 'contains',\n  highlightMatchedText: false,\n  onActiveTagChange: emptyFn,\n  enableTagNavigation: true,\n  onTagClick: emptyFn,\n  onActiveItemChange: emptyFn,\n  keepTagTextOnRemove: true,\n  onItemClick: emptyFn,\n  onChange: emptyFn,\n  minAutocompleteLength: 3,\n  autocompleteDelay: 300,\n  autocomplete: false,\n  defaultValue: null,\n  multiple: false,\n  removeSelectedItems: false,\n  allowSelectionToggle: true,\n  clearValueOnEmpty: true,\n  onDataSourceLoad: emptyFn,\n  idProperty: 'id',\n  displayProperty: 'label',\n  groupProperty: 'group',\n  limit: 50,\n  skip: 0,\n  onLoadingChange: emptyFn,\n  listLoadingText: 'Loading...',\n  loadingSpinner: true,\n  listEmptyText: 'No data found',\n  defaultText: null,\n  defaultExpanded: false,\n  onExpandedChange: emptyFn,\n  onExpandChange: emptyFn,\n  collapseOnEscape: true,\n  expandOnClick: true,\n  expandOnFocus: true,\n  collapseOnBlur: true,\n  onExpand: emptyFn,\n  onCollapse: emptyFn,\n  expandOnTextChange: true,\n  toggleExpandOnClick: true,\n  wrapMultiple: true,\n  theme: 'default-light',\n  enableNavigation: true,\n  enableListNavigation: true,\n  navigateToNextAfterSelection: true,\n  positions: ['bottom', 'top'],\n  offset: 2,\n  constrainTo: true\n};\n\nvar VALUE_TYPE = _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool, _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool]))]);\n\nInovuaComboBox.propTypes = {\n  rootClassName: _propTypes.default.string,\n  theme: _propTypes.default.string,\n  inlineFlex: _propTypes.default.bool,\n  shouldComponentUpdate: _propTypes.default.func,\n  lazyDataSource: _propTypes.default.bool,\n  remoteFilter: _propTypes.default.bool,\n  disabled: _propTypes.default.bool,\n  readOnly: _propTypes.default.bool,\n  rtl: _propTypes.default.bool,\n  tabIndex: _propTypes.default.number,\n  collapseOnSelect: _propTypes.default.bool,\n  clearTextOnBlur: _propTypes.default.bool,\n  listEmptyText: _propTypes.default.node,\n  listMaxHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  listMinHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  maxTagsLength: _propTypes.default.number,\n  defaultLoading: _propTypes.default.bool,\n  loading: _propTypes.default.bool,\n  onLoadingChange: _propTypes.default.func,\n  listLoadingText: _propTypes.default.node,\n  loadingSpinner: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool]),\n  onKeyDown: _propTypes.default.func,\n  onTagClick: _propTypes.default.func,\n  clearIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  toggleIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  showClearIconOnMouseOver: _propTypes.default.bool,\n  autoFocus: _propTypes.default.bool,\n  autoBlur: _propTypes.default.bool,\n  focusOnClick: _propTypes.default.bool,\n  onFocus: _propTypes.default.func,\n  onBlur: _propTypes.default.func,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  background: _propTypes.default.string,\n  shadow: _propTypes.default.bool,\n  showShadowOnMouseOver: _propTypes.default.bool,\n  emptyClassName: _propTypes.default.string,\n  emptyStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  itemBackground: _propTypes.default.string,\n  disabledItemStyle: _propTypes.default.object,\n  disabledItemClassName: _propTypes.default.string,\n  renderItem: _propTypes.default.func,\n  itemEllipsis: _propTypes.default.bool,\n  activeItemStyle: _propTypes.default.object,\n  activeItemClassName: _propTypes.default.string,\n  selectedItemStyle: _propTypes.default.object,\n  limit: _propTypes.default.number,\n  skip: _propTypes.default.number,\n  loadNextPage: _propTypes.default.func,\n  searchable: _propTypes.default.bool,\n  placeholder: _propTypes.default.node,\n  text: _propTypes.default.string,\n  defaultText: _propTypes.default.string,\n  onTextChange: _propTypes.default.func,\n  filterFunction: _propTypes.default.func,\n  filterProperty: _propTypes.default.string,\n  loadLazyDataSource: _propTypes.default.func,\n  filterMinLength: _propTypes.default.number,\n  filterDelay: _propTypes.default.number,\n  activeFirstItemOnFilter: _propTypes.default.bool,\n  renderInput: _propTypes.default.func,\n  inputClassName: _propTypes.default.string,\n  inputStyle: _propTypes.default.object,\n  clearTextOnSelect: _propTypes.default.bool,\n  filterMode: _propTypes.default.oneOf(['startsWith', 'contains']),\n  highlightMatchedText: _propTypes.default.bool,\n  autocomplete: _propTypes.default.bool,\n  minAutocompleteLength: _propTypes.default.number,\n  autocompleteDelay: _propTypes.default.number,\n  enableNavigatio: _propTypes.default.bool,\n  keepTagTextOnRemove: _propTypes.default.bool,\n  tagActiveStyle: _propTypes.default.object,\n  enableTagNavigation: _propTypes.default.bool,\n  activeTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveTagChange: _propTypes.default.func,\n  allowCustomTagCreation: _propTypes.default.bool,\n  enableNavigation: _propTypes.default.bool,\n  enableListNavigation: _propTypes.default.bool,\n  highlightFirst: _propTypes.default.bool,\n  activeItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveItemChange: _propTypes.default.func,\n  navigateToNextAfterSelection: _propTypes.default.bool,\n  onItemClick: _propTypes.default.func,\n  onChange: _propTypes.default.func,\n  listClassName: _propTypes.default.string,\n  selectedStyle: _propTypes.default.object,\n  selectedClassName: _propTypes.default.string,\n  renderGroup: _propTypes.default.func,\n  renderFooter: _propTypes.default.func,\n  renderHeader: _propTypes.default.func,\n  renderList: _propTypes.default.func,\n  renderListComponent: _propTypes.default.func,\n  value: VALUE_TYPE,\n  defaultValue: VALUE_TYPE,\n  defaultDisplayValue: VALUE_TYPE,\n  removeSelectedItems: _propTypes.default.bool,\n  isSelectedItemValid: _propTypes.default.func,\n  maxValueLength: _propTypes.default.number,\n  changeValueOnNavigation: _propTypes.default.bool,\n  allowSelectionToggle: _propTypes.default.bool,\n  clearSelectedOnTextChange: _propTypes.default.bool,\n  clearValueOnEmpty: _propTypes.default.bool,\n  isNewCustomTagValid: _propTypes.default.func,\n  multiple: _propTypes.default.bool,\n  renderTag: _propTypes.default.func,\n  renderTagLabel: _propTypes.default.func,\n  renderRemainingTags: _propTypes.default.func,\n  renderTags: _propTypes.default.func,\n  tagStyle: _propTypes.default.object,\n  tagBorder: _propTypes.default.string,\n  tagPadding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagWidth: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagMinSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagMaxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagCloseIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.node, _propTypes.default.func]),\n  tagCloseIconPosition: _propTypes.default.oneOf(['start', 'end']),\n  tagEllipsis: _propTypes.default.bool,\n  removeTagOnBackspace: _propTypes.default.bool,\n  renderDisplayValue: _propTypes.default.func,\n  dataSource: function dataSource(props, propName) {\n    var dataSource = props[propName];\n\n    if (dataSource != null && typeof dataSource !== 'function' && !Array.isArray(dataSource) && !(dataSource && dataSource.then)) {\n      return new Error('dataSource must be an array, null, a promise or a function returning a promise.');\n    }\n\n    return null;\n  },\n  onDataSourceLoad: _propTypes.default.func,\n  idProperty: _propTypes.default.string,\n  displayProperty: _propTypes.default.string,\n  groupProperty: _propTypes.default.string,\n  listStyle: _propTypes.default.object,\n  relativeToViewport: _propTypes.default.bool,\n  expanded: _propTypes.default.bool,\n  defaultExpanded: _propTypes.default.bool,\n  onExpandedChange: _propTypes.default.func,\n  onExpandChange: _propTypes.default.func,\n  collapseOnEscape: _propTypes.default.bool,\n  expandOnClick: _propTypes.default.bool,\n  expandOnFocus: _propTypes.default.bool,\n  collapseOnBlur: _propTypes.default.bool,\n  enablePagination: _propTypes.default.bool,\n  onExpand: _propTypes.default.func,\n  onCollapse: _propTypes.default.func,\n  virtualListFactory: _propTypes.default.func,\n  renderListScroller: _propTypes.default.func,\n  renderVirtualList: _propTypes.default.func,\n  expandOnTextChange: _propTypes.default.bool,\n  toggleExpandOnClick: _propTypes.default.bool,\n  collapseOnSelectWithEnter: _propTypes.default.bool,\n  wrapMultiple: _propTypes.default.bool,\n  newCustomTagText: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  positions: _propTypes.default.arrayOf(_propTypes.default.string),\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func, _propTypes.default.object, _propTypes.default.bool]),\n  offset: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  })]))])\n};\nvar _default = InovuaComboBox;\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/ááµáá¢á¨áá³/ááµá«áá¥áá©áá¥/ILP-main/node_modules/@inovua/reactdatagrid-community/packages/ComboBox/src/ComboBox.js"],"names":["_interopRequireDefault","require","_typeof3","Object","defineProperty","exports","value","default","REMAINING_ITEMS","_toConsumableArray2","_typeof2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_interopRequireWildcard","_propTypes","_cleanProps","_NotifyResize","_throttle","_containsNode","_TextInput","_Value","_ClearButton","_ToggleButton","_List","_Icons","_shouldComponentUpdate2","_getRootClassName","_getListProps2","_getValueProps2","_getDataProp","_getNewMultipleValue","_getNewSingleValue","_findItemIndex","_filterByValue","_filterByText","_deselectValue","_getNewActiveTagOnRemove","_getNextItem","_groupItems","_getValueMap","_getGroups","_PaginationToolbar","_getGlobal","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","valueOf","e","globalObject","getGlobal","emptyObject","InovuaComboBox","_Component","_super","props","_this","prevProps","isExpandedControlled","expanded","onExpand","dataSource","loadDataSource","idProperty","updateGetIdProperty","displayProperty","updateGetDisplayProperty","filterProperty","updateGetFilterProperty","groupProperty","updateGroups","isTextControled","text","onTextUpdate","isActiveItemControlled","changeValueOnNavigation","multiple","activeItem","setValue","action","loadLazyDataSource","refTools","tools","toolsNode","state","loading","defaultLoading","then","defaultValue","valueMap","defaultText","activeTag","defaultActiveTag","defaultActiveItem","defaultExpanded","toolsSize","width","height","over","focus","getData","bind","handleItemClick","handleTextChange","handleTextInputClick","handleTagClick","handleRemoveTag","handleComboClick","handleComboKeyDown","handleComboFocus","handleComboBlur","getComboNode","clear","handleMouseEnter","handleMouseLeave","toggleExpand","handleToolsSize","handleRemoveMultipleTag","handleListScrollBottom","handleDelete","getListNode","addTextInputRef","ref","textInput","addRootRef","comboNode","addListRef","listNode","setActiveItem","componentDidMount","autoFocus","activeItemIndex","setState","getItemIndexById","isRemoteFilter","doFilter","lazyDataSource","shouldComponentUpdate","nextProps","nextState","render","renderTextInput","className","computed","getValue","getExpanded","items","getSelectedItems","groupedItems","getGroupedItems","areItemsGrouped","remainingItems","style","getRootStyle","filteredData","getFilteredData","getText","isNewCustomTagValid","allowCustomTagCreation","createElement","propTypes","onClick","onMouseDown","handleComboMouseDown","onKeyDown","onFocus","onBlur","onMouseEnter","onMouseLeave","getValueProps","concat","rootClassName","renderSpinner","renderClearIcon","renderToggleIcon","tagEllipsis","NotifyResize","notifyOnMount","onResize","renderList","borderRadius","padding","border","background","emptyStyle","disabledStyle","disabled","focusedStyle","listProps","getListProps","domProps","undefined","renderListComponent","res","searchable","showClearIcon","clearIcon","showClearIconOnMouseOver","clearButton","onClear","closeIcon","toggleIcon","onToggle","getItemLabel","data","suggestion","minAutocompleteLength","getDisplayProperty","inputProps","theme","placeholder","inputClassName","inputStyle","onChange","throttle","filterDelay","autocomplete","tabIndex","autocompleteDelay","renderInput","loadingSpinner","getLoading","spinner","LoadingIcon","cloneElement","display","groupsLength","groups","getActiveItem","dataLength","getIdProperty","onItemClick","onScrollBottom","_ref","item","label","getActiveTag","tagProps","activeStyle","tagActiveStyle","onCloseTagClick","onMultipleTagClose","_this2","_ref2","appendTo","skip","limit","hasNextPage","Array","isArray","setLoading","setData","remoteCount","count","onDataSourceLoad","config","append","dataResult","_this3","_ref3","dataMap","reduce","acc","updateValueMap","oldValueMap","getValueMap","updateFilteredData","getPageCount","getDataCountForPagination","getCurrentPage","previousSkip","isLastPage","isPaginationEnabled","_ref4","params","hasLoadNextPage","loadNextPage","hasFunctionalDataSource","enablePagination","remoteFilterData","_ref5","_ref5$text","_ref5$value","filterType","newSkip","fn","currentData","currentFilter","isRemoteDataSource","remoteFilter","_ref6","force","_ref7","_ref7$text","_ref7$value","_ref7$data","filterDataByText","filterDataByValue","isFilteredByText","activeFirstItemOnFilter","firstItem","id","_ref8","_ref8$value","_ref8$data","newData","removeSelectedItems","_ref9","_ref9$text","_ref9$data","isFilterTextActive","filterFunction","getFilterProperty","mode","filterMode","hightlight","highlightMatchedText","getDataMap","isValueControlled","newValue","_ref10","readOnly","maxValueLength","collapseOnSelect","collapse","autoBlur","blur","setText","skipFilter","filterMinLength","_ref11","_this4","newValueMap","selectItem","isSelectedItemValid","isItemValid","toggle","allowSelectionToggle","deselectItem","deselectItems","_this5","ids","setExpanded","_this6","expandedPromise","doSetExpanded","_this7","Promise","resolve","currentExpanded","requestAnimationFrame","promise","reject","wasExpandedAtLeastOnce","onCollapse","onExpandChange","onExpandedChange","highlightFirst","getItemByIndex","isActiveTagControlled","setActiveTag","onActiveTagChange","deselectActiveTag","_this8","map","defaultDisplayValue","maxTagsLength","scrollToId","onActiveItemChange","callback","emptyFn","setStateText","onTextChange","_this9","_ref12","clearValueOnEmptyIfNecessary","clearValueOnEmpty","isLoadingControlled","onLoadingChange","event","preventDefault","toggleExpandOnClick","expandOnClick","expand","focusOnClick","hasFocus","expandOnFocus","_this10","isFocused","relatedTarget","collapseOnBlur","clearTextOnBlur","_this11","expandOnTextChange","removeTag","dir","newActiveTag","removeRemainingTags","visibleItems","lastItem","removeTags","onTagClick","getItemById","enableNavigation","enableListNavigation","navigateToNextItem","handleEnterKeyPress","selectActiveItem","enableTagNavigation","navigateToNextTag","handleBackspace","collapseOnEscape","direction","newActiveItem","firstItemId","lastItemId","collapseOnSelectWithEnter","navigateToNextAfterSelection","isNavigationAllowed","itemsIds","currentActiveTag","currentIndex","indexOf","lastIndex","lastTag","firstTag","isFirstTag","isLastTag","inputNode","getTextInputNode","hasSelection","canNavigateLeft","isCursorAtStartPosition","canNavigateRight","isCursorAtEndPosition","handleTagBackspaceRemove","removeTagOnBackspace","canDeleteTag","keepTagTextOnRemove","size","getBoundingClientRect","node","computedStyle","getComputedStyle","parseInt","paddingLeft","paddingRight","scrollToIndex","index","_ref13","_ref13$groupProperty","_ref13$data","getVirtualListNode","getlListNode","addItem","_this12","getItem","getItemCount","insertItem","_ref14","slice","removeItems","_this13","Component","defaultProps","inlineFlex","itemEllipsis","shadow","showShadowOnMouseOver","tagCloseIconPosition","clearTextOnSelect","listLoadingText","listEmptyText","wrapMultiple","positions","offset","constrainTo","VALUE_TYPE","oneOfType","string","number","bool","arrayOf","func","rtl","listMaxHeight","listMinHeight","emptyClassName","disabledClassName","focusedClassName","itemBackground","disabledItemStyle","disabledItemClassName","renderItem","activeItemStyle","activeItemClassName","selectedItemStyle","oneOf","enableNavigatio","listClassName","selectedStyle","selectedClassName","renderGroup","renderFooter","renderHeader","clearSelectedOnTextChange","renderTag","renderTagLabel","renderRemainingTags","renderTags","tagStyle","tagBorder","tagPadding","tagHeight","tagWidth","tagMinSize","shape","tagMaxSize","tagCloseIcon","renderDisplayValue","propName","Error","listStyle","relativeToViewport","virtualListFactory","renderListScroller","renderVirtualList","newCustomTagText","x","y","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof3 = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.REMAINING_ITEMS = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _NotifyResize = require(\"../../NotifyResize\");\n\nvar _throttle = _interopRequireDefault(require(\"../../../common/throttle\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nvar _TextInput = _interopRequireDefault(require(\"./TextInput\"));\n\nvar _Value = _interopRequireDefault(require(\"./Value\"));\n\nvar _ClearButton = _interopRequireDefault(require(\"./ClearButton\"));\n\nvar _ToggleButton = _interopRequireDefault(require(\"./ToggleButton\"));\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _Icons = require(\"./Icons\");\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"./utils/shouldComponentUpdate\"));\n\nvar _getRootClassName = _interopRequireDefault(require(\"./utils/getRootClassName\"));\n\nvar _getListProps2 = _interopRequireDefault(require(\"./utils/getListProps\"));\n\nvar _getValueProps2 = _interopRequireDefault(require(\"./utils/getValueProps\"));\n\nvar _getDataProp = _interopRequireDefault(require(\"./utils/getDataProp\"));\n\nvar _getNewMultipleValue = _interopRequireDefault(require(\"./utils/getNewMultipleValue\"));\n\nvar _getNewSingleValue = _interopRequireDefault(require(\"./utils/getNewSingleValue\"));\n\nvar _findItemIndex = _interopRequireDefault(require(\"./utils/findItemIndex\"));\n\nvar _filterByValue = _interopRequireDefault(require(\"./utils/filterByValue\"));\n\nvar _filterByText = _interopRequireDefault(require(\"./utils/filterByText\"));\n\nvar _deselectValue = _interopRequireDefault(require(\"./utils/deselectValue\"));\n\nvar _getNewActiveTagOnRemove = _interopRequireDefault(require(\"./utils/getNewActiveTagOnRemove\"));\n\nvar _getNextItem = _interopRequireDefault(require(\"./utils/getNextItem\"));\n\nvar _groupItems = _interopRequireDefault(require(\"./utils/groupItems\"));\n\nvar _getValueMap = _interopRequireDefault(require(\"./utils/getValueMap\"));\n\nvar _getGroups = _interopRequireDefault(require(\"./utils/getGroups\"));\n\nvar _PaginationToolbar = require(\"../../PaginationToolbar\");\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar REMAINING_ITEMS = 'REMAINING_ITEMS';\nexports.REMAINING_ITEMS = REMAINING_ITEMS;\nvar emptyObject = {};\n\nvar InovuaComboBox = function (_Component) {\n  (0, _inherits2.default)(InovuaComboBox, _Component);\n\n  var _super = _createSuper(InovuaComboBox);\n\n  function InovuaComboBox(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaComboBox);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidUpdate\", function (prevProps) {\n      if (_this.isExpandedControlled() && _this.props.expanded !== prevProps.expanded) {\n        _this.onExpand();\n      }\n\n      if (prevProps.dataSource !== _this.props.dataSource) {\n        _this.loadDataSource(_this.props.dataSource, _this.props);\n      }\n\n      if (_this.props.idProperty !== prevProps.idProperty) {\n        _this.updateGetIdProperty(_this.props);\n      }\n\n      if (_this.props.displayProperty !== prevProps.displayProperty) {\n        _this.updateGetDisplayProperty(_this.props);\n      }\n\n      if (_this.props.filterProperty !== prevProps.filterProperty) {\n        _this.updateGetFilterProperty(_this.props);\n      }\n\n      if (_this.props.groupProperty !== prevProps.groupProperty) {\n        _this.updateGroups({\n          groupProperty: _this.props.groupProperty\n        });\n      }\n\n      if (_this.isTextControled() && _this.props.text !== prevProps.text) {\n        _this.onTextUpdate(_this.props.text);\n      }\n\n      if (_this.isActiveItemControlled() && prevProps.changeValueOnNavigation && !prevProps.multiple && prevProps.activeItem !== _this.props.activeItem) {\n        _this.setValue(_this.props.activeItem, {\n          action: 'navigate'\n        });\n      }\n\n      if (_this.isExpandedControlled() && !prevProps.expanded && _this.props.expanded) {\n        _this.loadLazyDataSource({\n          action: 'expand',\n          text: ''\n        });\n      }\n    });\n\n    _this.refTools = function (tools) {\n      _this.toolsNode = tools;\n    };\n\n    _this.state = {\n      loading: props.defaultLoading || !!(props.dataSource && props.dataSource.then),\n      value: props.defaultValue,\n      valueMap: {},\n      text: props.defaultText,\n      activeTag: props.defaultActiveTag,\n      activeItem: props.defaultActiveItem || !props.multiple && props.defaultValue,\n      expanded: props.defaultExpanded,\n      toolsSize: {\n        width: 0,\n        height: 0\n      },\n      over: false,\n      focus: false\n    };\n    _this.getData = _this.getData.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleItemClick = _this.handleItemClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextChange = _this.handleTextChange.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextInputClick = _this.handleTextInputClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTagClick = _this.handleTagClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveTag = _this.handleRemoveTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboClick = _this.handleComboClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboKeyDown = _this.handleComboKeyDown.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboFocus = _this.handleComboFocus.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboBlur = _this.handleComboBlur.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getComboNode = _this.getComboNode.bind((0, _assertThisInitialized2.default)(_this));\n    _this.clear = _this.clear.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseEnter = _this.handleMouseEnter.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseLeave = _this.handleMouseLeave.bind((0, _assertThisInitialized2.default)(_this));\n    _this.toggleExpand = _this.toggleExpand.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleToolsSize = _this.handleToolsSize.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveMultipleTag = _this.handleRemoveMultipleTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleListScrollBottom = _this.handleListScrollBottom.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleDelete = _this.handleDelete.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getListNode = _this.getListNode.bind((0, _assertThisInitialized2.default)(_this));\n\n    _this.updateGetIdProperty();\n\n    _this.updateGetDisplayProperty();\n\n    _this.updateGetFilterProperty();\n\n    _this.addTextInputRef = function (ref) {\n      _this.textInput = ref;\n    };\n\n    _this.addRootRef = function (ref) {\n      _this.comboNode = ref;\n    };\n\n    _this.addListRef = function (ref) {\n      _this.listNode = ref;\n    };\n\n    _this.setActiveItem = (0, _throttle.default)(_this.setActiveItem, 16);\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaComboBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoFocus) {\n        this.focus();\n      }\n\n      if (this.state.activeItem && this.state.activeItemIndex == null) {\n        this.setState({\n          activeItemIndex: this.getItemIndexById(this.state.activeItem)\n        });\n      }\n\n      if (!this.isRemoteFilter()) {\n        this.doFilter();\n      }\n\n      if (!this.props.lazyDataSource) {\n        this.loadDataSource(this.props.dataSource);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n          state = this.state;\n      var textInput = this.renderTextInput();\n      var className = (0, _getRootClassName.default)({\n        props: props,\n        state: state,\n        computed: {\n          value: this.getValue()\n        }\n      });\n      var expanded = this.getExpanded();\n      var items = this.getSelectedItems();\n      var groupedItems = this.groupedItems = this.getGroupedItems(this.getSelectedItems());\n      this.areItemsGrouped = this.groupedItems && this.groupedItems.remainingItems && this.groupedItems.remainingItems.length;\n      var style = this.getRootStyle();\n      var filteredData = this.getFilteredData();\n      var text = this.getText();\n      this.isNewCustomTagValid = (!filteredData || filteredData.length === 0) && !!text && props.allowCustomTagCreation;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, InovuaComboBox.propTypes)), {}, {\n        onClick: this.handleComboClick,\n        onMouseDown: this.handleComboMouseDown,\n        onKeyDown: this.handleComboKeyDown,\n        onFocus: this.handleComboFocus,\n        onBlur: this.handleComboBlur,\n        className: className,\n        style: style,\n        ref: this.addRootRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave\n      }), _react.default.createElement(_Value.default, _objectSpread(_objectSpread({}, this.getValueProps({\n        items: items,\n        groupedItems: groupedItems\n      })), {}, {\n        textInput: textInput,\n        toolsSize: state.toolsSize\n      })), _react.default.createElement(\"div\", {\n        className: \"\".concat(props.rootClassName, \"__tools\"),\n        ref: this.refTools\n      }, this.renderSpinner(), this.renderClearIcon(), this.renderToggleIcon(), this.props.tagEllipsis && _react.default.createElement(_NotifyResize.NotifyResize, {\n        notifyOnMount: true,\n        onResize: this.handleToolsSize\n      })), expanded && this.renderList());\n    }\n  }, {\n    key: \"getRootStyle\",\n    value: function getRootStyle() {\n      var props = this.props,\n          state = this.state;\n\n      var style = _objectSpread({}, props.style);\n\n      if (props.borderRadius) {\n        style.borderRadius = props.borderRadius;\n      }\n\n      if (props.padding) {\n        style.padding = props.padding;\n      }\n\n      if (props.border) {\n        style.border = props.border;\n      }\n\n      if (props.background) {\n        style.background = props.background;\n      }\n\n      if (!this.getValue() && props.emptyStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.emptyStyle);\n      }\n\n      if (props.disabledStyle && props.disabled) {\n        style = _objectSpread(_objectSpread({}, style), props.disabledStyle);\n      }\n\n      if (state.focus && props.focusedStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.focusedStyle);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var listProps = this.getListProps();\n      var result;\n\n      if (typeof this.props.renderList === 'function') {\n        result = this.props.renderList({\n          domProps: listProps,\n          items: this.getFilteredData()\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(_List.default, _objectSpread({}, listProps));\n      }\n\n      if (typeof this.props.renderListComponent === 'function') {\n        var res = this.props.renderListComponent(result);\n\n        if ((0, _typeof2.default)(res) !== undefined) {\n          return res;\n        }\n\n        result = res;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderClearIcon\",\n    value: function renderClearIcon() {\n      var props = this.props,\n          state = this.state;\n      var searchable = props.searchable;\n      var text = this.getText();\n      var value = this.getValue();\n      var showClearIcon = (text || value != null) && props.clearIcon;\n\n      if (props.showClearIconOnMouseOver) {\n        if (!state.over) {\n          showClearIcon = false;\n        }\n      }\n\n      if (searchable === false) {\n        showClearIcon = false;\n      }\n\n      if (!showClearIcon) {\n        return null;\n      }\n\n      var clearButton = _react.default.createElement(_ClearButton.default, {\n        onClear: this.clear,\n        closeIcon: props.clearIcon,\n        className: \"\".concat(props.rootClassName, \"__clear-icon\")\n      });\n\n      return clearButton;\n    }\n  }, {\n    key: \"renderToggleIcon\",\n    value: function renderToggleIcon() {\n      var props = this.props;\n\n      if (!props.toggleIcon) {\n        return null;\n      }\n\n      return _react.default.createElement(_ToggleButton.default, {\n        onToggle: this.toggleExpand,\n        className: \"\".concat(props.rootClassName, \"__toggle-icon\"),\n        toggleIcon: props.toggleIcon,\n        expanded: this.getExpanded()\n      });\n    }\n  }, {\n    key: \"renderTextInput\",\n    value: function renderTextInput() {\n      if (this.props.disabled) {\n        return null;\n      }\n\n      var text = this.getText();\n      var value = text;\n\n      if (!this.props.multiple) {\n        if (text == null) {\n          value = this.getValue() == null ? '' : this.getItemLabel();\n        } else {\n          value = text;\n        }\n      }\n\n      var data = this.getFilteredData();\n      var suggestion = null;\n\n      if (this.props.minAutocompleteLength <= (value && value.length) && data && data[0]) {\n        suggestion = this.getDisplayProperty(data[0]);\n      }\n\n      var inputProps = {\n        key: 'text_input',\n        value: value,\n        theme: this.props.theme,\n        suggestion: suggestion,\n        placeholder: this.props.placeholder,\n        rootClassName: \"\".concat(this.props.rootClassName, \"__input\"),\n        className: this.props.inputClassName,\n        style: this.props.inputStyle,\n        onChange: this.handleTextChange,\n        ref: this.addTextInputRef,\n        onClick: this.handleTextInputClick,\n        throttle: this.props.filterDelay,\n        autocomplete: this.props.autocomplete,\n        tabIndex: this.props.tabIndex,\n        autocompleteDelay: this.props.autocompleteDelay,\n        searchable: this.props.searchable\n      };\n      var result;\n\n      if (typeof this.props.renderInput === 'function') {\n        result = this.props.renderInput({\n          text: text,\n          domProps: inputProps,\n          onChange: inputProps.onChange\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(_TextInput.default, _objectSpread({}, inputProps));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderSpinner\",\n    value: function renderSpinner() {\n      if (!this.props.loadingSpinner) {\n        return null;\n      }\n\n      var loading = this.getLoading();\n\n      if (!loading && !this.getExpanded()) {\n        return null;\n      }\n\n      var spinner = this.props.loadingSpinner === true ? _react.default.createElement(_Icons.LoadingIcon, {\n        className: \"\".concat(this.props.rootClassName, \"__loading-spinner\")\n      }) : this.props.loadingSpinner;\n      return loading ? spinner : (0, _react.cloneElement)(spinner, {\n        style: spinner.props.style ? _objectSpread(_objectSpread({}, spinner.props.style), {}, {\n          display: 'none'\n        }) : {\n          display: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"getListProps\",\n    value: function getListProps() {\n      var props = this.props,\n          state = this.state;\n      var data = this.getFilteredData();\n      var groupsLength = this.state.groups && Object.keys(this.state.groups).length || 0;\n      var listProps = (0, _getListProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          data: data,\n          loading: this.getLoading(),\n          activeItem: this.getActiveItem(),\n          value: this.getValue(),\n          dataLength: data && data.length + groupsLength || 0,\n          getIdProperty: this.getIdProperty,\n          getDisplayProperty: this.getDisplayProperty,\n          onItemClick: this.handleItemClick,\n          getComboNode: this.getComboNode,\n          ref: this.addListRef,\n          onScrollBottom: this.handleListScrollBottom,\n          text: this.getText(),\n          isNewCustomTagValid: this.isNewCustomTagValid\n        }\n      });\n      return listProps;\n    }\n  }, {\n    key: \"getValueProps\",\n    value: function getValueProps(_ref) {\n      var items = _ref.items,\n          groupedItems = _ref.groupedItems,\n          item = _ref.item;\n      var props = this.props,\n          state = this.state;\n      var value = this.getValue();\n      return (0, _getValueProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          items: items,\n          item: item,\n          groupedItems: groupedItems,\n          value: value,\n          label: this.getItemLabel(),\n          activeTag: this.getActiveTag()\n        },\n        tagProps: {\n          activeStyle: props.tagActiveStyle,\n          onClick: this.handleTagClick,\n          onCloseTagClick: this.handleRemoveTag,\n          onMultipleTagClose: this.handleRemoveMultipleTag\n        }\n      });\n    }\n  }, {\n    key: \"loadDataSource\",\n    value: function loadDataSource(dataSource) {\n      var _this2 = this;\n\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n\n      var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n          appendTo = _ref2.appendTo,\n          action = _ref2.action,\n          value = _ref2.value,\n          text = _ref2.text,\n          skip = _ref2.skip,\n          limit = _ref2.limit,\n          hasNextPage = _ref2.hasNextPage;\n\n      if (Array.isArray(dataSource)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n\n        this.setData(dataSource, props, {\n          appendTo: appendTo\n        });\n        return;\n      }\n\n      if (dataSource && Array.isArray(dataSource.data)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n\n        this.setData(dataSource.data, props, {\n          remoteCount: dataSource.count != null ? dataSource.count * 1 : null,\n          appendTo: appendTo\n        });\n        return;\n      }\n\n      if (dataSource && dataSource.then) {\n        this.setLoading(true);\n        dataSource.then(function (data) {\n          _this2.props.onDataSourceLoad(data);\n\n          _this2.loadDataSource(data, props, {\n            appendTo: appendTo\n          });\n        });\n        return;\n      }\n\n      if (typeof dataSource === 'function') {\n        var config = _objectSpread(_objectSpread({}, props), {}, {\n          data: this.state.data,\n          hasNextPage: hasNextPage !== undefined ? hasNextPage : this.hasNextPage(),\n          text: this.isRemoteFilter() ? text !== undefined ? text : this.getText() : undefined,\n          skip: skip || 0,\n          action: action,\n          append: !!appendTo,\n          value: value !== undefined ? value : this.getValue(),\n          limit: limit !== undefined ? limit : this.props.limit\n        });\n\n        var dataResult = dataSource(config);\n        this.loadDataSource(dataResult, undefined, {\n          appendTo: config.append === false ? null : appendTo\n        });\n      }\n\n      if (!dataSource) {\n        this.setData(null, props);\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      var _this3 = this;\n\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n          remoteCount = _ref3.remoteCount,\n          appendTo = _ref3.appendTo;\n\n      if (!data) {\n        this.setState({\n          data: null,\n          dataMap: null,\n          filteredData: null,\n          remoteCount: null\n        });\n        return null;\n      }\n\n      if (Array.isArray(appendTo)) {\n        data = appendTo.concat(data);\n      }\n\n      var dataMap = data.reduce(function (acc, item) {\n        acc[_this3.getIdProperty(item)] = item;\n        return acc;\n      }, {});\n\n      if (props.groupProperty) {\n        this.updateGroups({\n          data: data,\n          groupProperty: props.groupProperty\n        });\n      }\n\n      this.updateValueMap({\n        value: this.getValue(props),\n        dataMap: dataMap,\n        oldValueMap: this.getValueMap()\n      });\n      this.updateFilteredData({\n        data: data\n      });\n      this.setState({\n        data: data,\n        dataMap: dataMap,\n        remoteCount: remoteCount\n      });\n    }\n  }, {\n    key: \"getPageCount\",\n    value: function getPageCount() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var count = this.getDataCountForPagination(props);\n      return (0, _PaginationToolbar.getPageCount)({\n        count: count,\n        limit: props.limit\n      });\n    }\n  }, {\n    key: \"hasNextPage\",\n    value: function hasNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.getCurrentPage(props) < this.getPageCount(props);\n    }\n  }, {\n    key: \"getCurrentPage\",\n    value: function getCurrentPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var limit = props.limit,\n          skip = props.skip;\n      return (0, _PaginationToolbar.getCurrentPage)({\n        skip: this.previousSkip ? this.previousSkip : 0,\n        limit: limit\n      });\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n    }\n  }, {\n    key: \"getDataCountForPagination\",\n    value: function getDataCountForPagination() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var data = this.getData();\n      var count = this.isPaginationEnabled(props) ? props.remoteCount || this.state.remoteCount : data ? data.length : 0;\n      return count || 0;\n    }\n  }, {\n    key: \"getFilteredData\",\n    value: function getFilteredData() {\n      return this.state.filteredData;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.state.data;\n    }\n  }, {\n    key: \"loadLazyDataSource\",\n    value: function loadLazyDataSource(_ref4) {\n      var action = _ref4.action,\n          text = _ref4.text;\n\n      if (!this.props.lazyDataSource) {\n        return null;\n      }\n\n      var params = {\n        action: action,\n        text: text,\n        value: this.getValue()\n      };\n      this.setData(null);\n      this.loadDataSource(this.props.dataSource, undefined, params);\n      return null;\n    }\n  }, {\n    key: \"isPaginationEnabled\",\n    value: function isPaginationEnabled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var hasLoadNextPage = typeof props.loadNextPage === 'function';\n      var hasFunctionalDataSource = typeof props.dataSource === 'function';\n\n      if (props.enablePagination === false) {\n        return false;\n      }\n\n      return props.enablePagination ? hasLoadNextPage || hasFunctionalDataSource : hasLoadNextPage;\n    }\n  }, {\n    key: \"remoteFilterData\",\n    value: function remoteFilterData() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$text = _ref5.text,\n          text = _ref5$text === void 0 ? this.getText() : _ref5$text,\n          _ref5$value = _ref5.value,\n          value = _ref5$value === void 0 ? this.getValue() : _ref5$value,\n          filterType = _ref5.filterType;\n\n      this.previousSkip = null;\n      this.loadDataSource(this.props.dataSource, undefined, {\n        text: text,\n        skip: 0\n      });\n    }\n  }, {\n    key: \"loadNextPage\",\n    value: function loadNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var filteredData = this.getFilteredData();\n\n      if (filteredData && filteredData.length < 3) {\n        return null;\n      }\n\n      if (this.previousSkip == null) {\n        this.previousSkip = props.skip;\n      }\n\n      var limit = props.limit;\n      var hasNextPage = this.hasNextPage();\n      var newSkip = this.previousSkip + limit;\n      this.previousSkip = newSkip;\n\n      if (!this.isPaginationEnabled()) {\n        return;\n      }\n\n      var fn = typeof props.dataSource === 'function' ? props.dataSource : null;\n\n      if (fn && hasNextPage) {\n        var currentData = this.state.data;\n        this.loadDataSource(this.props.dataSource, undefined, {\n          appendTo: currentData,\n          hasNextPage: hasNextPage,\n          skip: newSkip,\n          limit: limit,\n          filter: this.currentFilter\n        });\n      }\n    }\n  }, {\n    key: \"isRemoteDataSource\",\n    value: function isRemoteDataSource() {\n      return typeof this.props.dataSource === 'function';\n    }\n  }, {\n    key: \"isRemoteFilter\",\n    value: function isRemoteFilter() {\n      return (0, _typeof2.default)(this.isRemoteDataSource()) && this.props.remoteFilter;\n    }\n  }, {\n    key: \"doFilter\",\n    value: function doFilter() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          text = _ref6.text,\n          value = _ref6.value,\n          force = _ref6.force,\n          data = _ref6.data,\n          filterType = _ref6.filterType,\n          action = _ref6.action;\n\n      if (this.currentFilter === text && !force) {\n        return;\n      }\n\n      this.currentFilter = text;\n\n      if (this.isRemoteFilter()) {\n        if (action === 'select') {\n          return;\n        }\n\n        this.remoteFilterData({\n          value: value,\n          text: text,\n          filterType: filterType\n        });\n      } else {\n        this.updateFilteredData({\n          text: text,\n          value: value,\n          data: data,\n          filterType: filterType\n        });\n      }\n    }\n  }, {\n    key: \"updateFilteredData\",\n    value: function updateFilteredData() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$text = _ref7.text,\n          text = _ref7$text === void 0 ? this.getText() : _ref7$text,\n          _ref7$value = _ref7.value,\n          value = _ref7$value === void 0 ? this.getValue() : _ref7$value,\n          _ref7$data = _ref7.data,\n          data = _ref7$data === void 0 ? this.state.data : _ref7$data,\n          filterType = _ref7.filterType;\n\n      var filteredData = data;\n\n      if (!Array.isArray(filteredData)) {\n        return filteredData;\n      }\n\n      if (!this.isRemoteFilter()) {\n        filteredData = this.filterDataByText({\n          text: text,\n          data: filteredData\n        });\n        filteredData = this.filterDataByValue({\n          value: value,\n          text: text,\n          data: filteredData\n        });\n      }\n\n      var isFilteredByText = filterType === 'text' && data.length !== filteredData.length;\n\n      if (isFilteredByText && this.props.activeFirstItemOnFilter) {\n        var firstItem = filteredData && filteredData[0];\n\n        if (firstItem) {\n          var id = this.getIdProperty(firstItem);\n          this.setActiveItem(id);\n        } else {\n          this.setActiveItem(null);\n        }\n      }\n\n      this.setState({\n        filteredData: filteredData\n      });\n    }\n  }, {\n    key: \"filterDataByValue\",\n    value: function filterDataByValue(_ref8) {\n      var _ref8$value = _ref8.value,\n          value = _ref8$value === void 0 ? this.getValue() : _ref8$value,\n          _ref8$data = _ref8.data,\n          data = _ref8$data === void 0 ? this.state.data : _ref8$data;\n\n      if (!Array.isArray(data)) {\n        return data;\n      }\n\n      var newData = data;\n\n      if (data && value && this.props.removeSelectedItems) {\n        newData = (0, _filterByValue.default)({\n          data: newData,\n          getIdProperty: this.getIdProperty,\n          value: value\n        });\n      }\n\n      return newData;\n    }\n  }, {\n    key: \"filterDataByText\",\n    value: function filterDataByText(_ref9) {\n      var _ref9$text = _ref9.text,\n          text = _ref9$text === void 0 ? this.getText() : _ref9$text,\n          _ref9$data = _ref9.data,\n          data = _ref9$data === void 0 ? this.state.data : _ref9$data;\n\n      if (!data || !text) {\n        return data;\n      }\n\n      var newData = data;\n\n      if (this.isFilterTextActive()) {\n        var filterFunction = this.props.filterFunction;\n        newData = (0, _filterByText.default)({\n          data: data,\n          text: text,\n          filterFunction: filterFunction,\n          getFilterProperty: this.getFilterProperty || this.getDisplayProperty,\n          mode: this.props.filterMode,\n          hightlight: this.props.highlightMatchedText\n        });\n      }\n\n      return newData;\n    }\n  }, {\n    key: \"getDataMap\",\n    value: function getDataMap() {\n      return this.state.dataMap;\n    }\n  }, {\n    key: \"getValueMap\",\n    value: function getValueMap() {\n      return this.state.valueMap;\n    }\n  }, {\n    key: \"isValueControlled\",\n    value: function isValueControlled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return props.value !== undefined;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.isValueControlled(props) ? props.value : this.state.value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(newValue) {\n      var _ref10 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          action = _ref10.action;\n\n      if (this.props.disabled) {\n        return null;\n      }\n\n      if (this.props.readOnly) {\n        return null;\n      }\n\n      if (this.props.maxValueLength && newValue && newValue.length > this.props.maxValueLength) {\n        return null;\n      }\n\n      if (this.props.collapseOnSelect && action !== 'navigate') {\n        this.collapse();\n      }\n\n      if (this.props.autoBlur) {\n        this.blur();\n      }\n\n      if (!this.isValueControlled()) {\n        this.setState({\n          value: newValue\n        });\n      }\n\n      this.setText(null, {\n        skipFilter: true\n      });\n      this.updateValueMap({\n        value: newValue\n      });\n      this.props.onChange(newValue);\n    }\n  }, {\n    key: \"isFilterTextActive\",\n    value: function isFilterTextActive() {\n      var text = this.getText();\n      var data = this.getFilteredData();\n      return data && text && this.props.searchable && text.length >= this.props.filterMinLength;\n    }\n  }, {\n    key: \"updateValueMap\",\n    value: function updateValueMap(_ref11) {\n      var _this4 = this;\n\n      var value = _ref11.value,\n          dataMap = _ref11.dataMap,\n          oldValueMap = _ref11.oldValueMap;\n      var newValueMap = (0, _getValueMap.default)({\n        value: value,\n        dataMap: dataMap || this.getDataMap(),\n        oldValueMap: oldValueMap || this.getValueMap()\n      });\n\n      if (newValueMap) {\n        newValueMap = Object.keys(newValueMap).reduce(function (acc, id) {\n          var item = newValueMap[id];\n          acc[id] = _objectSpread(_objectSpread({}, item), {}, {\n            id: _this4.getIdProperty(item),\n            label: _this4.getDisplayProperty(item) || item\n          });\n          return acc;\n        }, {});\n      }\n\n      this.setState({\n        valueMap: newValueMap\n      });\n    }\n  }, {\n    key: \"selectItem\",\n    value: function selectItem(id) {\n      var dataMap = this.getDataMap();\n      var item = dataMap && dataMap[id];\n\n      if (!item && !this.props.allowCustomTagCreation) {\n        return null;\n      }\n\n      if (typeof this.props.isSelectedItemValid === 'function') {\n        var isItemValid = this.props.isSelectedItemValid(item);\n\n        if (!isItemValid) {\n          return null;\n        }\n      }\n\n      var value = this.getValue();\n      var newValue;\n\n      if (this.props.multiple) {\n        newValue = (0, _getNewMultipleValue.default)({\n          id: id,\n          value: value\n        });\n      } else {\n        newValue = (0, _getNewSingleValue.default)({\n          id: id,\n          value: value,\n          toggle: this.props.changeValueOnNavigation ? false : this.props.allowSelectionToggle\n        });\n      }\n\n      this.setValue(newValue, {\n        action: 'select'\n      });\n      this.props.onItemClick({\n        item: item,\n        id: id\n      });\n    }\n  }, {\n    key: \"deselectItem\",\n    value: function deselectItem(id) {\n      var value = this.getValue();\n      var newValue = (0, _deselectValue.default)({\n        id: id,\n        value: value,\n        getIdProperty: this.getIdProperty\n      });\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"deselectItems\",\n    value: function deselectItems() {\n      var _this5 = this;\n\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var value = this.getValue();\n      var newValue = ids.reduce(function (acc, id) {\n        acc = (0, _deselectValue.default)({\n          id: id,\n          value: acc,\n          getIdProperty: _this5.getIdProperty\n        });\n        return acc;\n      }, value);\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"getExpanded\",\n    value: function getExpanded() {\n      return this.isExpandedControlled() ? this.props.expanded : this.expanded != null ? this.expanded : this.state.expanded;\n    }\n  }, {\n    key: \"isExpandedControlled\",\n    value: function isExpandedControlled() {\n      return this.props.expanded !== undefined;\n    }\n  }, {\n    key: \"setExpanded\",\n    value: function setExpanded(expanded) {\n      var _this6 = this;\n\n      if (this.expandedPromise) {\n        this.expandedPromise.then(function (result) {\n          if (_this6.getExpanded() !== expanded) {\n            _this6.setExpanded(expanded);\n          }\n        });\n        return;\n      }\n\n      this.expandedPromise = this.doSetExpanded(expanded).then(function () {\n        delete _this6.expandedPromise;\n      });\n    }\n  }, {\n    key: \"doSetExpanded\",\n    value: function doSetExpanded(expanded) {\n      var _this7 = this;\n\n      if (this.props.disabled) {\n        return Promise.resolve(null);\n      }\n\n      var currentExpanded = this.getExpanded();\n\n      if (currentExpanded === expanded) {\n        return Promise.resolve(expanded);\n      }\n\n      if (!expanded && this.isRemoteFilter()) {\n        this.previousSkip = null;\n      }\n\n      globalObject.requestAnimationFrame(function () {\n        if (_this7.toolsNode) {\n          _this7.handleToolsSize();\n        }\n      });\n      var promise;\n\n      if (!this.isExpandedControlled()) {\n        promise = new Promise(function (resolve, reject) {\n          _this7.setState({\n            expanded: expanded\n          }, function () {\n            resolve(expanded);\n          });\n        });\n      } else {\n        promise = Promise.resolve(expanded);\n      }\n\n      if (expanded) {\n        if (this.isRemoteDataSource() && this.state.data === undefined) {\n          this.loadDataSource(this.props.dataSource);\n        } else {\n          if (this.wasExpandedAtLeastOnce) {\n            this.doFilter({\n              text: '',\n              action: 'expand',\n              force: true\n            });\n          }\n        }\n      }\n\n      if (expanded && !this.wasExpandedAtLeastOnce) {\n        this.wasExpandedAtLeastOnce = true;\n      }\n\n      if (expanded) {\n        this.onExpand();\n      } else {\n        this.props.onCollapse();\n      }\n\n      this.props.onExpandChange(expanded);\n      this.props.onExpandedChange(expanded);\n      return promise;\n    }\n  }, {\n    key: \"onExpand\",\n    value: function onExpand() {\n      this.props.onExpand();\n\n      if (this.props.highlightFirst) {\n        var activeItem = this.getActiveItem();\n\n        if (!activeItem) {\n          var firstItem = this.getItemByIndex(0);\n\n          if (firstItem) {\n            var id = this.getIdProperty(firstItem);\n            this.setActiveItem(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isActiveTagControlled\",\n    value: function isActiveTagControlled() {\n      return this.props.activeTag !== undefined;\n    }\n  }, {\n    key: \"setActiveTag\",\n    value: function setActiveTag(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n\n      if (!this.isActiveTagControlled()) {\n        this.setState({\n          activeTag: id\n        });\n      }\n\n      this.props.onActiveTagChange(id);\n    }\n  }, {\n    key: \"deselectActiveTag\",\n    value: function deselectActiveTag() {\n      var activeTag = this.getActiveTag();\n\n      if (activeTag) {\n        this.setActiveTag(null);\n      }\n    }\n  }, {\n    key: \"getActiveTag\",\n    value: function getActiveTag() {\n      return this.isActiveTagControlled() ? this.props.activeTag : this.state.activeTag;\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function getSelectedItems() {\n      var _this8 = this;\n\n      var valueMap = this.getValueMap();\n      var value = this.getValue();\n      var items = null;\n\n      if (value) {\n        value = Array.isArray(value) ? value : [value];\n        items = value.map(function (id) {\n          return valueMap[id] || {\n            id: (0, _typeof2.default)(id) === 'object' ? _this8.getIdProperty(id) : id,\n            label: (0, _typeof2.default)(id) === 'object' ? _this8.getDisplayProperty(id) : _this8.getItemLabel(id)\n          };\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"getItemLabel\",\n    value: function getItemLabel(id) {\n      id = id === undefined ? this.getValue() : id;\n      var valueMap = this.getValueMap();\n      var dataMap = this.getDataMap();\n      var label;\n\n      if (valueMap && valueMap[id]) {\n        label = valueMap[id].label;\n      } else if (dataMap && dataMap[id]) {\n        label = this.getDisplayProperty(dataMap[id]);\n      }\n\n      if (label === undefined) {\n        label = this.props.defaultDisplayValue !== undefined && id != null ? this.props.defaultDisplayValue : id;\n      }\n\n      return label;\n    }\n  }, {\n    key: \"getGroupedItems\",\n    value: function getGroupedItems(items) {\n      var maxTagsLength = this.props.maxTagsLength;\n\n      if (maxTagsLength == null || !items) {\n        return null;\n      }\n\n      return (0, _groupItems.default)({\n        maxTagsLength: maxTagsLength,\n        items: items\n      });\n    }\n  }, {\n    key: \"isActiveItemControlled\",\n    value: function isActiveItemControlled() {\n      return this.props.activeItem !== undefined;\n    }\n  }, {\n    key: \"setActiveItem\",\n    value: function setActiveItem(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n\n      var activeItem = this.getActiveItem();\n\n      if (activeItem === id) {\n        return null;\n      }\n\n      if (!this.isActiveItemControlled()) {\n        var activeItemIndex = null;\n\n        if (id) {\n          activeItemIndex = this.getItemIndexById(id);\n        }\n\n        this.setState({\n          activeItemIndex: activeItemIndex,\n          activeItem: id\n        });\n\n        if (this.props.changeValueOnNavigation && !this.props.multiple) {\n          this.setValue(id, {\n            action: 'navigate'\n          });\n        }\n      }\n\n      this.scrollToId(id);\n      this.props.onActiveItemChange(id);\n    }\n  }, {\n    key: \"getActiveItem\",\n    value: function getActiveItem() {\n      return this.isActiveItemControlled() ? this.props.activeItem : this.state.activeItem;\n    }\n  }, {\n    key: \"isTextControled\",\n    value: function isTextControled() {\n      return this.props.text != null;\n    }\n  }, {\n    key: \"getText\",\n    value: function getText() {\n      return this.isTextControled() ? this.props.text : this.state.text;\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n\n      if (text === this.getText()) {\n        callback();\n        return;\n      }\n\n      if (!this.isTextControled()) {\n        this.setStateText(text, config, callback);\n      }\n\n      this.props.onTextChange(text);\n    }\n  }, {\n    key: \"setStateText\",\n    value: function setStateText(text) {\n      var _this9 = this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n\n      this.setState({\n        text: text\n      }, function () {\n        _this9.onTextUpdate(text, config);\n\n        callback();\n      });\n    }\n  }, {\n    key: \"onTextUpdate\",\n    value: function onTextUpdate(text) {\n      var _ref12 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject,\n          skipFilter = _ref12.skipFilter;\n\n      this.clearValueOnEmptyIfNecessary(text);\n\n      if (!skipFilter) {\n        this.doFilter({\n          text: text,\n          filterType: 'text'\n        });\n      }\n    }\n  }, {\n    key: \"clearValueOnEmptyIfNecessary\",\n    value: function clearValueOnEmptyIfNecessary(text) {\n      if (this.props.clearValueOnEmpty && !this.props.multiple && text === '') {\n        this.setValue(null);\n      }\n    }\n  }, {\n    key: \"getLoading\",\n    value: function getLoading() {\n      return this.isLoadingControlled() ? this.props.loading : this.state.loading;\n    }\n  }, {\n    key: \"isLoadingControlled\",\n    value: function isLoadingControlled() {\n      return this.props.loading != null;\n    }\n  }, {\n    key: \"setLoading\",\n    value: function setLoading(loading) {\n      if (loading === this.state.loading) {\n        return;\n      }\n\n      if (!this.isLoadingControlled()) {\n        this.setState({\n          loading: loading\n        });\n      }\n\n      this.props.onLoadingChange(loading);\n    }\n  }, {\n    key: \"handleComboClick\",\n    value: function handleComboClick(event) {\n      event.preventDefault();\n\n      if (this.props.toggleExpandOnClick) {\n        this.toggleExpand();\n      } else if (this.props.expandOnClick) {\n        this.expand();\n      }\n\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter() {\n      this.setState({\n        over: true\n      });\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      this.setState({\n        over: false\n      });\n    }\n  }, {\n    key: \"handleComboFocus\",\n    value: function handleComboFocus() {\n      if (this.props.expandOnFocus) {\n        this.expand();\n      }\n\n      this.setState({\n        focus: true\n      });\n      this.props.onFocus();\n    }\n  }, {\n    key: \"handleComboBlur\",\n    value: function handleComboBlur(event) {\n      var _this10 = this;\n\n      if (this.isFocused() && event && event.relatedTarget && (0, _containsNode.default)(this.comboNode, event.relatedTarget)) {\n        globalObject.requestAnimationFrame(function () {\n          _this10.focus();\n        });\n        return;\n      }\n\n      if (this.props.collapseOnBlur) {\n        this.collapse();\n      }\n\n      if (this.props.clearTextOnBlur) {\n        this.setText(null);\n      }\n\n      this.setState({\n        focus: false\n      });\n      this.props.onBlur();\n    }\n  }, {\n    key: \"isFocused\",\n    value: function isFocused() {\n      return this.state.focus;\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(id) {\n      if (!this.isFocused() && this.props.focusOnClick) {\n        this.focus();\n      }\n\n      this.setActiveItem(id);\n      this.selectItem(id);\n    }\n  }, {\n    key: \"handleTextChange\",\n    value: function handleTextChange(text) {\n      var _this11 = this;\n\n      this.deselectActiveTag();\n      this.setText(text, {\n        skipFilter: this.props.expandOnTextChange && !this.getExpanded()\n      }, function () {\n        if (_this11.props.expandOnTextChange) {\n          _this11.expand();\n        }\n      });\n    }\n  }, {\n    key: \"handleTextInputClick\",\n    value: function handleTextInputClick() {\n      this.deselectActiveTag();\n    }\n  }, {\n    key: \"handleRemoveTag\",\n    value: function handleRemoveTag(id) {\n      this.removeTag(id);\n    }\n  }, {\n    key: \"handleRemoveMultipleTag\",\n    value: function handleRemoveMultipleTag(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleListScrollBottom\",\n    value: function handleListScrollBottom() {\n      this.loadNextPage();\n    }\n  }, {\n    key: \"removeTag\",\n    value: function removeTag(id) {\n      var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var activeTag = this.getActiveTag();\n\n      if (activeTag === id && activeTag != null) {\n        var value = this.getValue();\n        var newActiveTag = (0, _getNewActiveTagOnRemove.default)({\n          id: id,\n          value: value,\n          dir: dir\n        });\n        this.setActiveTag(newActiveTag);\n      }\n\n      this.deselectItem(id);\n    }\n  }, {\n    key: \"removeRemainingTags\",\n    value: function removeRemainingTags() {\n      var ids = this.groupedItems.remainingItems.map(function (item) {\n        return item.id;\n      });\n      var visibleItems = this.groupedItems.visibleItems;\n      var activeTag = this.getActiveTag();\n\n      if (activeTag === REMAINING_ITEMS) {\n        var lastItem = Array.isArray(visibleItems) && visibleItems[visibleItems.length - 1];\n\n        if (lastItem) {\n          this.setActiveTag(lastItem.id);\n        }\n      } else {\n        this.deselectActiveTag();\n      }\n\n      this.removeTags(ids);\n    }\n  }, {\n    key: \"removeTags\",\n    value: function removeTags(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleTagClick\",\n    value: function handleTagClick(id) {\n      var activeTag = this.getActiveTag();\n\n      if (activeTag === id) {\n        this.setActiveTag(null);\n      } else {\n        this.setActiveTag(id);\n      }\n\n      this.props.onTagClick(this.getItemById(id));\n\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleComboMouseDown\",\n    value: function handleComboMouseDown(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleComboKeyDown\",\n    value: function handleComboKeyDown(event) {\n      if (this.props.allowCustomTagCreation && event.key === 'Enter') {\n        if (this.isNewCustomTagValid) {\n          this.selectItem(this.getText());\n          this.setText(null);\n        }\n      }\n\n      if (this.props.enableNavigation) {\n        if (this.props.enableListNavigation) {\n          switch (event.key) {\n            case 'ArrowDown':\n              this.navigateToNextItem(1, event);\n              break;\n\n            case 'ArrowUp':\n              this.navigateToNextItem(-1, event);\n              break;\n\n            case 'Enter':\n              this.handleEnterKeyPress(event);\n              break;\n\n            case 'Space':\n              this.selectActiveItem();\n              break;\n          }\n        }\n\n        if (this.props.enableTagNavigation) {\n          switch (event.key) {\n            case 'ArrowLeft':\n              this.navigateToNextTag(-1, event);\n              break;\n\n            case 'ArrowRight':\n              this.navigateToNextTag(1, event);\n              break;\n\n            case 'Backspace':\n              this.handleBackspace(event);\n              break;\n\n            case 'Delete':\n              this.handleDelete(event);\n          }\n        }\n      }\n\n      if (event.key === 'Escape') {\n        var expanded = this.getExpanded();\n\n        if (this.props.collapseOnEscape) {\n          if (expanded) {\n            this.collapse();\n          }\n        }\n\n        if (!expanded && this.getActiveTag()) {\n          this.setActiveTag(null);\n        }\n\n        if (!this.props.multiple) {\n          this.setText(null);\n        }\n      }\n\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(event, this);\n      }\n    }\n  }, {\n    key: \"navigateToNextItem\",\n    value: function navigateToNextItem(direction, event) {\n      var data = this.getFilteredData();\n\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (this.getExpanded()) {\n        var activeItem = this.getActiveItem();\n        var newActiveItem;\n\n        if (activeItem != null) {\n          newActiveItem = (0, _getNextItem.default)({\n            direction: direction,\n            data: data,\n            id: activeItem,\n            activeItem: activeItem,\n            getIdProperty: this.getIdProperty\n          });\n        } else {\n          var firstItemId;\n          var lastItemId;\n\n          if (data && data.length) {\n            firstItemId = this.getIdProperty(data[0]);\n            lastItemId = this.getIdProperty(data[data.length - 1]);\n\n            if (direction && firstItemId != null) {\n              newActiveItem = firstItemId;\n            }\n\n            if (direction === -1 && lastItemId != null) {\n              newActiveItem = lastItemId;\n            }\n          }\n        }\n\n        this.setActiveItem(newActiveItem);\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"selectActiveItem\",\n    value: function selectActiveItem() {\n      var activeItem = this.getActiveItem();\n\n      if (activeItem) {\n        this.selectItem(activeItem);\n      }\n    }\n  }, {\n    key: \"handleEnterKeyPress\",\n    value: function handleEnterKeyPress(event) {\n      var expanded = this.getExpanded();\n\n      if (expanded) {\n        this.selectActiveItem();\n      }\n\n      var activeItem = this.getActiveItem();\n\n      if (this.props.collapseOnSelectWithEnter) {\n        if (activeItem && expanded) {\n          this.collapse();\n        }\n      }\n\n      if (this.props.navigateToNextAfterSelection && this.props.multiple && activeItem) {\n        this.navigateToNextItem(1, event);\n      }\n    }\n  }, {\n    key: \"navigateToNextTag\",\n    value: function navigateToNextTag(direction, event) {\n      if (!this.isNavigationAllowed(direction)) {\n        return null;\n      }\n\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      var newActiveTag;\n      var items = this.getSelectedItems();\n      var itemsIds;\n\n      if (this.areItemsGrouped) {\n        var visibleItems = this.groupedItems.visibleItems.map(function (item) {\n          return item.id;\n        });\n        itemsIds = [].concat((0, _toConsumableArray2.default)(visibleItems), [REMAINING_ITEMS]);\n      } else {\n        itemsIds = items.map(function (item) {\n          return item.id;\n        });\n      }\n\n      var currentActiveTag = this.getActiveTag();\n      var currentIndex = itemsIds.indexOf(currentActiveTag);\n      var lastIndex = itemsIds.length - 1;\n      var lastTag = itemsIds[lastIndex];\n      var firstTag = itemsIds[0];\n      var isFirstTag = currentIndex === 0;\n      var isLastTag = currentIndex === lastIndex;\n\n      if (direction === -1 && isFirstTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n\n      if (direction === 1 && isLastTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n\n      if (currentActiveTag === null || currentIndex === -1) {\n        newActiveTag = direction === -1 ? lastTag : firstTag;\n      } else {\n        if (direction === -1) {\n          newActiveTag = isFirstTag ? lastTag : itemsIds[currentIndex - 1];\n        } else if (direction === 1) {\n          newActiveTag = isLastTag ? firstTag : itemsIds[currentIndex + 1];\n        }\n      }\n\n      this.setActiveTag(newActiveTag);\n      return null;\n    }\n  }, {\n    key: \"isNavigationAllowed\",\n    value: function isNavigationAllowed(direction) {\n      if (!this.props.multiple) {\n        return false;\n      }\n\n      var inputNode = this.getTextInputNode();\n\n      if (inputNode.hasSelection()) {\n        return false;\n      }\n\n      var currentActiveTag = this.getActiveTag();\n      var canNavigateLeft = inputNode.isCursorAtStartPosition() && direction === -1;\n      var canNavigateRight = inputNode.isCursorAtEndPosition() && direction === 1;\n\n      if (!canNavigateRight && !canNavigateLeft && !currentActiveTag) {\n        return false;\n      }\n\n      var items = this.getSelectedItems();\n\n      if (!Array.isArray(items)) {\n        return false;\n      }\n\n      if (items.length === 1 && currentActiveTag) {\n        this.setActiveTag(null);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleBackspace\",\n    value: function handleBackspace(event) {\n      if (this.props.multiple) {\n        this.handleTagBackspaceRemove(event);\n      }\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(event) {\n      var activeTag = this.getActiveTag();\n\n      if (this.props.multiple && activeTag) {\n        this.removeTag(activeTag, 1);\n      }\n    }\n  }, {\n    key: \"handleTagBackspaceRemove\",\n    value: function handleTagBackspaceRemove(event) {\n      if (!this.props.removeTagOnBackspace) {\n        return null;\n      }\n\n      var value = this.getValue();\n\n      if (!value) {\n        return null;\n      }\n\n      var activeTag = this.getActiveTag();\n\n      if (activeTag != null) {\n        event.preventDefault();\n\n        if (activeTag === REMAINING_ITEMS) {\n          this.removeRemainingTags();\n        } else {\n          this.removeTag(activeTag, -1);\n        }\n\n        return null;\n      }\n\n      var inputNode = this.getTextInputNode();\n      var canDeleteTag = value && value.length && inputNode.isCursorAtStartPosition();\n\n      if (canDeleteTag) {\n        if (this.areItemsGrouped) {\n          var ids = this.groupedItems.remainingItems.map(function (item) {\n            return item.id;\n          });\n          this.removeTags(ids);\n        } else {\n          var items = this.getSelectedItems();\n          var lastItem = items[items.length - 1];\n          var lastItemId = lastItem.id;\n\n          if (this.props.keepTagTextOnRemove) {\n            var label = lastItem.label;\n\n            if (label && typeof label === 'string') {\n              this.setText(label);\n            }\n          }\n\n          this.removeTag(lastItemId);\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"handleToolsSize\",\n    value: function handleToolsSize() {\n      var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.toolsNode ? this.toolsNode.getBoundingClientRect() : {\n        width: 0,\n        height: 0\n      };\n      var node = this.comboNode;\n      var computedStyle = globalObject.getComputedStyle(node);\n      var width = size.width + parseInt(computedStyle.paddingLeft, 10) + parseInt(computedStyle.paddingRight, 10);\n      this.setState({\n        toolsSize: {\n          height: size.height,\n          width: width\n        }\n      });\n    }\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      this.setExpanded(true);\n    }\n  }, {\n    key: \"collapse\",\n    value: function collapse() {\n      this.setExpanded(false);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var listNode = this.getListNode();\n      return listNode && listNode.scrollToIndex(index);\n    }\n  }, {\n    key: \"getItemIndexById\",\n    value: function getItemIndexById(id) {\n      var index = (0, _findItemIndex.default)({\n        id: id,\n        data: this.getFilteredData(),\n        getIdProperty: this.getIdProperty\n      });\n      return index;\n    }\n  }, {\n    key: \"scrollToId\",\n    value: function scrollToId(id) {\n      var index = this.getItemIndexById(id);\n\n      if (index != null) {\n        this.scrollToIndex(index);\n      }\n    }\n  }, {\n    key: \"toggleExpand\",\n    value: function toggleExpand() {\n      var expanded = this.getExpanded();\n\n      if (expanded) {\n        this.collapse();\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      var data = this.getFilteredData();\n\n      if (!data || !Array.isArray(data) || !data[index]) {\n        return null;\n      }\n\n      return data[index];\n    }\n  }, {\n    key: \"getItemById\",\n    value: function getItemById(id) {\n      var dataMap = this.getDataMap();\n      return dataMap && dataMap[id] || id;\n    }\n  }, {\n    key: \"updateGetIdProperty\",\n    value: function updateGetIdProperty(props) {\n      props = props || this.props;\n      this.getIdProperty = (0, _getDataProp.default)(props.idProperty);\n    }\n  }, {\n    key: \"updateGetDisplayProperty\",\n    value: function updateGetDisplayProperty(props) {\n      props = props || this.props;\n      this.getDisplayProperty = (0, _getDataProp.default)(props.displayProperty);\n    }\n  }, {\n    key: \"updateGetFilterProperty\",\n    value: function updateGetFilterProperty(props) {\n      props = props || this.props;\n      this.getFilterProperty = (0, _getDataProp.default)(props.filterProperty);\n    }\n  }, {\n    key: \"updateGroups\",\n    value: function updateGroups(_ref13) {\n      var _ref13$groupProperty = _ref13.groupProperty,\n          groupProperty = _ref13$groupProperty === void 0 ? this.props.groupProperty : _ref13$groupProperty,\n          _ref13$data = _ref13.data,\n          data = _ref13$data === void 0 ? this.getFilteredData() : _ref13$data;\n\n      if (!data) {\n        return null;\n      }\n\n      var groups = (0, _getGroups.default)(data, groupProperty);\n      this.setState({\n        groups: groups\n      });\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var textInput = this.getTextInputNode();\n\n      if (textInput && textInput.focus && !this.hasFocus()) {\n        textInput.focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var textInput = this.getTextInputNode();\n\n      if (textInput && textInput.blur) {\n        textInput.blur();\n      }\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      var textInput = this.getTextInputNode();\n\n      if (textInput && textInput.hasFocus) {\n        return textInput.hasFocus();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getTextInputNode\",\n    value: function getTextInputNode() {\n      return this.textInput;\n    }\n  }, {\n    key: \"getComboNode\",\n    value: function getComboNode() {\n      return this.comboNode;\n    }\n  }, {\n    key: \"getListNode\",\n    value: function getListNode() {\n      return this.listNode;\n    }\n  }, {\n    key: \"getVirtualListNode\",\n    value: function getVirtualListNode() {\n      return this.listNode && this.listNode.getVirtualListNode();\n    }\n  }, {\n    key: \"getlListNode\",\n    value: function getlListNode() {\n      return this.listNode && this.listNode.getlListNode();\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(item) {\n      var newData = [].concat((0, _toConsumableArray2.default)(this.getData()), [item]);\n      this.setData(newData);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this12 = this;\n\n      this.setValue(null);\n      this.setText(null);\n      globalObject.requestAnimationFrame(function () {\n        if (_this12.toolsNode) {\n          _this12.handleToolsSize();\n        }\n      });\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(id) {\n      return this.getItemById(id);\n    }\n  }, {\n    key: \"getItemCount\",\n    value: function getItemCount() {\n      var data = this.getData();\n      return Array.isArray(data) ? data.length : null;\n    }\n  }, {\n    key: \"insertItem\",\n    value: function insertItem(_ref14) {\n      var index = _ref14.index,\n          item = _ref14.item;\n      var data = this.getData();\n      var newData = [].concat((0, _toConsumableArray2.default)(data.slice(0, index)), [item], (0, _toConsumableArray2.default)(data.slice(index)));\n      this.setData(newData);\n    }\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(ids) {\n      var _this13 = this;\n\n      ids = Array.isArray(ids) ? ids : [ids];\n      var data = this.getData();\n      var newData = data.filter(function (item) {\n        var id = _this13.getIdProperty(item);\n\n        return ids.indexOf(id) === -1;\n      });\n      this.setData(newData);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var expanded = this.getExpanded();\n      this.setExpanded(!expanded);\n    }\n  }]);\n  return InovuaComboBox;\n}(_react.Component);\n\nfunction emptyFn() {}\n\nInovuaComboBox.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-combo-box',\n  inlineFlex: false,\n  itemEllipsis: true,\n  borderRadius: 0,\n  shadow: true,\n  showShadowOnMouseOver: false,\n  clearTextOnBlur: true,\n  onKeyDown: emptyFn,\n  autoFocus: false,\n  autoBlur: false,\n  focusOnClick: true,\n  onFocus: emptyFn,\n  onBlur: emptyFn,\n  defaultActiveItem: null,\n  highlightFirst: false,\n  onTextChange: emptyFn,\n  searchable: true,\n  tagCloseIconPosition: 'end',\n  removeTagOnBackspace: true,\n  tagEllipsis: true,\n  filterMinLength: 0,\n  filterDelay: 300,\n  activeFirstItemOnFilter: true,\n  clearIcon: true,\n  toggleIcon: true,\n  showClearIconOnMouseOver: false,\n  clearTextOnSelect: true,\n  filterMode: 'contains',\n  highlightMatchedText: false,\n  onActiveTagChange: emptyFn,\n  enableTagNavigation: true,\n  onTagClick: emptyFn,\n  onActiveItemChange: emptyFn,\n  keepTagTextOnRemove: true,\n  onItemClick: emptyFn,\n  onChange: emptyFn,\n  minAutocompleteLength: 3,\n  autocompleteDelay: 300,\n  autocomplete: false,\n  defaultValue: null,\n  multiple: false,\n  removeSelectedItems: false,\n  allowSelectionToggle: true,\n  clearValueOnEmpty: true,\n  onDataSourceLoad: emptyFn,\n  idProperty: 'id',\n  displayProperty: 'label',\n  groupProperty: 'group',\n  limit: 50,\n  skip: 0,\n  onLoadingChange: emptyFn,\n  listLoadingText: 'Loading...',\n  loadingSpinner: true,\n  listEmptyText: 'No data found',\n  defaultText: null,\n  defaultExpanded: false,\n  onExpandedChange: emptyFn,\n  onExpandChange: emptyFn,\n  collapseOnEscape: true,\n  expandOnClick: true,\n  expandOnFocus: true,\n  collapseOnBlur: true,\n  onExpand: emptyFn,\n  onCollapse: emptyFn,\n  expandOnTextChange: true,\n  toggleExpandOnClick: true,\n  wrapMultiple: true,\n  theme: 'default-light',\n  enableNavigation: true,\n  enableListNavigation: true,\n  navigateToNextAfterSelection: true,\n  positions: ['bottom', 'top'],\n  offset: 2,\n  constrainTo: true\n};\n\nvar VALUE_TYPE = _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool, _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool]))]);\n\nInovuaComboBox.propTypes = {\n  rootClassName: _propTypes.default.string,\n  theme: _propTypes.default.string,\n  inlineFlex: _propTypes.default.bool,\n  shouldComponentUpdate: _propTypes.default.func,\n  lazyDataSource: _propTypes.default.bool,\n  remoteFilter: _propTypes.default.bool,\n  disabled: _propTypes.default.bool,\n  readOnly: _propTypes.default.bool,\n  rtl: _propTypes.default.bool,\n  tabIndex: _propTypes.default.number,\n  collapseOnSelect: _propTypes.default.bool,\n  clearTextOnBlur: _propTypes.default.bool,\n  listEmptyText: _propTypes.default.node,\n  listMaxHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  listMinHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  maxTagsLength: _propTypes.default.number,\n  defaultLoading: _propTypes.default.bool,\n  loading: _propTypes.default.bool,\n  onLoadingChange: _propTypes.default.func,\n  listLoadingText: _propTypes.default.node,\n  loadingSpinner: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool]),\n  onKeyDown: _propTypes.default.func,\n  onTagClick: _propTypes.default.func,\n  clearIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  toggleIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  showClearIconOnMouseOver: _propTypes.default.bool,\n  autoFocus: _propTypes.default.bool,\n  autoBlur: _propTypes.default.bool,\n  focusOnClick: _propTypes.default.bool,\n  onFocus: _propTypes.default.func,\n  onBlur: _propTypes.default.func,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  background: _propTypes.default.string,\n  shadow: _propTypes.default.bool,\n  showShadowOnMouseOver: _propTypes.default.bool,\n  emptyClassName: _propTypes.default.string,\n  emptyStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  itemBackground: _propTypes.default.string,\n  disabledItemStyle: _propTypes.default.object,\n  disabledItemClassName: _propTypes.default.string,\n  renderItem: _propTypes.default.func,\n  itemEllipsis: _propTypes.default.bool,\n  activeItemStyle: _propTypes.default.object,\n  activeItemClassName: _propTypes.default.string,\n  selectedItemStyle: _propTypes.default.object,\n  limit: _propTypes.default.number,\n  skip: _propTypes.default.number,\n  loadNextPage: _propTypes.default.func,\n  searchable: _propTypes.default.bool,\n  placeholder: _propTypes.default.node,\n  text: _propTypes.default.string,\n  defaultText: _propTypes.default.string,\n  onTextChange: _propTypes.default.func,\n  filterFunction: _propTypes.default.func,\n  filterProperty: _propTypes.default.string,\n  loadLazyDataSource: _propTypes.default.func,\n  filterMinLength: _propTypes.default.number,\n  filterDelay: _propTypes.default.number,\n  activeFirstItemOnFilter: _propTypes.default.bool,\n  renderInput: _propTypes.default.func,\n  inputClassName: _propTypes.default.string,\n  inputStyle: _propTypes.default.object,\n  clearTextOnSelect: _propTypes.default.bool,\n  filterMode: _propTypes.default.oneOf(['startsWith', 'contains']),\n  highlightMatchedText: _propTypes.default.bool,\n  autocomplete: _propTypes.default.bool,\n  minAutocompleteLength: _propTypes.default.number,\n  autocompleteDelay: _propTypes.default.number,\n  enableNavigatio: _propTypes.default.bool,\n  keepTagTextOnRemove: _propTypes.default.bool,\n  tagActiveStyle: _propTypes.default.object,\n  enableTagNavigation: _propTypes.default.bool,\n  activeTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveTagChange: _propTypes.default.func,\n  allowCustomTagCreation: _propTypes.default.bool,\n  enableNavigation: _propTypes.default.bool,\n  enableListNavigation: _propTypes.default.bool,\n  highlightFirst: _propTypes.default.bool,\n  activeItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveItemChange: _propTypes.default.func,\n  navigateToNextAfterSelection: _propTypes.default.bool,\n  onItemClick: _propTypes.default.func,\n  onChange: _propTypes.default.func,\n  listClassName: _propTypes.default.string,\n  selectedStyle: _propTypes.default.object,\n  selectedClassName: _propTypes.default.string,\n  renderGroup: _propTypes.default.func,\n  renderFooter: _propTypes.default.func,\n  renderHeader: _propTypes.default.func,\n  renderList: _propTypes.default.func,\n  renderListComponent: _propTypes.default.func,\n  value: VALUE_TYPE,\n  defaultValue: VALUE_TYPE,\n  defaultDisplayValue: VALUE_TYPE,\n  removeSelectedItems: _propTypes.default.bool,\n  isSelectedItemValid: _propTypes.default.func,\n  maxValueLength: _propTypes.default.number,\n  changeValueOnNavigation: _propTypes.default.bool,\n  allowSelectionToggle: _propTypes.default.bool,\n  clearSelectedOnTextChange: _propTypes.default.bool,\n  clearValueOnEmpty: _propTypes.default.bool,\n  isNewCustomTagValid: _propTypes.default.func,\n  multiple: _propTypes.default.bool,\n  renderTag: _propTypes.default.func,\n  renderTagLabel: _propTypes.default.func,\n  renderRemainingTags: _propTypes.default.func,\n  renderTags: _propTypes.default.func,\n  tagStyle: _propTypes.default.object,\n  tagBorder: _propTypes.default.string,\n  tagPadding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagWidth: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagMinSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagMaxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagCloseIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.node, _propTypes.default.func]),\n  tagCloseIconPosition: _propTypes.default.oneOf(['start', 'end']),\n  tagEllipsis: _propTypes.default.bool,\n  removeTagOnBackspace: _propTypes.default.bool,\n  renderDisplayValue: _propTypes.default.func,\n  dataSource: function dataSource(props, propName) {\n    var dataSource = props[propName];\n\n    if (dataSource != null && typeof dataSource !== 'function' && !Array.isArray(dataSource) && !(dataSource && dataSource.then)) {\n      return new Error('dataSource must be an array, null, a promise or a function returning a promise.');\n    }\n\n    return null;\n  },\n  onDataSourceLoad: _propTypes.default.func,\n  idProperty: _propTypes.default.string,\n  displayProperty: _propTypes.default.string,\n  groupProperty: _propTypes.default.string,\n  listStyle: _propTypes.default.object,\n  relativeToViewport: _propTypes.default.bool,\n  expanded: _propTypes.default.bool,\n  defaultExpanded: _propTypes.default.bool,\n  onExpandedChange: _propTypes.default.func,\n  onExpandChange: _propTypes.default.func,\n  collapseOnEscape: _propTypes.default.bool,\n  expandOnClick: _propTypes.default.bool,\n  expandOnFocus: _propTypes.default.bool,\n  collapseOnBlur: _propTypes.default.bool,\n  enablePagination: _propTypes.default.bool,\n  onExpand: _propTypes.default.func,\n  onCollapse: _propTypes.default.func,\n  virtualListFactory: _propTypes.default.func,\n  renderListScroller: _propTypes.default.func,\n  renderVirtualList: _propTypes.default.func,\n  expandOnTextChange: _propTypes.default.bool,\n  toggleExpandOnClick: _propTypes.default.bool,\n  collapseOnSelectWithEnter: _propTypes.default.bool,\n  wrapMultiple: _propTypes.default.bool,\n  newCustomTagText: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  positions: _propTypes.default.arrayOf(_propTypes.default.string),\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func, _propTypes.default.object, _propTypes.default.bool]),\n  offset: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  })]))])\n};\nvar _default = InovuaComboBox;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}