{"ast":null,"code":"/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nObject.defineProperty(exports, \"getCellHeader\", {\n  enumerable: true,\n  get: function get() {\n    return _getCellHeader.default;\n  }\n});\nexports.getParentGroups = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../../packages/react-clean-props\"));\n\nvar _region = _interopRequireDefault(require(\"../../../../packages/region\"));\n\nvar _selectParent = _interopRequireDefault(require(\"../../../../common/selectParent\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../../packages/uglified\"));\n\nvar _Cell = _interopRequireDefault(require(\"../../Cell\"));\n\nvar _HeaderGroup = _interopRequireDefault(require(\"./HeaderGroup\"));\n\nvar _renderCellsMaybeLocked = _interopRequireDefault(require(\"../../Content/renderCellsMaybeLocked\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../packages/join\"));\n\nvar _getCellHeader = _interopRequireDefault(require(\"./getCellHeader\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar emptyFn = function emptyFn() {};\n\nvar getParentGroups = function getParentGroups(groupName, groups) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    includeSelf: false\n  },\n      includeSelf = _ref.includeSelf;\n\n  var parentGroups = [];\n\n  if (!groups) {\n    return parentGroups;\n  }\n\n  var nextGroup = groups[groupName] ? groups[groups[groupName].group] : null;\n\n  if (includeSelf && groups[groupName]) {\n    parentGroups.push(groups[groupName]);\n  }\n\n  while (nextGroup) {\n    parentGroups.push(nextGroup);\n    nextGroup = groups[nextGroup.group];\n  }\n\n  return parentGroups;\n};\n\nexports.getParentGroups = getParentGroups;\nvar defaultProps = {\n  onResize: function onResize() {},\n  showWarnings: !_uglified.default\n};\nvar propTypes = {\n  availableWidth: _propTypes.default.number,\n  columnHeaderUserSelect: _propTypes.default.bool,\n  columnRenderCount: _propTypes.default.number,\n  columnResizeHandleWidth: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  columnUserSelect: _propTypes.default.bool,\n  columns: _propTypes.default.array,\n  columnsMap: _propTypes.default.object,\n  lockedStartColumns: _propTypes.default.array,\n  unlockedColumns: _propTypes.default.array,\n  lockedEndColumns: _propTypes.default.array,\n  deselectAll: _propTypes.default.func,\n  firstLockedEndIndex: _propTypes.default.number,\n  firstLockedStartIndex: _propTypes.default.number,\n  isMultiSort: _propTypes.default.bool,\n  onGroupMouseDown: _propTypes.default.func,\n  onResizeMouseDown: _propTypes.default.func,\n  onResizeTouchStart: _propTypes.default.func,\n  resizable: _propTypes.default.bool,\n  resizeProxyStyle: _propTypes.default.object,\n  scrollbarWidth: _propTypes.default.number,\n  selectAll: _propTypes.default.func,\n  selectedCount: _propTypes.default.number,\n  sortInfo: _propTypes.default.any,\n  sortable: _propTypes.default.bool,\n  totalCount: _propTypes.default.number,\n  unselectedCount: _propTypes.default.number,\n  virtualListBorderLeft: _propTypes.default.number,\n  virtualListBorderRight: _propTypes.default.number,\n  nativeScroll: _propTypes.default.bool,\n  computedShowHeaderBorderRight: _propTypes.default.any,\n  hasLockedEnd: _propTypes.default.bool,\n  hasLockedStart: _propTypes.default.bool,\n  showColumnContextMenu: _propTypes.default.func,\n  showColumnFilterContextMenu: _propTypes.default.func,\n  hideColumnFilterContextMenu: _propTypes.default.func,\n  onColumnHeaderFocus: _propTypes.default.func,\n  showColumnMenuTool: _propTypes.default.bool,\n  showColumnMenuToolOnHover: _propTypes.default.bool,\n  firstUnlockedIndex: _propTypes.default.number,\n  lockedRows: _propTypes.default.any,\n  i18n: _propTypes.default.any,\n  filterable: _propTypes.default.bool,\n  filterTypes: _propTypes.default.any,\n  computedGroupsDepth: _propTypes.default.number,\n  computedGroupsMap: _propTypes.default.objectOf(_propTypes.default.shape({\n    name: _propTypes.default.string.isRequired\n  })),\n  headerHeight: _propTypes.default.number,\n  maxWidth: _propTypes.default.number,\n  renderSortTool: _propTypes.default.func,\n  minWidth: _propTypes.default.number,\n  onCellMouseDown: _propTypes.default.func,\n  onCellTouchStart: _propTypes.default.func,\n  onCellClick: _propTypes.default.func,\n  computedOnColumnFilterValueChange: _propTypes.default.func,\n  onSortClick: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  scrollLeft: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  unselected: _propTypes.default.any,\n  virtualizeColumns: _propTypes.default.bool,\n  width: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.func,\n  lastLockedEndIndex: _propTypes.default.number,\n  lastLockedStartIndex: _propTypes.default.number,\n  lastUnlockedIndex: _propTypes.default.number,\n  getScrollLeftMax: _propTypes.default.func,\n  rtl: _propTypes.default.bool,\n  renderLockedEndCells: _propTypes.default.func,\n  renderLockedStartCells: _propTypes.default.func,\n  renderInPortal: _propTypes.default.any,\n  onFilterValueChange: _propTypes.default.func,\n  setScrollLeft: _propTypes.default.func,\n  sortedColumnsInfo: _propTypes.default.any,\n  renderMenuTool: _propTypes.default.func,\n  columnHoverClassName: _propTypes.default.string,\n  onColumnMouseEnter: _propTypes.default.func,\n  onColumnMouseLeave: _propTypes.default.func,\n  columnIndexHovered: _propTypes.default.number,\n  enableColumnFilterContextMenu: _propTypes.default.bool,\n  computedEnableColumnHover: _propTypes.default.bool,\n  renderRowDetailsMoreIcon: _propTypes.default.func,\n  hideColumnContextMenu: _propTypes.default.func,\n  updateMenuPosition: _propTypes.default.func,\n  computedFilterable: _propTypes.default.bool,\n  filterRowHeight: _propTypes.default.number\n};\n\nvar InovuaDataGridHeader = function (_React$Component) {\n  (0, _inherits2.default)(InovuaDataGridHeader, _React$Component);\n\n  var _super = _createSuper(InovuaDataGridHeader);\n\n  function InovuaDataGridHeader(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridHeader);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"domRef\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"unlockedCells\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cells\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"columnRenderStartIndex\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollLeft\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"startIndex\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"endIndex\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidUpdate\", function (prevProps) {\n      if (_this.props.columnRenderCount < prevProps.columnRenderCount) {\n        _this.getUnlockedCells(prevProps).forEach(function (cell) {\n          cell.setStateProps(null);\n        });\n      }\n\n      if (prevProps.hasLockedStart && !_this.props.hasLockedStart) {\n        setTimeout(function () {\n          return _this.updateColumns();\n        }, 0);\n      }\n\n      if (_this.props.virtualizeColumns && prevProps.columnRenderCount !== _this.props.columnRenderCount || _this.props.selectedCount !== prevProps.selectedCount || _this.props.unselectedCount !== prevProps.unselectedCount || _this.props.columns !== prevProps.columns || _this.props.columnIndexHovered !== prevProps.columnIndexHovered || _this.props.lockedStartColumns.length !== prevProps.lockedStartColumns.length) {\n        _this.setState({\n          children: _this.renderColumns()\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellMount\", function (cellProps, c) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        _this.unlockedCells.push(c);\n      }\n\n      _this.cells.push(c);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellUnmount\", function (cellProps, cell) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        if (_this.unlockedCells) {\n          _this.unlockedCells = _this.unlockedCells.filter(function (c) {\n            return c !== cell;\n          });\n        }\n      }\n\n      if (_this.cells) {\n        _this.cells = _this.cells.filter(function (c) {\n          return c !== cell;\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"findCellById\", function (cellId) {\n      var cellsArray = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.cells;\n      return cellsArray.filter(function (c) {\n        return c.getProps().id === cellId;\n      })[0];\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCells\", function () {\n      var result = [];\n\n      _this.props.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id);\n\n        if (cell) {\n          var props = cell.getProps();\n          result[props.computedVisibleIndex] = cell;\n        }\n      });\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getGroupsAndCells\", function () {\n      var cells = _this.getCells();\n\n      var result = [];\n\n      var add = function add(item) {\n        if (result.indexOf(item) == -1) {\n          result.push(item);\n        }\n      };\n\n      cells.forEach(function (cell) {\n        var target = cell;\n\n        while (target && target.props.parent) {\n          add(target);\n          target = target.props.parent;\n        }\n\n        if (target) {\n          add(target);\n        }\n      });\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setCellIndex\", function (cell, index) {\n      var cellProps = _this.getPropsForCells(index)[0];\n\n      cell.setStateProps(cellProps);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCellIndex\", function (cell) {\n      return cell.getProps().index;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"sortCells\", function (cells) {\n      return cells.sort(function (cell1, cell2) {\n        return _this.getCellIndex(cell1) - _this.getCellIndex(cell2);\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getUnlockedCells\", function () {\n      var thisProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var lockedStartColumns = thisProps.lockedStartColumns;\n      var result = [];\n      thisProps.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id, _this.unlockedCells);\n\n        if (cell) {\n          var props = cell.getProps();\n          var index = props.computedVisibleIndex - lockedStartColumns.length;\n          result[index] = cell;\n        }\n      });\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getSortedCells\", function () {\n      return _this.sortCells(_this.getUnlockedCells());\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getGaps\", function (startIndex, endIndex) {\n      var visibleCellPositions = {};\n\n      _this.getSortedCells().forEach(function (cell) {\n        visibleCellPositions[_this.getCellIndex(cell)] = true;\n      });\n\n      var gaps = [];\n\n      for (; startIndex <= endIndex; startIndex++) {\n        if (!visibleCellPositions[startIndex]) {\n          gaps.push(startIndex);\n        }\n      }\n\n      return gaps;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setColumnRenderStartIndex\", function (columnRenderStartIndex) {\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      if (!renderRange) {\n        return;\n      }\n\n      var start = renderRange.start,\n          end = renderRange.end;\n\n      var gaps = _this.getGaps(start, end);\n\n      if (!gaps.length) {\n        return;\n      }\n\n      _this.getUnlockedCells().forEach(function (cell) {\n        var cellProps = cell.getProps();\n        var cellIndex = cellProps.computedVisibleIndex,\n            computedLocked = cellProps.computedLocked;\n\n        if (computedLocked) {\n          return;\n        }\n\n        var outOfView = cellIndex < start || cellIndex > end;\n        var newIndex;\n\n        if (outOfView && gaps.length) {\n          newIndex = gaps[gaps.length - 1];\n\n          _this.setCellIndex(cell, newIndex);\n\n          gaps.length -= 1;\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getColumnRenderRange\", function () {\n      var _this$props = _this.props,\n          columnRenderCount = _this$props.columnRenderCount,\n          lockedStartColumns = _this$props.lockedStartColumns,\n          lockedEndColumns = _this$props.lockedEndColumns,\n          virtualizeColumns = _this$props.virtualizeColumns,\n          columns = _this$props.columns;\n\n      if (!virtualizeColumns) {\n        return null;\n      }\n\n      var minStartIndex = lockedStartColumns.length;\n      var maxEndIndex = columns.length - lockedEndColumns.length - 1;\n      var columnRenderStartIndex = _this.columnRenderStartIndex == null ? _this.props.columnRenderStartIndex || 0 : _this.columnRenderStartIndex;\n      columnRenderStartIndex = Math.max(columnRenderStartIndex, minStartIndex);\n\n      if (columnRenderCount != null) {\n        var columnRenderEndIndex = columnRenderStartIndex + columnRenderCount;\n        columnRenderEndIndex = Math.min(columnRenderEndIndex, maxEndIndex);\n\n        if (columnRenderEndIndex - columnRenderCount != columnRenderStartIndex) {\n          columnRenderStartIndex = Math.max(columnRenderEndIndex - columnRenderCount, minStartIndex);\n        }\n\n        return {\n          start: columnRenderStartIndex,\n          end: columnRenderEndIndex\n        };\n      }\n\n      return null;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"prepareStyle\", function (props) {\n      var headerHeight = props.headerHeight,\n          width = props.width,\n          minWidth = props.minWidth,\n          index = props.index;\n\n      var style = _objectSpread({}, props.style);\n\n      if (width || minWidth) {\n        if (width) {\n          style.width = Math.max(width, minWidth || 0);\n        }\n\n        if (minWidth) {\n          style.minWidth = minWidth;\n        }\n      }\n\n      if (headerHeight) {\n        style.height = headerHeight;\n\n        if (props.computedFilterable) {\n          style.height += props.filterRowHeight;\n        }\n      }\n\n      style.zIndex = style.zIndex || 100 - (index || 0);\n      var scrollLeft = _this.props.scrollLeft != null ? _this.props.scrollLeft : _this.scrollLeft;\n      var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n      style.transform = \"translate3d(\".concat(transformPos || 0, \"px, 0px, 0px)\");\n      return style;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"notifyScrollLeftMax\", function (scrollLeftMax) {\n      var resizerClassName = 'InovuaReactDataGrid__column-resizer';\n\n      var lastUnlockedResizer = _this.getDOMNode().querySelector(\".\".concat(resizerClassName, \"--last-unlocked\"));\n\n      if (lastUnlockedResizer) {\n        var columnResizeHandleWidth = _this.props.columnResizeHandleWidth;\n        var remaining = scrollLeftMax - (_this.scrollLeft + columnResizeHandleWidth / 2);\n        var visible = remaining <= 0;\n        lastUnlockedResizer.style.pointerEvents = visible ? 'auto' : 'none';\n        var classList = lastUnlockedResizer.classList;\n\n        if (classList && classList.add && classList.remove) {\n          if (visible) {\n            classList.add(\"\".concat(resizerClassName, \"--active\"));\n          } else {\n            classList.remove(\"\".concat(resizerClassName, \"--active\"));\n          }\n        } else {\n          lastUnlockedResizer.style.zIndex = visible ? 5000 : 2000;\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setScrollLeft\", function (scrollLeft, scrollLeftMax) {\n      _this.scrollLeft = scrollLeft;\n      var node = _this.props.hasLocked ? _this.getDOMNode().querySelector('.InovuaReactDataGrid__unlocked-wrapper') : _this.getDOMNode();\n\n      if (node) {\n        var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n        node.style.transform = \"translate3d(\".concat(transformPos, \"px, 0px, 0px)\");\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft, {\n          isHeader: true\n        });\n      }\n\n      if (_this.props.virtualizeColumns) {\n        _this.maybeUpdateColumns();\n\n        if (scrollLeft === 0 || scrollLeft === scrollLeftMax) {\n          requestAnimationFrame(function () {\n            return _this.maybeUpdateColumns();\n          });\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"maybeUpdateColumns\", function () {\n      var range = _this.getColumnRenderRange();\n\n      if (range && range.start !== _this.startIndex && range.end !== _this.endIndex) {\n        _this.updateColumns();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateColumns\", function () {\n      var newColumns = _this.renderColumns();\n\n      _this.setState({\n        children: newColumns\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onFocus\", function (event) {\n      var body = (0, _selectParent.default)('.InovuaReactDataGrid__body', event.target);\n\n      if (!body) {\n        return;\n      }\n\n      var OFFSET = 15;\n\n      var headerRegion = _region.default.from(body);\n\n      var targetRegion = _region.default.from(event.target);\n\n      var scrollLeft = _this.scrollLeft || _this.props.scrollLeft || 0;\n\n      if (!headerRegion.containsRegion(targetRegion)) {\n        if (targetRegion.left < headerRegion.left) {\n          var diff = headerRegion.left - targetRegion.left;\n          var newScrollLeft = scrollLeft - (diff + OFFSET);\n\n          _this.props.setScrollLeft(newScrollLeft);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getPropsForCells\", function (startIndex) {\n      var endIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : startIndex + 1;\n      var props = _this.props;\n      var renderInPortal = props.renderInPortal,\n          columnHeaderUserSelect = props.columnHeaderUserSelect,\n          columnResizeHandleWidth = props.columnResizeHandleWidth,\n          columnUserSelect = props.columnUserSelect,\n          data = props.data,\n          showColumnContextMenu = props.showColumnContextMenu,\n          showColumnFilterContextMenu = props.showColumnFilterContextMenu,\n          hideColumnFilterContextMenu = props.hideColumnFilterContextMenu,\n          deselectAll = props.deselectAll,\n          firstLockedEndIndex = props.firstLockedEndIndex,\n          firstUnlockedIndex = props.firstUnlockedIndex,\n          filterable = props.filterable,\n          computedShowHeaderBorderRight = props.computedShowHeaderBorderRight,\n          hasLockedEnd = props.hasLockedEnd,\n          hasLockedStart = props.hasLockedStart,\n          lockedEndColumns = props.lockedEndColumns,\n          nativeScroll = props.nativeScroll,\n          resizeProxyStyle = props.resizeProxyStyle,\n          rtl = props.rtl,\n          i18n = props.i18n,\n          scrollbarWidth = props.scrollbarWidth,\n          selectAll = props.selectAll,\n          selectedCount = props.selectedCount,\n          filterTypes = props.filterTypes,\n          totalCount = props.totalCount,\n          renderSortTool = props.renderSortTool,\n          unselectedCount = props.unselectedCount,\n          virtualizeColumns = props.virtualizeColumns,\n          showColumnMenuTool = props.showColumnMenuTool,\n          showColumnMenuToolOnHover = props.showColumnMenuToolOnHover,\n          lastUnlockedIndex = props.lastUnlockedIndex,\n          lastLockedStartIndex = props.lastLockedStartIndex,\n          lastLockedEndIndex = props.lastLockedEndIndex,\n          theme = props.theme,\n          renderMenuTool = props.renderMenuTool,\n          sortedColumnsInfo = props.sortedColumnsInfo,\n          onColumnMouseEnter = props.onColumnMouseEnter,\n          onColumnMouseLeave = props.onColumnMouseLeave,\n          columnIndexHovered = props.columnIndexHovered,\n          columnHoverClassName = props.columnHoverClassName,\n          enableColumnFilterContextMenu = props.enableColumnFilterContextMenu,\n          computedEnableColumnHover = props.computedEnableColumnHover,\n          renderRowDetailsMoreIcon = props.renderRowDetailsMoreIcon,\n          hideColumnContextMenu = props.hideColumnContextMenu,\n          updateMenuPosition = props.updateMenuPosition,\n          filterRowHeight = props.filterRowHeight;\n      var columns = props.columns;\n\n      if (startIndex !== undefined) {\n        columns = columns.slice(startIndex, endIndex);\n      }\n\n      var firstLockedIndex = hasLockedEnd ? props.columns.length - lockedEndColumns.length : -1;\n      return columns.map(function (column, i) {\n        var sortableColumn = column.computedSortable,\n            resizableColumn = column.computedResizable;\n        var isSortable = sortableColumn;\n        var isResizable = resizableColumn;\n        var cellStyle = column.style;\n\n        if (props.headerHeight) {\n          if (column.style) {\n            cellStyle = Object.assign({}, cellStyle);\n          }\n\n          if (!cellStyle) {\n            cellStyle = {};\n          }\n\n          cellStyle.height = props.headerHeight;\n\n          if (props.computedFilterable) {\n            cellStyle.height += props.filterRowHeight;\n          }\n        }\n\n        var defaults = {\n          filterable: filterable,\n          renderSortTool: renderSortTool,\n          renderMenuTool: renderMenuTool,\n          showColumnMenuTool: showColumnMenuTool,\n          showColumnMenuToolOnHover: showColumnMenuToolOnHover\n        };\n\n        if (columnUserSelect !== undefined) {\n          defaults.userSelect = columnUserSelect;\n        }\n\n        if (columnHeaderUserSelect !== undefined) {\n          defaults.headerUserSelect = columnHeaderUserSelect;\n        }\n\n        var displayColumnFilterContextMenu = enableColumnFilterContextMenu;\n\n        if (column.enableColumnFilterContextMenu != null) {\n          displayColumnFilterContextMenu = column.enableColumnFilterContextMenu;\n        }\n\n        var cellProps = Object.assign(defaults, column, {\n          headerCell: true,\n          headerHeight: props.headerHeight,\n          i18n: i18n,\n          selectedCount: selectedCount,\n          unselectedCount: unselectedCount,\n          totalCount: totalCount,\n          showColumnContextMenu: showColumnContextMenu,\n          showColumnFilterContextMenu: showColumnFilterContextMenu,\n          hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n          selectAll: selectAll,\n          deselectAll: deselectAll,\n          style: cellStyle,\n          resizeProxyStyle: resizeProxyStyle,\n          renderInPortal: renderInPortal,\n          lastUnlockedIndex: lastUnlockedIndex,\n          lastLockedStartIndex: lastLockedStartIndex,\n          lastLockedEndIndex: lastLockedEndIndex,\n          filterTypes: filterTypes,\n          onFilterValueChange: _this.onFilterValueChange,\n          lastUnlocked: column.computedVisibleIndex === firstLockedIndex - 1,\n          columnResizeHandleWidth: columnResizeHandleWidth,\n          virtualizeColumns: virtualizeColumns,\n          rtl: rtl,\n          onResizeMouseDown: props.onResizeMouseDown,\n          onResizeTouchStart: props.onResizeTouchStart,\n          onMouseDown: _this.onCellMouseDown,\n          onTouchStart: _this.onCellTouchStart,\n          computedSortable: isSortable,\n          computedResizable: isResizable,\n          hasLockedStart: hasLockedStart,\n          nativeScroll: nativeScroll,\n          scrollbarWidth: scrollbarWidth,\n          data: data,\n          theme: theme,\n          sortedColumnsInfo: sortedColumnsInfo,\n          onColumnMouseEnter: onColumnMouseEnter,\n          onColumnMouseLeave: onColumnMouseLeave,\n          columnIndex: i,\n          columnIndexHovered: columnIndexHovered,\n          columnHoverClassName: columnHoverClassName,\n          enableColumnFilterContextMenu: displayColumnFilterContextMenu,\n          computedEnableColumnHover: computedEnableColumnHover,\n          renderRowDetailsMoreIcon: renderRowDetailsMoreIcon,\n          hideColumnContextMenu: hideColumnContextMenu,\n          updateMenuPosition: updateMenuPosition,\n          filterRowHeight: filterRowHeight\n        });\n        cellProps.onFocus = _this.onHeaderCellFocus.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n\n        if (cellProps.group) {\n          cellProps.parentGroups = getParentGroups(cellProps.group, _this.props.computedGroupsMap, {\n            includeSelf: true\n          });\n        }\n\n        if (props.onCellClick) {\n          cellProps.onClick = props.onCellClick;\n        }\n\n        if (cellProps.visibilityTransitionDuration || cellProps.hideTransitionDuration || cellProps.showTransitionDuration) {\n          cellProps.onTransitionEnd = _this.onTransitionEnd.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n        }\n\n        cellProps.onSortClick = (props.onSortClick || emptyFn).bind(null, cellProps);\n        cellProps.value = (0, _getCellHeader.default)(cellProps, column, props);\n        cellProps.onUnmount = _this.onCellUnmount;\n        cellProps.onMount = _this.onCellMount;\n        var showBorderLeft = cellProps.showBorderLeft,\n            showBorderRight = cellProps.showBorderRight;\n        cellProps.showBorderRight = cellProps.computedLocked === 'start' && cellProps.computedVisibleIndex == firstUnlockedIndex - 1 || computedShowHeaderBorderRight && column.computedVisibleIndex === column.computedVisibleCount - 1;\n        cellProps.lastInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex === lastLockedStartIndex : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === lastLockedEndIndex : cellProps.computedVisibleIndex === lastUnlockedIndex;\n        cellProps.firstInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex == 0 : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === firstLockedEndIndex : cellProps.computedVisibleIndex === firstUnlockedIndex;\n        cellProps.showBorderLeft = cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex >= firstLockedEndIndex : cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex > 0 : cellProps.computedVisibleIndex > firstUnlockedIndex;\n        var prevColumn = columns[i - 1];\n        var nextColumn = columns[i + 1];\n\n        if (prevColumn && prevColumn.nextBorderLeft !== undefined) {\n          cellProps.showBorderLeft = prevColumn.nextBorderLeft;\n        }\n\n        if (nextColumn && nextColumn.prevBorderRight !== undefined) {\n          cellProps.showBorderRight = nextColumn.prevBorderRight;\n        }\n\n        if (showBorderLeft !== undefined) {\n          cellProps.showBorderLeft = showBorderLeft;\n        }\n\n        if (showBorderRight !== undefined) {\n          cellProps.showBorderRight = showBorderRight;\n        }\n\n        return cellProps;\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onHeaderCellFocus\", function (headerCellProps, column, e) {\n      if (_this.props.onColumnHeaderFocus) {\n        _this.props.onColumnHeaderFocus(headerCellProps, column, e);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onTransitionEnd\", function (cellProps, column, e) {\n      e.stopPropagation();\n\n      if (column.onTransitionEnd) {\n        column.onTransitionEnd(e);\n      }\n\n      if (_this.props.onTransitionEnd) {\n        _this.props.onTransitionEnd(e, cellProps);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellMouseDown\", function (headerCellProps, event) {\n      if (_this.props.onCellMouseDown) {\n        _this.props.onCellMouseDown(headerCellProps, event);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellTouchStart\", function (headerCellProps, event) {\n      if (_this.props.onCellTouchStart) {\n        _this.props.onCellTouchStart(headerCellProps, event);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderColumns\", function () {\n      var _result2;\n\n      var props = _this.props;\n      var groups = props.computedGroupsMap,\n          hasLockedStart = props.hasLockedStart,\n          hasLockedEnd = props.hasLockedEnd,\n          lockedStartColumns = props.lockedStartColumns,\n          lockedEndColumns = props.lockedEndColumns,\n          columns = props.columns;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      _this.startIndex = renderRange === null || renderRange === void 0 ? void 0 : renderRange.start;\n      _this.endIndex = renderRange === null || renderRange === void 0 ? void 0 : renderRange.end;\n      var cellProps = renderRange ? _this.getPropsForCells(renderRange.start, renderRange.end + 1) : _this.getPropsForCells();\n      var lockedStartCells;\n      var lockedEndCells;\n\n      if (renderRange) {\n        if (hasLockedStart) {\n          lockedStartCells = _this.getPropsForCells(0, lockedStartColumns.length);\n        }\n\n        if (hasLockedEnd) {\n          lockedEndCells = _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n        }\n      }\n\n      if (groups) {\n        if (hasLockedStart || hasLockedEnd) {\n          if (hasLockedStart) {\n            lockedStartCells = lockedStartCells || _this.getPropsForCells(0, lockedStartColumns.length);\n            lockedStartCells = _this.renderGroupedCells(lockedStartCells);\n          }\n\n          if (hasLockedEnd) {\n            lockedEndCells = lockedEndCells || _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n            lockedEndCells = _this.renderGroupedCells(lockedEndCells);\n          }\n\n          var unlockedCells = renderRange ? cellProps : _this.getPropsForCells(lockedStartColumns.length, columns.length - lockedEndColumns.length);\n          unlockedCells = _this.renderGroupedCells(unlockedCells);\n          return (0, _renderCellsMaybeLocked.default)([], _this.props, props.scrollLeft, {\n            lockedStartContent: lockedStartCells,\n            lockedEndContent: lockedEndCells,\n            unlockedContent: unlockedCells,\n            isHeader: true\n          });\n        }\n\n        return _this.renderGroupedCells(cellProps);\n      }\n\n      var result = [];\n\n      if (hasLockedStart && lockedStartCells) {\n        var _result;\n\n        (_result = result).push.apply(_result, (0, _toConsumableArray2.default)(lockedStartCells));\n      }\n\n      (_result2 = result).push.apply(_result2, (0, _toConsumableArray2.default)(cellProps));\n\n      if (hasLockedEnd && lockedEndCells) {\n        var _result3;\n\n        (_result3 = result).push.apply(_result3, (0, _toConsumableArray2.default)(lockedEndCells));\n      }\n\n      result = result.map(function (cProps, i) {\n        var index = (renderRange === null || renderRange === void 0 ? void 0 : renderRange.start) + i;\n        return _react.default.createElement(_Cell.default, _objectSpread(_objectSpread({}, cProps), {}, {\n          key: \"\".concat(index, \"__\").concat(cProps.id),\n          left: _this.props.columnWidthPrefixSums[index]\n        }));\n      });\n      return (0, _renderCellsMaybeLocked.default)(result, _this.props, props.scrollLeft, {\n        isHeader: true\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCellDOMNodeAt\", function (index) {\n      var _this$props2 = _this.props,\n          columns = _this$props2.columns,\n          showWarnings = _this$props2.showWarnings,\n          virtualizeColumns = _this$props2.virtualizeColumns;\n      var column = columns[index];\n\n      if (!column) {\n        return null;\n      }\n\n      var arr = column.computedLocked || !virtualizeColumns ? _this.getCells() : _this.getUnlockedCells();\n      var cell = arr.filter(function (c) {\n        return c.getProps().computedVisibleIndex === index;\n      })[0];\n\n      if (!cell && showWarnings) {\n        console.error(\"Cannot find dom cell at \".concat(index, \".\"));\n      }\n\n      if (cell) {\n        return cell.getDOMNode ? cell.getDOMNode() : cell.domRef ? cell.domRef.current : null;\n      }\n\n      return;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderHeaderGroup\", function (groupName, groupItems, _) {\n      var _this$props3 = _this.props,\n          groups = _this$props3.computedGroupsMap,\n          columnsMap = _this$props3.columnsMap,\n          hasLockedEnd = _this$props3.hasLockedEnd,\n          lockedStartColumns = _this$props3.lockedStartColumns,\n          lockedEndColumns = _this$props3.lockedEndColumns,\n          firstLockedEndIndex = _this$props3.firstLockedEndIndex,\n          lastLockedStartIndex = _this$props3.lastLockedStartIndex,\n          lastLockedEndIndex = _this$props3.lastLockedEndIndex,\n          firstUnlockedIndex = _this$props3.firstUnlockedIndex,\n          lastUnlockedIndex = _this$props3.lastUnlockedIndex,\n          resizeProxyStyle = _this$props3.resizeProxyStyle,\n          rtl = _this$props3.rtl;\n      var group = groups[groupName];\n      var parentGroups = getParentGroups(groupName, groups);\n      var depth = group ? group.computedDepth : 0;\n      var columns = groupItems.filter(function (x) {\n        return !!x;\n      }).reduce(function (acc, item) {\n        if (item.type == _HeaderGroup.default) {\n          acc.push.apply(acc, (0, _toConsumableArray2.default)(item.props.columns));\n        } else {\n          acc.push(item.props.id);\n        }\n\n        return acc;\n      }, []);\n      var style = {\n        width: columns.reduce(function (width, colId) {\n          return width + columnsMap[colId].computedWidth;\n        }, 0)\n      };\n      var resizable = group && group.resizable !== undefined ? group.resizable : _this.props.resizable;\n      var allColumnsUnresizable = columns.reduce(function (acc, colId) {\n        return acc && columnsMap[colId].computedResizable === false;\n      }, true);\n\n      if (allColumnsUnresizable) {\n        resizable = false;\n      }\n\n      var firstColumn = columnsMap[columns[0]];\n      var lastColumn = columnsMap[columns[columns.length - 1]];\n      var firstIndex = firstColumn.computedVisibleIndex;\n      var lastIndex = lastColumn.computedVisibleIndex;\n      var showBorderLeft = firstIndex >= lockedStartColumns.length ? firstIndex > lockedStartColumns.length || firstColumn.computedLocked === 'end' : firstIndex > 0;\n      var containsLastColumn = lastColumn.computedVisibleIndex === _this.props.columns.length - 1;\n      var showBorderRight = lastColumn.computedVisibleIndex === lockedStartColumns.length - 1;\n      var adjustResizer = hasLockedEnd && lastColumn.computedVisibleIndex === _this.props.columns.length - lockedEndColumns.length - 1;\n      var firstInSection = firstColumn.computedLocked === 'start' ? firstIndex === 0 : firstColumn.computedLocked === 'end' ? firstIndex == firstLockedEndIndex : firstIndex === firstUnlockedIndex;\n      var lastInSection = lastColumn.computedLocked === 'start' ? lastIndex === lastLockedStartIndex : lastColumn.computedLocked === 'end' ? lastIndex == lastLockedEndIndex : lastIndex === lastUnlockedIndex;\n\n      if (firstColumn.inTransition) {\n        var duration = firstColumn.inShowTransition ? firstColumn.showTransitionDuration : firstColumn.hideTransitionDuration;\n        duration = duration || firstColumn.visibilityTransitionDuration;\n        style.transitionDuration = typeof duration == 'number' ? \"\".concat(duration, \"ms\") : duration;\n      }\n\n      var key = \"\".concat(groupName, \"-\").concat(depth, \"-\").concat(columns.join('-'));\n      return _react.default.createElement(_HeaderGroup.default, {\n        key: key,\n        depth: depth,\n        group: group,\n        style: style,\n        rtl: rtl,\n        firstIndex: firstIndex,\n        lastUnlockedIndex: _this.props.lastUnlockedIndex,\n        lastLockedStartIndex: _this.props.lastLockedStartIndex,\n        lastLockedEndIndex: _this.props.lastLockedEndIndex,\n        filterable: _this.props.filterable,\n        inTransition: firstColumn.inTransition,\n        inShowTransition: firstColumn.inShowTransition,\n        inHideTransition: firstColumn.inHideTransition,\n        showTransitionDuration: firstColumn.showTransitionDuration,\n        hideTransitionDuration: firstColumn.hideTransitionDuration,\n        visibilityTransitionDuration: firstColumn.visibilityTransitionDuration,\n        onMouseDown: _this.props.onGroupMouseDown,\n        columns: columns,\n        resizeProxyStyle: resizeProxyStyle,\n        locked: lastColumn.computedLocked === 'start' ? 'start' : firstColumn.computedLocked === 'end' ? 'end' : false,\n        parentGroups: parentGroups,\n        containsLastColumn: containsLastColumn,\n        firstInSection: firstInSection,\n        lastInSection: lastInSection,\n        adjustResizer: adjustResizer,\n        showBorderLeft: showBorderLeft,\n        showBorderRight: showBorderRight,\n        children: groupItems,\n        resizable: resizable,\n        columnResizeHandleWidth: _this.props.columnResizeHandleWidth,\n        onResizeMouseDown: _this.onResizeMouseDown,\n        onResizeTouchStart: _this.onResizeTouchStart\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResizeMouseDown\", function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeMouseDown) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeMouseDown({\n          visibleIndex: visibleIndex,\n          computedVisibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResizeTouchStart\", function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeTouchStart) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeTouchStart({\n          visibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getItemsForDepth\", function (items, depth) {\n      return items.map(function (item) {\n        return item.props.depth === depth ? item : null;\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderItems\", function (items) {\n      var computedGroupsDepth = _this.props.computedGroupsDepth;\n      var currentDepth = computedGroupsDepth + 1;\n\n      while (currentDepth > 0) {\n        items = _this.groupItemsForDepth(items, currentDepth);\n        currentDepth--;\n      }\n\n      return items;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"groupItemsForDepth\", function (items, depth) {\n      var depthItems = _this.getItemsForDepth(items, depth);\n\n      var index = 0;\n      var item = depthItems[index];\n\n      var currentGroupName = _this.getItemGroupName(item);\n\n      var itemGroupName;\n      var groupItems;\n      var headerGroup;\n      var groupStartIndex = 0;\n      var len = depthItems.length + 1;\n\n      while (index <= len) {\n        itemGroupName = _this.getItemGroupName(item);\n\n        if (currentGroupName == null && itemGroupName != null) {\n          groupStartIndex = index;\n          currentGroupName = itemGroupName;\n        } else if (itemGroupName != currentGroupName) {\n          groupItems = items.slice(groupStartIndex, index);\n          headerGroup = _this.renderHeaderGroup(currentGroupName, groupItems);\n          items.splice(groupStartIndex, groupItems.length, headerGroup);\n          depthItems.splice(groupStartIndex, groupItems.length, headerGroup);\n          index = groupStartIndex;\n          currentGroupName = null;\n        }\n\n        index++;\n        item = depthItems[index];\n      }\n\n      return items;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getItemGroupName\", function (item) {\n      if (!item) {\n        return null;\n      }\n\n      var groups = _this.props.computedGroupsMap;\n      var groupName;\n\n      if (item.type == _HeaderGroup.default) {\n        groupName = item.props.group ? item.props.group.group : null;\n      } else {\n        groupName = item.props.group;\n      }\n\n      var group = groups[groupName];\n      return group ? group.name || '' : '';\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"fixDepth\", function (item, depthDiff) {\n      while (depthDiff >= 0) {\n        item = _this.renderHeaderGroup(_this.getItemGroupName(item), [item], {\n          depth: item.props.depth - 1,\n          forceHeader: true\n        });\n        depthDiff--;\n      }\n\n      return item;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderGroupedCells\", function (cellProps) {\n      var _this$props4 = _this.props,\n          groups = _this$props4.computedGroupsMap,\n          showWarnings = _this$props4.showWarnings;\n      var items = cellProps.map(function (props) {\n        var group = groups[props.group];\n\n        if (showWarnings && props.group && !group) {\n          _this.warn(\"Column \\\"\".concat(props.id, \"\\\" references group \\\"\").concat(props.group, \"\\\", but the group is never defined in the groups prop.\"));\n        }\n\n        var depth = group ? group.computedDepth + 1 : 0;\n        return _react.default.createElement(_Cell.default, _objectSpread(_objectSpread({}, props), {}, {\n          key: props.id,\n          depth: depth\n        }));\n      });\n      return _this.renderItems(items);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onFilterValueChange\", function (filterValue, cellProps) {\n      if (_this.props.onFilterValueChange) {\n        _this.props.onFilterValueChange({\n          filterValue: filterValue,\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"warn\", function (msg) {\n      console.error(msg);\n    });\n    _this.cells = [];\n    _this.unlockedCells = [];\n    _this.startIndex = 0;\n    _this.endIndex = 0;\n    _this.domRef = _react.default.createRef();\n    _this.state = {\n      children: _this.renderColumns()\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridHeader, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cells = null;\n      this.unlockedCells = null;\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      var _this$domRef;\n\n      return (_this$domRef = this.domRef) === null || _this$domRef === void 0 ? void 0 : _this$domRef.current;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var rtl = props.rtl,\n          virtualizeColumns = props.virtualizeColumns;\n      var className = (0, _join.default)('InovuaReactDataGrid__header', \"InovuaReactDataGrid__header--direction-\".concat(rtl ? 'rtl' : 'ltr'), props.className);\n      var style = this.prepareStyle(props);\n      var children = virtualizeColumns ? this.state.children : this.renderColumns();\n      var cleanedProps = (0, _reactCleanProps.default)(props, InovuaDataGridHeader.propTypes);\n      delete cleanedProps.columnWidthPrefixSums;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, cleanedProps), {}, {\n        className: className,\n        data: null,\n        style: style,\n        ref: this.domRef,\n        onFocus: this.onFocus\n      }), children);\n    }\n  }]);\n  return InovuaDataGridHeader;\n}(_react.default.Component);\n\nexports.default = InovuaDataGridHeader;\n(0, _defineProperty2.default)(InovuaDataGridHeader, \"defaultProps\", defaultProps);\n(0, _defineProperty2.default)(InovuaDataGridHeader, \"propTypes\", propTypes);","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/ILP-main/node_modules/@inovua/reactdatagrid-community/Layout/ColumnLayout/HeaderLayout/Header/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","enumerable","get","_getCellHeader","getParentGroups","_toConsumableArray2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_propTypes","_reactCleanProps","_region","_selectParent","_uglified","_Cell","_HeaderGroup","_renderCellsMaybeLocked","_join","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","emptyFn","groupName","groups","_ref","undefined","includeSelf","parentGroups","nextGroup","group","defaultProps","onResize","showWarnings","propTypes","availableWidth","number","columnHeaderUserSelect","bool","columnRenderCount","columnResizeHandleWidth","oneOfType","string","columnUserSelect","columns","array","columnsMap","lockedStartColumns","unlockedColumns","lockedEndColumns","deselectAll","func","firstLockedEndIndex","firstLockedStartIndex","isMultiSort","onGroupMouseDown","onResizeMouseDown","onResizeTouchStart","resizable","resizeProxyStyle","scrollbarWidth","selectAll","selectedCount","sortInfo","any","sortable","totalCount","unselectedCount","virtualListBorderLeft","virtualListBorderRight","nativeScroll","computedShowHeaderBorderRight","hasLockedEnd","hasLockedStart","showColumnContextMenu","showColumnFilterContextMenu","hideColumnFilterContextMenu","onColumnHeaderFocus","showColumnMenuTool","showColumnMenuToolOnHover","firstUnlockedIndex","lockedRows","i18n","filterable","filterTypes","computedGroupsDepth","computedGroupsMap","objectOf","shape","name","isRequired","headerHeight","maxWidth","renderSortTool","minWidth","onCellMouseDown","onCellTouchStart","onCellClick","computedOnColumnFilterValueChange","onSortClick","scrollLeft","unselected","virtualizeColumns","width","updateLockedWrapperPositions","lastLockedEndIndex","lastLockedStartIndex","lastUnlockedIndex","getScrollLeftMax","rtl","renderLockedEndCells","renderLockedStartCells","renderInPortal","onFilterValueChange","setScrollLeft","sortedColumnsInfo","renderMenuTool","columnHoverClassName","onColumnMouseEnter","onColumnMouseLeave","columnIndexHovered","enableColumnFilterContextMenu","computedEnableColumnHover","renderRowDetailsMoreIcon","hideColumnContextMenu","updateMenuPosition","computedFilterable","filterRowHeight","InovuaDataGridHeader","_React$Component","_super","_props","_this","prevProps","props","getUnlockedCells","cell","setStateProps","setTimeout","updateColumns","setState","children","renderColumns","cellProps","c","dragging","computedLocked","unlockedCells","cells","cellId","cellsArray","getProps","id","findCellById","computedVisibleIndex","getCells","add","item","indexOf","parent","index","getPropsForCells","sort","cell1","cell2","getCellIndex","thisProps","sortCells","startIndex","endIndex","visibleCellPositions","getSortedCells","gaps","columnRenderStartIndex","renderRange","getColumnRenderRange","start","end","getGaps","cellIndex","outOfView","newIndex","setCellIndex","_this$props","minStartIndex","maxEndIndex","Math","max","columnRenderEndIndex","min","style","height","zIndex","transformPos","transform","concat","scrollLeftMax","resizerClassName","lastUnlockedResizer","getDOMNode","querySelector","remaining","visible","pointerEvents","classList","remove","node","hasLocked","isHeader","maybeUpdateColumns","requestAnimationFrame","range","newColumns","event","body","OFFSET","headerRegion","from","targetRegion","containsRegion","left","diff","newScrollLeft","data","theme","slice","firstLockedIndex","map","column","sortableColumn","computedSortable","resizableColumn","computedResizable","isSortable","isResizable","cellStyle","assign","defaults","userSelect","headerUserSelect","displayColumnFilterContextMenu","headerCell","lastUnlocked","onMouseDown","onTouchStart","columnIndex","onFocus","onHeaderCellFocus","bind","onClick","visibilityTransitionDuration","hideTransitionDuration","showTransitionDuration","onTransitionEnd","onUnmount","onCellUnmount","onMount","onCellMount","showBorderLeft","showBorderRight","computedVisibleCount","lastInSection","firstInSection","prevColumn","nextColumn","nextBorderLeft","prevBorderRight","headerCellProps","stopPropagation","_result2","lockedStartCells","lockedEndCells","renderGroupedCells","lockedStartContent","lockedEndContent","unlockedContent","_result","_result3","cProps","createElement","columnWidthPrefixSums","_this$props2","arr","console","error","domRef","current","groupItems","_","_this$props3","depth","computedDepth","x","reduce","acc","type","colId","computedWidth","allColumnsUnresizable","firstColumn","lastColumn","firstIndex","lastIndex","containsLastColumn","adjustResizer","inTransition","duration","inShowTransition","transitionDuration","join","inHideTransition","locked","groupProps","headerGroupInstance","visibleIndex","colHeaderNode","groupColumns","items","currentDepth","groupItemsForDepth","depthItems","getItemsForDepth","currentGroupName","getItemGroupName","itemGroupName","headerGroup","groupStartIndex","len","renderHeaderGroup","splice","depthDiff","forceHeader","_this$props4","warn","renderItems","filterValue","columnId","msg","createRef","state","componentWillUnmount","_this$domRef","render","className","prepareStyle","cleanedProps","ref","Component"],"mappings":"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","sourcesContent":["/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nObject.defineProperty(exports, \"getCellHeader\", {\n  enumerable: true,\n  get: function get() {\n    return _getCellHeader.default;\n  }\n});\nexports.getParentGroups = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../../packages/react-clean-props\"));\n\nvar _region = _interopRequireDefault(require(\"../../../../packages/region\"));\n\nvar _selectParent = _interopRequireDefault(require(\"../../../../common/selectParent\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../../packages/uglified\"));\n\nvar _Cell = _interopRequireDefault(require(\"../../Cell\"));\n\nvar _HeaderGroup = _interopRequireDefault(require(\"./HeaderGroup\"));\n\nvar _renderCellsMaybeLocked = _interopRequireDefault(require(\"../../Content/renderCellsMaybeLocked\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../packages/join\"));\n\nvar _getCellHeader = _interopRequireDefault(require(\"./getCellHeader\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar emptyFn = function emptyFn() {};\n\nvar getParentGroups = function getParentGroups(groupName, groups) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    includeSelf: false\n  },\n      includeSelf = _ref.includeSelf;\n\n  var parentGroups = [];\n\n  if (!groups) {\n    return parentGroups;\n  }\n\n  var nextGroup = groups[groupName] ? groups[groups[groupName].group] : null;\n\n  if (includeSelf && groups[groupName]) {\n    parentGroups.push(groups[groupName]);\n  }\n\n  while (nextGroup) {\n    parentGroups.push(nextGroup);\n    nextGroup = groups[nextGroup.group];\n  }\n\n  return parentGroups;\n};\n\nexports.getParentGroups = getParentGroups;\nvar defaultProps = {\n  onResize: function onResize() {},\n  showWarnings: !_uglified.default\n};\nvar propTypes = {\n  availableWidth: _propTypes.default.number,\n  columnHeaderUserSelect: _propTypes.default.bool,\n  columnRenderCount: _propTypes.default.number,\n  columnResizeHandleWidth: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  columnUserSelect: _propTypes.default.bool,\n  columns: _propTypes.default.array,\n  columnsMap: _propTypes.default.object,\n  lockedStartColumns: _propTypes.default.array,\n  unlockedColumns: _propTypes.default.array,\n  lockedEndColumns: _propTypes.default.array,\n  deselectAll: _propTypes.default.func,\n  firstLockedEndIndex: _propTypes.default.number,\n  firstLockedStartIndex: _propTypes.default.number,\n  isMultiSort: _propTypes.default.bool,\n  onGroupMouseDown: _propTypes.default.func,\n  onResizeMouseDown: _propTypes.default.func,\n  onResizeTouchStart: _propTypes.default.func,\n  resizable: _propTypes.default.bool,\n  resizeProxyStyle: _propTypes.default.object,\n  scrollbarWidth: _propTypes.default.number,\n  selectAll: _propTypes.default.func,\n  selectedCount: _propTypes.default.number,\n  sortInfo: _propTypes.default.any,\n  sortable: _propTypes.default.bool,\n  totalCount: _propTypes.default.number,\n  unselectedCount: _propTypes.default.number,\n  virtualListBorderLeft: _propTypes.default.number,\n  virtualListBorderRight: _propTypes.default.number,\n  nativeScroll: _propTypes.default.bool,\n  computedShowHeaderBorderRight: _propTypes.default.any,\n  hasLockedEnd: _propTypes.default.bool,\n  hasLockedStart: _propTypes.default.bool,\n  showColumnContextMenu: _propTypes.default.func,\n  showColumnFilterContextMenu: _propTypes.default.func,\n  hideColumnFilterContextMenu: _propTypes.default.func,\n  onColumnHeaderFocus: _propTypes.default.func,\n  showColumnMenuTool: _propTypes.default.bool,\n  showColumnMenuToolOnHover: _propTypes.default.bool,\n  firstUnlockedIndex: _propTypes.default.number,\n  lockedRows: _propTypes.default.any,\n  i18n: _propTypes.default.any,\n  filterable: _propTypes.default.bool,\n  filterTypes: _propTypes.default.any,\n  computedGroupsDepth: _propTypes.default.number,\n  computedGroupsMap: _propTypes.default.objectOf(_propTypes.default.shape({\n    name: _propTypes.default.string.isRequired\n  })),\n  headerHeight: _propTypes.default.number,\n  maxWidth: _propTypes.default.number,\n  renderSortTool: _propTypes.default.func,\n  minWidth: _propTypes.default.number,\n  onCellMouseDown: _propTypes.default.func,\n  onCellTouchStart: _propTypes.default.func,\n  onCellClick: _propTypes.default.func,\n  computedOnColumnFilterValueChange: _propTypes.default.func,\n  onSortClick: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  scrollLeft: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  unselected: _propTypes.default.any,\n  virtualizeColumns: _propTypes.default.bool,\n  width: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.func,\n  lastLockedEndIndex: _propTypes.default.number,\n  lastLockedStartIndex: _propTypes.default.number,\n  lastUnlockedIndex: _propTypes.default.number,\n  getScrollLeftMax: _propTypes.default.func,\n  rtl: _propTypes.default.bool,\n  renderLockedEndCells: _propTypes.default.func,\n  renderLockedStartCells: _propTypes.default.func,\n  renderInPortal: _propTypes.default.any,\n  onFilterValueChange: _propTypes.default.func,\n  setScrollLeft: _propTypes.default.func,\n  sortedColumnsInfo: _propTypes.default.any,\n  renderMenuTool: _propTypes.default.func,\n  columnHoverClassName: _propTypes.default.string,\n  onColumnMouseEnter: _propTypes.default.func,\n  onColumnMouseLeave: _propTypes.default.func,\n  columnIndexHovered: _propTypes.default.number,\n  enableColumnFilterContextMenu: _propTypes.default.bool,\n  computedEnableColumnHover: _propTypes.default.bool,\n  renderRowDetailsMoreIcon: _propTypes.default.func,\n  hideColumnContextMenu: _propTypes.default.func,\n  updateMenuPosition: _propTypes.default.func,\n  computedFilterable: _propTypes.default.bool,\n  filterRowHeight: _propTypes.default.number\n};\n\nvar InovuaDataGridHeader = function (_React$Component) {\n  (0, _inherits2.default)(InovuaDataGridHeader, _React$Component);\n\n  var _super = _createSuper(InovuaDataGridHeader);\n\n  function InovuaDataGridHeader(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridHeader);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"domRef\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"unlockedCells\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cells\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"columnRenderStartIndex\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollLeft\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"startIndex\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"endIndex\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidUpdate\", function (prevProps) {\n      if (_this.props.columnRenderCount < prevProps.columnRenderCount) {\n        _this.getUnlockedCells(prevProps).forEach(function (cell) {\n          cell.setStateProps(null);\n        });\n      }\n\n      if (prevProps.hasLockedStart && !_this.props.hasLockedStart) {\n        setTimeout(function () {\n          return _this.updateColumns();\n        }, 0);\n      }\n\n      if (_this.props.virtualizeColumns && prevProps.columnRenderCount !== _this.props.columnRenderCount || _this.props.selectedCount !== prevProps.selectedCount || _this.props.unselectedCount !== prevProps.unselectedCount || _this.props.columns !== prevProps.columns || _this.props.columnIndexHovered !== prevProps.columnIndexHovered || _this.props.lockedStartColumns.length !== prevProps.lockedStartColumns.length) {\n        _this.setState({\n          children: _this.renderColumns()\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellMount\", function (cellProps, c) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        _this.unlockedCells.push(c);\n      }\n\n      _this.cells.push(c);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellUnmount\", function (cellProps, cell) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        if (_this.unlockedCells) {\n          _this.unlockedCells = _this.unlockedCells.filter(function (c) {\n            return c !== cell;\n          });\n        }\n      }\n\n      if (_this.cells) {\n        _this.cells = _this.cells.filter(function (c) {\n          return c !== cell;\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"findCellById\", function (cellId) {\n      var cellsArray = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.cells;\n      return cellsArray.filter(function (c) {\n        return c.getProps().id === cellId;\n      })[0];\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCells\", function () {\n      var result = [];\n\n      _this.props.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id);\n\n        if (cell) {\n          var props = cell.getProps();\n          result[props.computedVisibleIndex] = cell;\n        }\n      });\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getGroupsAndCells\", function () {\n      var cells = _this.getCells();\n\n      var result = [];\n\n      var add = function add(item) {\n        if (result.indexOf(item) == -1) {\n          result.push(item);\n        }\n      };\n\n      cells.forEach(function (cell) {\n        var target = cell;\n\n        while (target && target.props.parent) {\n          add(target);\n          target = target.props.parent;\n        }\n\n        if (target) {\n          add(target);\n        }\n      });\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setCellIndex\", function (cell, index) {\n      var cellProps = _this.getPropsForCells(index)[0];\n\n      cell.setStateProps(cellProps);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCellIndex\", function (cell) {\n      return cell.getProps().index;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"sortCells\", function (cells) {\n      return cells.sort(function (cell1, cell2) {\n        return _this.getCellIndex(cell1) - _this.getCellIndex(cell2);\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getUnlockedCells\", function () {\n      var thisProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var lockedStartColumns = thisProps.lockedStartColumns;\n      var result = [];\n      thisProps.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id, _this.unlockedCells);\n\n        if (cell) {\n          var props = cell.getProps();\n          var index = props.computedVisibleIndex - lockedStartColumns.length;\n          result[index] = cell;\n        }\n      });\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getSortedCells\", function () {\n      return _this.sortCells(_this.getUnlockedCells());\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getGaps\", function (startIndex, endIndex) {\n      var visibleCellPositions = {};\n\n      _this.getSortedCells().forEach(function (cell) {\n        visibleCellPositions[_this.getCellIndex(cell)] = true;\n      });\n\n      var gaps = [];\n\n      for (; startIndex <= endIndex; startIndex++) {\n        if (!visibleCellPositions[startIndex]) {\n          gaps.push(startIndex);\n        }\n      }\n\n      return gaps;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setColumnRenderStartIndex\", function (columnRenderStartIndex) {\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      if (!renderRange) {\n        return;\n      }\n\n      var start = renderRange.start,\n          end = renderRange.end;\n\n      var gaps = _this.getGaps(start, end);\n\n      if (!gaps.length) {\n        return;\n      }\n\n      _this.getUnlockedCells().forEach(function (cell) {\n        var cellProps = cell.getProps();\n        var cellIndex = cellProps.computedVisibleIndex,\n            computedLocked = cellProps.computedLocked;\n\n        if (computedLocked) {\n          return;\n        }\n\n        var outOfView = cellIndex < start || cellIndex > end;\n        var newIndex;\n\n        if (outOfView && gaps.length) {\n          newIndex = gaps[gaps.length - 1];\n\n          _this.setCellIndex(cell, newIndex);\n\n          gaps.length -= 1;\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getColumnRenderRange\", function () {\n      var _this$props = _this.props,\n          columnRenderCount = _this$props.columnRenderCount,\n          lockedStartColumns = _this$props.lockedStartColumns,\n          lockedEndColumns = _this$props.lockedEndColumns,\n          virtualizeColumns = _this$props.virtualizeColumns,\n          columns = _this$props.columns;\n\n      if (!virtualizeColumns) {\n        return null;\n      }\n\n      var minStartIndex = lockedStartColumns.length;\n      var maxEndIndex = columns.length - lockedEndColumns.length - 1;\n      var columnRenderStartIndex = _this.columnRenderStartIndex == null ? _this.props.columnRenderStartIndex || 0 : _this.columnRenderStartIndex;\n      columnRenderStartIndex = Math.max(columnRenderStartIndex, minStartIndex);\n\n      if (columnRenderCount != null) {\n        var columnRenderEndIndex = columnRenderStartIndex + columnRenderCount;\n        columnRenderEndIndex = Math.min(columnRenderEndIndex, maxEndIndex);\n\n        if (columnRenderEndIndex - columnRenderCount != columnRenderStartIndex) {\n          columnRenderStartIndex = Math.max(columnRenderEndIndex - columnRenderCount, minStartIndex);\n        }\n\n        return {\n          start: columnRenderStartIndex,\n          end: columnRenderEndIndex\n        };\n      }\n\n      return null;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"prepareStyle\", function (props) {\n      var headerHeight = props.headerHeight,\n          width = props.width,\n          minWidth = props.minWidth,\n          index = props.index;\n\n      var style = _objectSpread({}, props.style);\n\n      if (width || minWidth) {\n        if (width) {\n          style.width = Math.max(width, minWidth || 0);\n        }\n\n        if (minWidth) {\n          style.minWidth = minWidth;\n        }\n      }\n\n      if (headerHeight) {\n        style.height = headerHeight;\n\n        if (props.computedFilterable) {\n          style.height += props.filterRowHeight;\n        }\n      }\n\n      style.zIndex = style.zIndex || 100 - (index || 0);\n      var scrollLeft = _this.props.scrollLeft != null ? _this.props.scrollLeft : _this.scrollLeft;\n      var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n      style.transform = \"translate3d(\".concat(transformPos || 0, \"px, 0px, 0px)\");\n      return style;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"notifyScrollLeftMax\", function (scrollLeftMax) {\n      var resizerClassName = 'InovuaReactDataGrid__column-resizer';\n\n      var lastUnlockedResizer = _this.getDOMNode().querySelector(\".\".concat(resizerClassName, \"--last-unlocked\"));\n\n      if (lastUnlockedResizer) {\n        var columnResizeHandleWidth = _this.props.columnResizeHandleWidth;\n        var remaining = scrollLeftMax - (_this.scrollLeft + columnResizeHandleWidth / 2);\n        var visible = remaining <= 0;\n        lastUnlockedResizer.style.pointerEvents = visible ? 'auto' : 'none';\n        var classList = lastUnlockedResizer.classList;\n\n        if (classList && classList.add && classList.remove) {\n          if (visible) {\n            classList.add(\"\".concat(resizerClassName, \"--active\"));\n          } else {\n            classList.remove(\"\".concat(resizerClassName, \"--active\"));\n          }\n        } else {\n          lastUnlockedResizer.style.zIndex = visible ? 5000 : 2000;\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setScrollLeft\", function (scrollLeft, scrollLeftMax) {\n      _this.scrollLeft = scrollLeft;\n      var node = _this.props.hasLocked ? _this.getDOMNode().querySelector('.InovuaReactDataGrid__unlocked-wrapper') : _this.getDOMNode();\n\n      if (node) {\n        var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n        node.style.transform = \"translate3d(\".concat(transformPos, \"px, 0px, 0px)\");\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft, {\n          isHeader: true\n        });\n      }\n\n      if (_this.props.virtualizeColumns) {\n        _this.maybeUpdateColumns();\n\n        if (scrollLeft === 0 || scrollLeft === scrollLeftMax) {\n          requestAnimationFrame(function () {\n            return _this.maybeUpdateColumns();\n          });\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"maybeUpdateColumns\", function () {\n      var range = _this.getColumnRenderRange();\n\n      if (range && range.start !== _this.startIndex && range.end !== _this.endIndex) {\n        _this.updateColumns();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateColumns\", function () {\n      var newColumns = _this.renderColumns();\n\n      _this.setState({\n        children: newColumns\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onFocus\", function (event) {\n      var body = (0, _selectParent.default)('.InovuaReactDataGrid__body', event.target);\n\n      if (!body) {\n        return;\n      }\n\n      var OFFSET = 15;\n\n      var headerRegion = _region.default.from(body);\n\n      var targetRegion = _region.default.from(event.target);\n\n      var scrollLeft = _this.scrollLeft || _this.props.scrollLeft || 0;\n\n      if (!headerRegion.containsRegion(targetRegion)) {\n        if (targetRegion.left < headerRegion.left) {\n          var diff = headerRegion.left - targetRegion.left;\n          var newScrollLeft = scrollLeft - (diff + OFFSET);\n\n          _this.props.setScrollLeft(newScrollLeft);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getPropsForCells\", function (startIndex) {\n      var endIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : startIndex + 1;\n      var props = _this.props;\n      var renderInPortal = props.renderInPortal,\n          columnHeaderUserSelect = props.columnHeaderUserSelect,\n          columnResizeHandleWidth = props.columnResizeHandleWidth,\n          columnUserSelect = props.columnUserSelect,\n          data = props.data,\n          showColumnContextMenu = props.showColumnContextMenu,\n          showColumnFilterContextMenu = props.showColumnFilterContextMenu,\n          hideColumnFilterContextMenu = props.hideColumnFilterContextMenu,\n          deselectAll = props.deselectAll,\n          firstLockedEndIndex = props.firstLockedEndIndex,\n          firstUnlockedIndex = props.firstUnlockedIndex,\n          filterable = props.filterable,\n          computedShowHeaderBorderRight = props.computedShowHeaderBorderRight,\n          hasLockedEnd = props.hasLockedEnd,\n          hasLockedStart = props.hasLockedStart,\n          lockedEndColumns = props.lockedEndColumns,\n          nativeScroll = props.nativeScroll,\n          resizeProxyStyle = props.resizeProxyStyle,\n          rtl = props.rtl,\n          i18n = props.i18n,\n          scrollbarWidth = props.scrollbarWidth,\n          selectAll = props.selectAll,\n          selectedCount = props.selectedCount,\n          filterTypes = props.filterTypes,\n          totalCount = props.totalCount,\n          renderSortTool = props.renderSortTool,\n          unselectedCount = props.unselectedCount,\n          virtualizeColumns = props.virtualizeColumns,\n          showColumnMenuTool = props.showColumnMenuTool,\n          showColumnMenuToolOnHover = props.showColumnMenuToolOnHover,\n          lastUnlockedIndex = props.lastUnlockedIndex,\n          lastLockedStartIndex = props.lastLockedStartIndex,\n          lastLockedEndIndex = props.lastLockedEndIndex,\n          theme = props.theme,\n          renderMenuTool = props.renderMenuTool,\n          sortedColumnsInfo = props.sortedColumnsInfo,\n          onColumnMouseEnter = props.onColumnMouseEnter,\n          onColumnMouseLeave = props.onColumnMouseLeave,\n          columnIndexHovered = props.columnIndexHovered,\n          columnHoverClassName = props.columnHoverClassName,\n          enableColumnFilterContextMenu = props.enableColumnFilterContextMenu,\n          computedEnableColumnHover = props.computedEnableColumnHover,\n          renderRowDetailsMoreIcon = props.renderRowDetailsMoreIcon,\n          hideColumnContextMenu = props.hideColumnContextMenu,\n          updateMenuPosition = props.updateMenuPosition,\n          filterRowHeight = props.filterRowHeight;\n      var columns = props.columns;\n\n      if (startIndex !== undefined) {\n        columns = columns.slice(startIndex, endIndex);\n      }\n\n      var firstLockedIndex = hasLockedEnd ? props.columns.length - lockedEndColumns.length : -1;\n      return columns.map(function (column, i) {\n        var sortableColumn = column.computedSortable,\n            resizableColumn = column.computedResizable;\n        var isSortable = sortableColumn;\n        var isResizable = resizableColumn;\n        var cellStyle = column.style;\n\n        if (props.headerHeight) {\n          if (column.style) {\n            cellStyle = Object.assign({}, cellStyle);\n          }\n\n          if (!cellStyle) {\n            cellStyle = {};\n          }\n\n          cellStyle.height = props.headerHeight;\n\n          if (props.computedFilterable) {\n            cellStyle.height += props.filterRowHeight;\n          }\n        }\n\n        var defaults = {\n          filterable: filterable,\n          renderSortTool: renderSortTool,\n          renderMenuTool: renderMenuTool,\n          showColumnMenuTool: showColumnMenuTool,\n          showColumnMenuToolOnHover: showColumnMenuToolOnHover\n        };\n\n        if (columnUserSelect !== undefined) {\n          defaults.userSelect = columnUserSelect;\n        }\n\n        if (columnHeaderUserSelect !== undefined) {\n          defaults.headerUserSelect = columnHeaderUserSelect;\n        }\n\n        var displayColumnFilterContextMenu = enableColumnFilterContextMenu;\n\n        if (column.enableColumnFilterContextMenu != null) {\n          displayColumnFilterContextMenu = column.enableColumnFilterContextMenu;\n        }\n\n        var cellProps = Object.assign(defaults, column, {\n          headerCell: true,\n          headerHeight: props.headerHeight,\n          i18n: i18n,\n          selectedCount: selectedCount,\n          unselectedCount: unselectedCount,\n          totalCount: totalCount,\n          showColumnContextMenu: showColumnContextMenu,\n          showColumnFilterContextMenu: showColumnFilterContextMenu,\n          hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n          selectAll: selectAll,\n          deselectAll: deselectAll,\n          style: cellStyle,\n          resizeProxyStyle: resizeProxyStyle,\n          renderInPortal: renderInPortal,\n          lastUnlockedIndex: lastUnlockedIndex,\n          lastLockedStartIndex: lastLockedStartIndex,\n          lastLockedEndIndex: lastLockedEndIndex,\n          filterTypes: filterTypes,\n          onFilterValueChange: _this.onFilterValueChange,\n          lastUnlocked: column.computedVisibleIndex === firstLockedIndex - 1,\n          columnResizeHandleWidth: columnResizeHandleWidth,\n          virtualizeColumns: virtualizeColumns,\n          rtl: rtl,\n          onResizeMouseDown: props.onResizeMouseDown,\n          onResizeTouchStart: props.onResizeTouchStart,\n          onMouseDown: _this.onCellMouseDown,\n          onTouchStart: _this.onCellTouchStart,\n          computedSortable: isSortable,\n          computedResizable: isResizable,\n          hasLockedStart: hasLockedStart,\n          nativeScroll: nativeScroll,\n          scrollbarWidth: scrollbarWidth,\n          data: data,\n          theme: theme,\n          sortedColumnsInfo: sortedColumnsInfo,\n          onColumnMouseEnter: onColumnMouseEnter,\n          onColumnMouseLeave: onColumnMouseLeave,\n          columnIndex: i,\n          columnIndexHovered: columnIndexHovered,\n          columnHoverClassName: columnHoverClassName,\n          enableColumnFilterContextMenu: displayColumnFilterContextMenu,\n          computedEnableColumnHover: computedEnableColumnHover,\n          renderRowDetailsMoreIcon: renderRowDetailsMoreIcon,\n          hideColumnContextMenu: hideColumnContextMenu,\n          updateMenuPosition: updateMenuPosition,\n          filterRowHeight: filterRowHeight\n        });\n        cellProps.onFocus = _this.onHeaderCellFocus.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n\n        if (cellProps.group) {\n          cellProps.parentGroups = getParentGroups(cellProps.group, _this.props.computedGroupsMap, {\n            includeSelf: true\n          });\n        }\n\n        if (props.onCellClick) {\n          cellProps.onClick = props.onCellClick;\n        }\n\n        if (cellProps.visibilityTransitionDuration || cellProps.hideTransitionDuration || cellProps.showTransitionDuration) {\n          cellProps.onTransitionEnd = _this.onTransitionEnd.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n        }\n\n        cellProps.onSortClick = (props.onSortClick || emptyFn).bind(null, cellProps);\n        cellProps.value = (0, _getCellHeader.default)(cellProps, column, props);\n        cellProps.onUnmount = _this.onCellUnmount;\n        cellProps.onMount = _this.onCellMount;\n        var showBorderLeft = cellProps.showBorderLeft,\n            showBorderRight = cellProps.showBorderRight;\n        cellProps.showBorderRight = cellProps.computedLocked === 'start' && cellProps.computedVisibleIndex == firstUnlockedIndex - 1 || computedShowHeaderBorderRight && column.computedVisibleIndex === column.computedVisibleCount - 1;\n        cellProps.lastInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex === lastLockedStartIndex : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === lastLockedEndIndex : cellProps.computedVisibleIndex === lastUnlockedIndex;\n        cellProps.firstInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex == 0 : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === firstLockedEndIndex : cellProps.computedVisibleIndex === firstUnlockedIndex;\n        cellProps.showBorderLeft = cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex >= firstLockedEndIndex : cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex > 0 : cellProps.computedVisibleIndex > firstUnlockedIndex;\n        var prevColumn = columns[i - 1];\n        var nextColumn = columns[i + 1];\n\n        if (prevColumn && prevColumn.nextBorderLeft !== undefined) {\n          cellProps.showBorderLeft = prevColumn.nextBorderLeft;\n        }\n\n        if (nextColumn && nextColumn.prevBorderRight !== undefined) {\n          cellProps.showBorderRight = nextColumn.prevBorderRight;\n        }\n\n        if (showBorderLeft !== undefined) {\n          cellProps.showBorderLeft = showBorderLeft;\n        }\n\n        if (showBorderRight !== undefined) {\n          cellProps.showBorderRight = showBorderRight;\n        }\n\n        return cellProps;\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onHeaderCellFocus\", function (headerCellProps, column, e) {\n      if (_this.props.onColumnHeaderFocus) {\n        _this.props.onColumnHeaderFocus(headerCellProps, column, e);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onTransitionEnd\", function (cellProps, column, e) {\n      e.stopPropagation();\n\n      if (column.onTransitionEnd) {\n        column.onTransitionEnd(e);\n      }\n\n      if (_this.props.onTransitionEnd) {\n        _this.props.onTransitionEnd(e, cellProps);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellMouseDown\", function (headerCellProps, event) {\n      if (_this.props.onCellMouseDown) {\n        _this.props.onCellMouseDown(headerCellProps, event);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onCellTouchStart\", function (headerCellProps, event) {\n      if (_this.props.onCellTouchStart) {\n        _this.props.onCellTouchStart(headerCellProps, event);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderColumns\", function () {\n      var _result2;\n\n      var props = _this.props;\n      var groups = props.computedGroupsMap,\n          hasLockedStart = props.hasLockedStart,\n          hasLockedEnd = props.hasLockedEnd,\n          lockedStartColumns = props.lockedStartColumns,\n          lockedEndColumns = props.lockedEndColumns,\n          columns = props.columns;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      _this.startIndex = renderRange === null || renderRange === void 0 ? void 0 : renderRange.start;\n      _this.endIndex = renderRange === null || renderRange === void 0 ? void 0 : renderRange.end;\n      var cellProps = renderRange ? _this.getPropsForCells(renderRange.start, renderRange.end + 1) : _this.getPropsForCells();\n      var lockedStartCells;\n      var lockedEndCells;\n\n      if (renderRange) {\n        if (hasLockedStart) {\n          lockedStartCells = _this.getPropsForCells(0, lockedStartColumns.length);\n        }\n\n        if (hasLockedEnd) {\n          lockedEndCells = _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n        }\n      }\n\n      if (groups) {\n        if (hasLockedStart || hasLockedEnd) {\n          if (hasLockedStart) {\n            lockedStartCells = lockedStartCells || _this.getPropsForCells(0, lockedStartColumns.length);\n            lockedStartCells = _this.renderGroupedCells(lockedStartCells);\n          }\n\n          if (hasLockedEnd) {\n            lockedEndCells = lockedEndCells || _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n            lockedEndCells = _this.renderGroupedCells(lockedEndCells);\n          }\n\n          var unlockedCells = renderRange ? cellProps : _this.getPropsForCells(lockedStartColumns.length, columns.length - lockedEndColumns.length);\n          unlockedCells = _this.renderGroupedCells(unlockedCells);\n          return (0, _renderCellsMaybeLocked.default)([], _this.props, props.scrollLeft, {\n            lockedStartContent: lockedStartCells,\n            lockedEndContent: lockedEndCells,\n            unlockedContent: unlockedCells,\n            isHeader: true\n          });\n        }\n\n        return _this.renderGroupedCells(cellProps);\n      }\n\n      var result = [];\n\n      if (hasLockedStart && lockedStartCells) {\n        var _result;\n\n        (_result = result).push.apply(_result, (0, _toConsumableArray2.default)(lockedStartCells));\n      }\n\n      (_result2 = result).push.apply(_result2, (0, _toConsumableArray2.default)(cellProps));\n\n      if (hasLockedEnd && lockedEndCells) {\n        var _result3;\n\n        (_result3 = result).push.apply(_result3, (0, _toConsumableArray2.default)(lockedEndCells));\n      }\n\n      result = result.map(function (cProps, i) {\n        var index = (renderRange === null || renderRange === void 0 ? void 0 : renderRange.start) + i;\n        return _react.default.createElement(_Cell.default, _objectSpread(_objectSpread({}, cProps), {}, {\n          key: \"\".concat(index, \"__\").concat(cProps.id),\n          left: _this.props.columnWidthPrefixSums[index]\n        }));\n      });\n      return (0, _renderCellsMaybeLocked.default)(result, _this.props, props.scrollLeft, {\n        isHeader: true\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCellDOMNodeAt\", function (index) {\n      var _this$props2 = _this.props,\n          columns = _this$props2.columns,\n          showWarnings = _this$props2.showWarnings,\n          virtualizeColumns = _this$props2.virtualizeColumns;\n      var column = columns[index];\n\n      if (!column) {\n        return null;\n      }\n\n      var arr = column.computedLocked || !virtualizeColumns ? _this.getCells() : _this.getUnlockedCells();\n      var cell = arr.filter(function (c) {\n        return c.getProps().computedVisibleIndex === index;\n      })[0];\n\n      if (!cell && showWarnings) {\n        console.error(\"Cannot find dom cell at \".concat(index, \".\"));\n      }\n\n      if (cell) {\n        return cell.getDOMNode ? cell.getDOMNode() : cell.domRef ? cell.domRef.current : null;\n      }\n\n      return;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderHeaderGroup\", function (groupName, groupItems, _) {\n      var _this$props3 = _this.props,\n          groups = _this$props3.computedGroupsMap,\n          columnsMap = _this$props3.columnsMap,\n          hasLockedEnd = _this$props3.hasLockedEnd,\n          lockedStartColumns = _this$props3.lockedStartColumns,\n          lockedEndColumns = _this$props3.lockedEndColumns,\n          firstLockedEndIndex = _this$props3.firstLockedEndIndex,\n          lastLockedStartIndex = _this$props3.lastLockedStartIndex,\n          lastLockedEndIndex = _this$props3.lastLockedEndIndex,\n          firstUnlockedIndex = _this$props3.firstUnlockedIndex,\n          lastUnlockedIndex = _this$props3.lastUnlockedIndex,\n          resizeProxyStyle = _this$props3.resizeProxyStyle,\n          rtl = _this$props3.rtl;\n      var group = groups[groupName];\n      var parentGroups = getParentGroups(groupName, groups);\n      var depth = group ? group.computedDepth : 0;\n      var columns = groupItems.filter(function (x) {\n        return !!x;\n      }).reduce(function (acc, item) {\n        if (item.type == _HeaderGroup.default) {\n          acc.push.apply(acc, (0, _toConsumableArray2.default)(item.props.columns));\n        } else {\n          acc.push(item.props.id);\n        }\n\n        return acc;\n      }, []);\n      var style = {\n        width: columns.reduce(function (width, colId) {\n          return width + columnsMap[colId].computedWidth;\n        }, 0)\n      };\n      var resizable = group && group.resizable !== undefined ? group.resizable : _this.props.resizable;\n      var allColumnsUnresizable = columns.reduce(function (acc, colId) {\n        return acc && columnsMap[colId].computedResizable === false;\n      }, true);\n\n      if (allColumnsUnresizable) {\n        resizable = false;\n      }\n\n      var firstColumn = columnsMap[columns[0]];\n      var lastColumn = columnsMap[columns[columns.length - 1]];\n      var firstIndex = firstColumn.computedVisibleIndex;\n      var lastIndex = lastColumn.computedVisibleIndex;\n      var showBorderLeft = firstIndex >= lockedStartColumns.length ? firstIndex > lockedStartColumns.length || firstColumn.computedLocked === 'end' : firstIndex > 0;\n      var containsLastColumn = lastColumn.computedVisibleIndex === _this.props.columns.length - 1;\n      var showBorderRight = lastColumn.computedVisibleIndex === lockedStartColumns.length - 1;\n      var adjustResizer = hasLockedEnd && lastColumn.computedVisibleIndex === _this.props.columns.length - lockedEndColumns.length - 1;\n      var firstInSection = firstColumn.computedLocked === 'start' ? firstIndex === 0 : firstColumn.computedLocked === 'end' ? firstIndex == firstLockedEndIndex : firstIndex === firstUnlockedIndex;\n      var lastInSection = lastColumn.computedLocked === 'start' ? lastIndex === lastLockedStartIndex : lastColumn.computedLocked === 'end' ? lastIndex == lastLockedEndIndex : lastIndex === lastUnlockedIndex;\n\n      if (firstColumn.inTransition) {\n        var duration = firstColumn.inShowTransition ? firstColumn.showTransitionDuration : firstColumn.hideTransitionDuration;\n        duration = duration || firstColumn.visibilityTransitionDuration;\n        style.transitionDuration = typeof duration == 'number' ? \"\".concat(duration, \"ms\") : duration;\n      }\n\n      var key = \"\".concat(groupName, \"-\").concat(depth, \"-\").concat(columns.join('-'));\n      return _react.default.createElement(_HeaderGroup.default, {\n        key: key,\n        depth: depth,\n        group: group,\n        style: style,\n        rtl: rtl,\n        firstIndex: firstIndex,\n        lastUnlockedIndex: _this.props.lastUnlockedIndex,\n        lastLockedStartIndex: _this.props.lastLockedStartIndex,\n        lastLockedEndIndex: _this.props.lastLockedEndIndex,\n        filterable: _this.props.filterable,\n        inTransition: firstColumn.inTransition,\n        inShowTransition: firstColumn.inShowTransition,\n        inHideTransition: firstColumn.inHideTransition,\n        showTransitionDuration: firstColumn.showTransitionDuration,\n        hideTransitionDuration: firstColumn.hideTransitionDuration,\n        visibilityTransitionDuration: firstColumn.visibilityTransitionDuration,\n        onMouseDown: _this.props.onGroupMouseDown,\n        columns: columns,\n        resizeProxyStyle: resizeProxyStyle,\n        locked: lastColumn.computedLocked === 'start' ? 'start' : firstColumn.computedLocked === 'end' ? 'end' : false,\n        parentGroups: parentGroups,\n        containsLastColumn: containsLastColumn,\n        firstInSection: firstInSection,\n        lastInSection: lastInSection,\n        adjustResizer: adjustResizer,\n        showBorderLeft: showBorderLeft,\n        showBorderRight: showBorderRight,\n        children: groupItems,\n        resizable: resizable,\n        columnResizeHandleWidth: _this.props.columnResizeHandleWidth,\n        onResizeMouseDown: _this.onResizeMouseDown,\n        onResizeTouchStart: _this.onResizeTouchStart\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResizeMouseDown\", function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeMouseDown) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeMouseDown({\n          visibleIndex: visibleIndex,\n          computedVisibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResizeTouchStart\", function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeTouchStart) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeTouchStart({\n          visibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getItemsForDepth\", function (items, depth) {\n      return items.map(function (item) {\n        return item.props.depth === depth ? item : null;\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderItems\", function (items) {\n      var computedGroupsDepth = _this.props.computedGroupsDepth;\n      var currentDepth = computedGroupsDepth + 1;\n\n      while (currentDepth > 0) {\n        items = _this.groupItemsForDepth(items, currentDepth);\n        currentDepth--;\n      }\n\n      return items;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"groupItemsForDepth\", function (items, depth) {\n      var depthItems = _this.getItemsForDepth(items, depth);\n\n      var index = 0;\n      var item = depthItems[index];\n\n      var currentGroupName = _this.getItemGroupName(item);\n\n      var itemGroupName;\n      var groupItems;\n      var headerGroup;\n      var groupStartIndex = 0;\n      var len = depthItems.length + 1;\n\n      while (index <= len) {\n        itemGroupName = _this.getItemGroupName(item);\n\n        if (currentGroupName == null && itemGroupName != null) {\n          groupStartIndex = index;\n          currentGroupName = itemGroupName;\n        } else if (itemGroupName != currentGroupName) {\n          groupItems = items.slice(groupStartIndex, index);\n          headerGroup = _this.renderHeaderGroup(currentGroupName, groupItems);\n          items.splice(groupStartIndex, groupItems.length, headerGroup);\n          depthItems.splice(groupStartIndex, groupItems.length, headerGroup);\n          index = groupStartIndex;\n          currentGroupName = null;\n        }\n\n        index++;\n        item = depthItems[index];\n      }\n\n      return items;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getItemGroupName\", function (item) {\n      if (!item) {\n        return null;\n      }\n\n      var groups = _this.props.computedGroupsMap;\n      var groupName;\n\n      if (item.type == _HeaderGroup.default) {\n        groupName = item.props.group ? item.props.group.group : null;\n      } else {\n        groupName = item.props.group;\n      }\n\n      var group = groups[groupName];\n      return group ? group.name || '' : '';\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"fixDepth\", function (item, depthDiff) {\n      while (depthDiff >= 0) {\n        item = _this.renderHeaderGroup(_this.getItemGroupName(item), [item], {\n          depth: item.props.depth - 1,\n          forceHeader: true\n        });\n        depthDiff--;\n      }\n\n      return item;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderGroupedCells\", function (cellProps) {\n      var _this$props4 = _this.props,\n          groups = _this$props4.computedGroupsMap,\n          showWarnings = _this$props4.showWarnings;\n      var items = cellProps.map(function (props) {\n        var group = groups[props.group];\n\n        if (showWarnings && props.group && !group) {\n          _this.warn(\"Column \\\"\".concat(props.id, \"\\\" references group \\\"\").concat(props.group, \"\\\", but the group is never defined in the groups prop.\"));\n        }\n\n        var depth = group ? group.computedDepth + 1 : 0;\n        return _react.default.createElement(_Cell.default, _objectSpread(_objectSpread({}, props), {}, {\n          key: props.id,\n          depth: depth\n        }));\n      });\n      return _this.renderItems(items);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onFilterValueChange\", function (filterValue, cellProps) {\n      if (_this.props.onFilterValueChange) {\n        _this.props.onFilterValueChange({\n          filterValue: filterValue,\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"warn\", function (msg) {\n      console.error(msg);\n    });\n    _this.cells = [];\n    _this.unlockedCells = [];\n    _this.startIndex = 0;\n    _this.endIndex = 0;\n    _this.domRef = _react.default.createRef();\n    _this.state = {\n      children: _this.renderColumns()\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridHeader, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cells = null;\n      this.unlockedCells = null;\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      var _this$domRef;\n\n      return (_this$domRef = this.domRef) === null || _this$domRef === void 0 ? void 0 : _this$domRef.current;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var rtl = props.rtl,\n          virtualizeColumns = props.virtualizeColumns;\n      var className = (0, _join.default)('InovuaReactDataGrid__header', \"InovuaReactDataGrid__header--direction-\".concat(rtl ? 'rtl' : 'ltr'), props.className);\n      var style = this.prepareStyle(props);\n      var children = virtualizeColumns ? this.state.children : this.renderColumns();\n      var cleanedProps = (0, _reactCleanProps.default)(props, InovuaDataGridHeader.propTypes);\n      delete cleanedProps.columnWidthPrefixSums;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, cleanedProps), {}, {\n        className: className,\n        data: null,\n        style: style,\n        ref: this.domRef,\n        onFocus: this.onFocus\n      }), children);\n    }\n  }]);\n  return InovuaDataGridHeader;\n}(_react.default.Component);\n\nexports.default = InovuaDataGridHeader;\n(0, _defineProperty2.default)(InovuaDataGridHeader, \"defaultProps\", defaultProps);\n(0, _defineProperty2.default)(InovuaDataGridHeader, \"propTypes\", propTypes);"]},"metadata":{},"sourceType":"script"}