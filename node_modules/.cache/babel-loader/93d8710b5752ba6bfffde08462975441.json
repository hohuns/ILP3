{"ast":null,"code":"/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"RowHeightManager\", {\n  enumerable: true,\n  get: function get() {\n    return _RowHeightManager.default;\n  }\n});\nexports.default = void 0;\nObject.defineProperty(exports, \"getScrollbarWidth\", {\n  enumerable: true,\n  get: function get() {\n    return _src.getScrollbarWidth;\n  }\n});\nexports.propTypes = void 0;\nObject.defineProperty(exports, \"shouldComponentUpdate\", {\n  enumerable: true,\n  get: function get() {\n    return _shouldComponentUpdate2.default;\n  }\n});\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _contains = _interopRequireDefault(require(\"../../../packages/contains\"));\n\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../packages/react-clean-props\"));\n\nvar _resizeObserverPolyfill = _interopRequireDefault(require(\"resize-observer-polyfill\"));\n\nvar _src = _interopRequireWildcard(require(\"../../../packages/react-virtual-scroll-container-pro/src\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../packages/uglified\"));\n\nvar _join = _interopRequireDefault(require(\"../../../packages/join\"));\n\nvar _binarySearch = _interopRequireDefault(require(\"../../../packages/binary-search\"));\n\nvar _RowHeightManager = _interopRequireDefault(require(\"./RowHeightManager\"));\n\nvar _getFocusableElements = _interopRequireDefault(require(\"../../getFocusableElements\"));\n\nvar _renderRows2 = _interopRequireDefault(require(\"./renderRows\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../packages/shouldComponentUpdate\"));\n\nvar _getVisibleRange = _interopRequireDefault(require(\"./getVisibleRange\"));\n\nvar _StickyRowsContainer = _interopRequireDefault(require(\"./StickyRowsContainer\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.throttle\"));\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nvar sortAsc = function sortAsc(a, b) {\n  return a - b;\n};\n\nvar emptyFn = function emptyFn() {};\n\nvar emptyObject = Object.freeze ? Object.freeze({}) : {};\nvar ua = globalObject.navigator ? globalObject.navigator.userAgent : '';\nvar IS_EDGE = ua.indexOf('Edge/') !== -1;\nvar IS_FF = ua.toLowerCase().indexOf('firefox') > -1;\nvar BASE_CLASS_NAME = 'inovua-react-virtual-list';\nvar ResizeObserver = globalObject.ResizeObserver || _resizeObserverPolyfill.default;\n\nvar sum = function sum(a, b) {\n  return a + b;\n};\n\nvar unique = function unique(arr) {\n  if (Set) {\n    return (0, _toConsumableArray2.default)(new Set(arr));\n  }\n\n  return Object.keys(arr.reduce(function (acc, item) {\n    acc[item] = true;\n    return acc;\n  }, {}));\n};\n\nvar InovuaVirtualList = function (_Component) {\n  (0, _inherits2.default)(InovuaVirtualList, _Component);\n\n  var _super = _createSuper(InovuaVirtualList);\n\n  function InovuaVirtualList(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaVirtualList);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"size\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rows\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rowSpans\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rowCoveredBy\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollTopPos\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getContainerNode\", function () {\n      return _this.containerNode;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScroller\", function (props) {\n      var offset = _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.style), {}, {\n        overscrollBehavior: _this.props.overscrollBehavior || 'none',\n        backfaceVisibility: 'hidden',\n        WebkitOverscrollBehavior: _this.props.overscrollBehavior || 'none',\n        right: -offset,\n        bottom: -offset\n      });\n\n      props.style = style;\n\n      if (_this.props.showEmptyRows && _this.props.count < _this.strictVisibleCount && (0, _src.getScrollbarWidth)() && _this.props.nativeScroll) {\n        style.overflowY = 'hidden';\n      }\n\n      var result;\n\n      if (_this.props.renderScroller) {\n        result = _this.props.renderScroller(props);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, props));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollerSpacerOnNaturalRowHeight\", function (spacerProps) {\n      spacerProps.style.height = _this.getScrollHeight();\n\n      if (_this.props.renderScrollerSpacer) {\n        _this.props.renderScrollerSpacer(spacerProps);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderView\", function (props) {\n      var offset = _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      var minHeight = offset ? \"calc(100% - \".concat(offset, \"px)\") : '100%';\n      var maxWidth = offset ? \"calc(100% - \".concat(offset, \"px)\") : '100%';\n\n      if (_this.props.rtl && !_this.props.nativeScroll) {\n        maxWidth = '100%';\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.style), {}, {\n        minHeight: minHeight,\n        maxWidth: maxWidth\n      });\n\n      if (_this.props.rtl && !(0, _src.getScrollbarWidth)()) {\n        style.transform = \"translateX(\".concat(-offset, \"px)\");\n      }\n\n      var viewProps = _objectSpread(_objectSpread({}, props), {}, {\n        style: style,\n        'data-name': 'view'\n      });\n\n      var result;\n\n      if (_this.props.renderView) {\n        result = _this.props.renderView(viewProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, viewProps));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getTotalRowHeight\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      return props.rowHeightManager ? props.rowHeightManager.getTotalSize(props.count) : props.count * props.rowHeight;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollHeight\", function () {\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var offset = SCROLLBAR_WIDTH ? 0 : _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      var height = _this.getTotalRowHeight();\n\n      return height + offset;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollSize\", function (node) {\n      var res = {\n        width: node.scrollWidth,\n        height: _this.getScrollHeight()\n      };\n      return res;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getClientSize\", function (n) {\n      var node = n.firstChild;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var offset = SCROLLBAR_WIDTH ? 0 : _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      return {\n        width: node.clientWidth + offset,\n        height: node.clientHeight + offset\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"initSizes\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var minRowHeight = props.minRowHeight,\n          rowHeightManager = props.rowHeightManager;\n\n      if (rowHeightManager) {\n        return;\n      }\n\n      var count = _this.getMaxRenderCount(props);\n\n      var rowOffsets = [];\n      var totalHeight = 0;\n      var rowHeights = (0, _toConsumableArray2.default)(Array(count)).map(function () {\n        rowOffsets.push(totalHeight);\n        totalHeight += minRowHeight;\n        return minRowHeight;\n      });\n      rowOffsets[count] = totalHeight;\n      _this.rowOffsets = rowOffsets;\n      _this.rowHeights = rowHeights;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setHeightForRows\", function (indexes, heights) {\n      if (!indexes.length || !heights.length) {\n        return 0;\n      }\n\n      if (_this.props.showWarnings) {\n        if (indexes.length != heights.length) {\n          console.warn('setHeightForRows signature mismatch!!!');\n          return 0;\n        }\n\n        indexes.forEach(function (_, i) {\n          if (i > 0) {\n            var _diff = indexes[i] - indexes[i - 1];\n\n            if (_diff !== 1) {\n              console.warn('setHeightForRows should be called with successive indexes!', indexes);\n            }\n          }\n        });\n      }\n\n      var _assertThisInitialize = (0, _assertThisInitialized2.default)(_this),\n          rowHeights = _assertThisInitialize.rowHeights,\n          rowOffsets = _assertThisInitialize.rowOffsets;\n\n      var count = _this.props.count;\n      var diff = 0;\n      indexes.forEach(function (index, i) {\n        var height = heights[i] || 0;\n        var oldHeight = rowHeights[index] || 0;\n        rowHeights[index] = height;\n        rowOffsets[index] = diff + (rowOffsets[index] || 0);\n        diff += height - oldHeight;\n      });\n\n      for (var i = indexes[indexes.length - 1] + 1; i <= count; i++) {\n        rowOffsets[i] = diff + (rowOffsets[i] || 0);\n      }\n\n      return diff;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderSizer\", function (scrollHeight) {\n      var _this$props = _this.props,\n          renderSizer = _this$props.renderSizer,\n          minRowWidth = _this$props.minRowWidth,\n          emptyScrollOffset = _this$props.emptyScrollOffset,\n          rowHeightManager = _this$props.rowHeightManager,\n          showEmptyRows = _this$props.showEmptyRows;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var offset = SCROLLBAR_WIDTH ? 0 : emptyScrollOffset || 0;\n      var minHeight = scrollHeight + offset;\n\n      if (showEmptyRows) {\n        minHeight = Math.max(minHeight, _this.strictVisibleCount * rowHeightManager.getDefaultRowHeight());\n      }\n\n      var style = {\n        minHeight: isNaN(minHeight) ? '' : minHeight,\n        minWidth: minRowWidth ? minRowWidth + offset : 0\n      };\n      var result;\n\n      if (renderSizer) {\n        result = renderSizer({\n          style: style\n        }, scrollHeight);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", {\n          key: \"sizer\",\n          \"data-name\": \"sizer\",\n          style: style\n        });\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderRowContainer\", function () {\n      var props = {\n        key: 'rowContainer',\n        className: \"\".concat(BASE_CLASS_NAME, \"__row-container\"),\n        ref: _this.refContainerNode,\n        children: _this.renderRows()\n      };\n      var result;\n\n      if (_this.props.renderRowContainer) {\n        result = _this.props.renderRowContainer(props);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, props));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onViewResize\", function () {\n      requestAnimationFrame(function () {\n        _this.rafSync();\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollbarsChange\", function (_ref) {\n      var vertical = _ref.vertical,\n          horizontal = _ref.horizontal;\n\n      if (!vertical && _this.scrollTopPos || !horizontal && _this.scrollLeftPos) {\n        _this.applyScrollStyle({\n          scrollTop: !vertical ? 0 : _this.scrollTopPos,\n          scrollLeft: !horizontal ? 0 : _this.scrollLeftPos\n        });\n      }\n\n      if (_this.props.onScrollbarsChange) {\n        _this.props.onScrollbarsChange({\n          vertical: vertical,\n          horizontal: horizontal\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowUnmount\", function (row) {\n      if (!_this.rows) {\n        return;\n      }\n\n      var currentRowIndex = row.getIndex();\n      var isFound = _this.mapping[currentRowIndex];\n\n      if (!isFound) {\n        return;\n      }\n\n      delete _this.mapping[currentRowIndex];\n\n      var index = _this.rows.indexOf(row);\n\n      if (index != -1) {\n        _this.rows.splice(index, 1);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rowRef\", function (r) {\n      if (!r) {\n        return;\n      }\n\n      _this.mapping[r.props.index] = r;\n      _this.rows[r.props.index] = r;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollStart\", function () {\n      _this.scrolling = true;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (_this.props.scrollOneDirectionOnly) {\n        var scrollPos = args[0],\n            prevScrollPos = args[1];\n        var absTop = Math.abs(scrollPos.scrollTop - prevScrollPos.scrollTop);\n        var absLeft = Math.abs(scrollPos.scrollLeft - prevScrollPos.scrollLeft);\n\n        var scrollerNode = _this.getScrollerNode();\n\n        if (absTop != absLeft) {\n          _this.disableScrollPropName = absTop > absLeft ? 'overflowX' : 'overflowY';\n          _this.disableScrollOtherPropName = absTop > absLeft ? 'overflowY' : 'overflowX';\n          _this.disableScrollPropValue = scrollerNode.style[_this.disableScrollPropName];\n          scrollerNode.style[_this.disableScrollOtherPropName] = 'scroll';\n          scrollerNode.style[_this.disableScrollPropName] = 'hidden';\n        }\n      }\n\n      if (_this.props.onScrollStart) {\n        var _this$props2;\n\n        (_this$props2 = _this.props).onScrollStart.apply(_this$props2, args);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollerNode\", function () {\n      return _this.scrollContainer.scrollerNode;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollStop\", function () {\n      _this.scrolling = false;\n\n      if (_this.props.scrollOneDirectionOnly) {\n        var scrollerNode = _this.getScrollerNode();\n\n        scrollerNode.style[_this.disableScrollPropName] = _this.disableScrollPropValue;\n        scrollerNode.style.overflow = 'scroll';\n      }\n\n      if (_this.props.onScrollStop) {\n        var _this$props3;\n\n        (_this$props3 = _this.props).onScrollStop.apply(_this$props3, arguments);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRows\", function () {\n      var rows = [];\n\n      _this.forEachRow(function (row) {\n        if (row) {\n          rows.push(row);\n        }\n      });\n\n      return rows;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"forEachRow\", function (fn) {\n      var onlyVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var rows = _this.rows;\n\n      var visibleCount = _this.getVisibleCount();\n\n      var i = -1;\n\n      for (var initialIndex in rows) {\n        if (rows.hasOwnProperty(initialIndex) && (!onlyVisible || onlyVisible && initialIndex < visibleCount)) {\n          i++;\n          fn(rows[initialIndex], i);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"sortRows\", function (rows) {\n      return rows.slice().sort(function (row1, row2) {\n        return row1.getIndex() - row2.getIndex();\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRowAt\", function (index) {\n      var row = _this.mapping[index];\n\n      if (row && row.getIndex() != index) {\n        row = null;\n      }\n\n      return row;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getVisibleCount\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var virtualized = props.virtualized,\n          enableRowSpan = props.enableRowSpan,\n          extraRowsProps = props.extraRows;\n      var extraRows = enableRowSpan ? 2 : extraRowsProps || 0;\n\n      if (_this.visibleCount === undefined) {\n        return 0;\n      }\n\n      if (!virtualized) {\n        return (props.showEmptyRows ? Math.max(_this.visibleCount || 0, props.count || 0) : props.count) + extraRows;\n      }\n\n      return (props.showEmptyRows ? _this.visibleCount || props.count : Math.min(_this.visibleCount || props.count, props.count)) + extraRows;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setRowIndex\", function (row, index, callback) {\n      var existingRow = _this.mapping[index];\n\n      if (existingRow) {\n        existingRow.setIndex(index, callback);\n\n        if (existingRow !== row) {\n          row.setVisible(false);\n        }\n\n        return;\n      }\n\n      var oldIndex = row.getIndex();\n      row.setIndex(index, callback);\n      delete _this.mapping[oldIndex];\n      _this.mapping[index] = row;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getSortedRows\", function () {\n      var rows = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.getRows();\n      return _this.sortRows(rows);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowsUpdated\", function (newIndexes, range, updateScroll) {\n      newIndexes.sort(function (i1, i2) {\n        return i1 - i2;\n      });\n      var start = newIndexes[0];\n      var end = _this.props.showEmptyRows ? newIndexes[newIndexes.length - 1] : Math.min(newIndexes[newIndexes.length - 1], _this.props.count - 1);\n      var minRowHeight = _this.props.minRowHeight;\n      var rowIndexes = [];\n      var rowHeights = [];\n      var rows = [];\n\n      for (var row, rowHeight, i = start; i <= end; i++) {\n        row = _this.mapping[i];\n        rowHeight = row ? row.getInfo().height : minRowHeight;\n\n        if (row) {\n          rows.push(row);\n        }\n\n        rowIndexes.push(i);\n        rowHeights.push(rowHeight);\n      }\n\n      var newToTopHeight = 0;\n      var oldTop;\n\n      if (_this.oldRowIndexes) {\n        oldTop = _this.oldRowIndexes[0];\n        rowIndexes.forEach(function (rowIndex, i) {\n          var diff;\n\n          if (rowIndex < oldTop) {\n            diff = rowHeights[i] - _this.rowHeights[rowIndex];\n            newToTopHeight += diff;\n          }\n        });\n      }\n\n      if (rowIndexes.length) {\n        _this.setHeightForRows(rowIndexes, rowHeights);\n      }\n\n      rows.forEach(function (row) {\n        var index = row.getIndex();\n        var offset = _this.rowOffsets[index];\n        row.setOffset(offset);\n      });\n      _this.oldRowIndexes = rowIndexes;\n      var newScrollTop;\n\n      if (newToTopHeight) {\n        newScrollTop = _this.scrollTopPos + newToTopHeight;\n        updateScroll(newScrollTop);\n        _this.forceScrollTop = newScrollTop;\n        _this.scrollTop = newScrollTop;\n      } else {\n        updateScroll();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getVisibleRange\", function (args) {\n      return (0, _getVisibleRange.default)(args);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"applyScrollStyle\", function (_ref2, domNode) {\n      var scrollTop = _ref2.scrollTop,\n          scrollLeft = _ref2.scrollLeft,\n          force = _ref2.force,\n          reorder = _ref2.reorder;\n\n      if (scrollTop < 0) {\n        scrollTop = 0;\n      }\n\n      if (!_this.props.rtl) {\n        if (scrollLeft < 0) {\n          scrollLeft = 0;\n        }\n      } else {\n        if (scrollLeft > 0) {\n          scrollLeft = 0;\n        }\n      }\n\n      if (_this.forceScrollTop !== undefined) {\n        scrollTop = _this.forceScrollTop;\n        _this.forceScrollTop = undefined;\n        return;\n      }\n\n      if (_this.props.applyScrollLeft && scrollLeft !== undefined) {\n        scrollLeft = 0;\n\n        _this.props.applyScrollLeft(scrollLeft, domNode);\n      }\n\n      if (scrollTop === undefined) {\n        scrollTop = _this.prevScrollTopPos;\n      }\n\n      if (scrollLeft === undefined) {\n        scrollLeft = _this.prevScrollLeftPos;\n      }\n\n      _this.scrollTopPos = scrollTop;\n      _this.scrollLeftPos = scrollLeft;\n      var _this$props4 = _this.props,\n          count = _this$props4.count,\n          useTransformPosition = _this$props4.useTransformPosition,\n          rowHeightManager = _this$props4.rowHeightManager,\n          naturalRowHeight = _this$props4.naturalRowHeight,\n          virtualized = _this$props4.virtualized,\n          showEmptyRows = _this$props4.showEmptyRows;\n\n      var range = _this.getVisibleRange({\n        scrollTop: scrollTop,\n        size: _this.size,\n        count: count,\n        naturalRowHeight: naturalRowHeight,\n        rowHeightManager: rowHeightManager,\n        showEmptyRows: showEmptyRows\n      });\n\n      var startRowIndex = range.start;\n      var prevStartRowIndex = _this.prevStartRowIndex;\n      _this.prevScrollTopPos = scrollTop;\n      _this.prevScrollLeftPos = scrollLeft;\n      _this.prevStartRowIndex = startRowIndex;\n\n      _this.updateStickyRows(scrollTop, undefined, {\n        force: false\n      });\n\n      var updateScroll = function updateScroll() {\n        var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : scrollTop;\n        var parentNodeStyle = _this.containerNode.parentNode.style;\n\n        _this.containerNode.parentNode.classList.add(\"\".concat(BASE_CLASS_NAME, \"__view-container\"));\n\n        var scrollLeftTranslateValue = -scrollLeft;\n\n        if (useTransformPosition) {\n          parentNodeStyle.transform = \"translate3d(\".concat(scrollLeftTranslateValue, \"px, \").concat(-top, \"px, 0px)\");\n        } else {\n          parentNodeStyle.left = \"\".concat(scrollLeftTranslateValue, \"px\");\n          parentNodeStyle.top = \"\".concat(-top, \"px\");\n        }\n      };\n\n      if (rowHeightManager == null) {\n        force = true;\n      }\n\n      if (startRowIndex == prevStartRowIndex && !force || !virtualized) {\n        updateScroll();\n        return;\n      }\n\n      updateScroll();\n\n      _this.updateRows(range, reorder, emptyFn);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollingElement\", function () {\n      return _this.scrollContainer;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"smoothScrollTo\", function () {\n      var _this$scrollContainer;\n\n      (_this$scrollContainer = _this.scrollContainer).smoothScrollTo.apply(_this$scrollContainer, arguments);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidMount\", function () {\n      _this.mounted = true;\n\n      _this.setupRowHeightManager(_this.props.rowHeightManager);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"fixEdgeScrollPosition\", function () {\n      if (!(IS_EDGE || IS_FF)) {\n        return;\n      }\n\n      var maxTop = _this.getTotalRowHeight() - (_this.scrollContainer.viewNode ? _this.scrollContainer.viewNode.offsetHeight : 0);\n\n      if (_this.scrollTop > maxTop) {\n        globalObject.requestAnimationFrame(function () {\n          if (_this.unmounted) {\n            return;\n          }\n\n          _this.scrollTop = maxTop;\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setupRowHeightManager\", function (rowHeightManager) {\n      if (rowHeightManager) {\n        rowHeightManager.on('index', _this.onIndex);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onIndex\", function () {\n      _this.updateVisibleCount(_this.size.height);\n\n      _this.forceUpdate(function () {\n        if (_this.unmounted) {\n          return;\n        }\n\n        _this.refreshLayout({\n          reorder: false,\n          force: true\n        });\n\n        _this.cleanupRows();\n\n        _this.fixEdgeScrollPosition();\n\n        _this.rows.forEach(function (row) {\n          row.setIndex(row.getIndex(), undefined, undefined, true);\n        });\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"refreshLayout\", function (config) {\n      var defaults = {\n        force: true,\n        reorder: true\n      };\n\n      _this.adjustHeights();\n\n      var options = config ? _objectSpread(_objectSpread({}, defaults), config) : defaults;\n\n      _this.applyScrollStyle(options);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getOverlappingHeight\", function () {\n      if (_this.scrollContainer && _this.scrollContainer.getBeforeAndAfterHeight) {\n        return _this.scrollContainer.getBeforeAndAfterHeight();\n      }\n\n      return 0;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateVisibleCount\", function (height, props) {\n      props = props || _this.props;\n      var _props2 = props,\n          rowHeightManager = _props2.rowHeightManager,\n          minRowHeight = _props2.minRowHeight,\n          showEmptyRows = _props2.showEmptyRows;\n      var strictVisibleCount = rowHeightManager ? Math.ceil(height / rowHeightManager.getMinHeight()) : Math.ceil(height / (minRowHeight || 1));\n      _this.strictVisibleCount = strictVisibleCount;\n      _this.visibleCount = rowHeightManager ? strictVisibleCount + 1 : strictVisibleCount + 2;\n      var maxCount = props.count;\n\n      if (_this.visibleCount > maxCount && !showEmptyRows) {\n        _this.visibleCount = maxCount;\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getGapsFor\", function (startRowIndex, endRowIndex, sortedRows) {\n      var visibleRowPositions = {};\n      var enableRowSpan = _this.props.enableRowSpan;\n\n      var rows = sortedRows || _this.getSortedRows();\n\n      rows.forEach(function (row) {\n        if (row.isVisible()) {\n          visibleRowPositions[row.getIndex()] = true;\n        }\n      });\n      var gaps = [];\n\n      if (enableRowSpan && _this.rowCoveredBy[startRowIndex] != null) {\n        startRowIndex = _this.rowCoveredBy[startRowIndex];\n      }\n\n      var alreadyVisible;\n      var coveredBy;\n\n      for (; startRowIndex <= endRowIndex; startRowIndex++) {\n        alreadyVisible = visibleRowPositions[startRowIndex];\n\n        if (enableRowSpan && !alreadyVisible) {\n          coveredBy = _this.rowCoveredBy[startRowIndex];\n\n          if (coveredBy != null) {\n            alreadyVisible = _this.props.recycleCoveredRows;\n          }\n        }\n\n        if (!alreadyVisible) {\n          gaps.push(startRowIndex);\n        }\n      }\n\n      return gaps;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCleanupRows\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var indexes = [];\n      var length = _this.rows.length;\n\n      var visibleCount = _this.getVisibleCount(props);\n\n      for (var i = visibleCount; i < length; i++) {\n        indexes.push(i);\n      }\n\n      return indexes;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cleanupRows\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n\n      _this.getCleanupRows(props).forEach(function (i) {\n        var row = _this.rows[i];\n\n        if (row) {\n          delete _this.mapping[row.getIndex()];\n          delete _this.rows[i];\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResize\", function () {\n      var node = _this.getDOMNode();\n\n      if (!node) {\n        return;\n      }\n\n      var size = _this.props.measureSize ? _this.props.measureSize(node) : {\n        width: node.clientWidth,\n        height: node.clientHeight\n      };\n      size.height -= _this.getOverlappingHeight();\n      _this.size = size;\n\n      if (_this.props.scrollProps && typeof _this.props.scrollProps.onResize == 'function') {\n        _this.props.scrollProps.onResize(size);\n      }\n\n      _this.updateVisibleCount(size.height);\n\n      if (_this.props.virtualized) {\n        if (_this.props.showEmptyRows) {\n          _this.initSizes();\n        }\n\n        _this.forceUpdate(function () {\n          if (_this.unmounted) {\n            return;\n          }\n\n          _this.refreshLayout({\n            reorder: false,\n            force: true\n          });\n\n          _this.cleanupRows();\n        });\n      }\n\n      if (_this.props.onResize) {\n        _this.props.onResize(size);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setRowRowSpan\", function (rowIndex, rowSpan) {\n      if (rowSpan === 1) {\n        return;\n      }\n\n      _this.rowSpans[rowIndex] = rowSpan;\n      var current = rowIndex + 1;\n      var last = rowIndex + rowSpan - 1;\n\n      for (; current <= last; current++) {\n        _this.rowCoveredBy[current] = rowIndex;\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowKeyDown\", function (index, event) {\n      if (event.key !== 'Tab') {\n        return;\n      }\n\n      if (_this.props.handleRowKeyDown) {\n        _this.props.handleRowKeyDown(index, event);\n\n        return;\n      }\n\n      var activeElement = globalObject.document.activeElement;\n\n      var theRow = _this.getRowAt(index);\n\n      var rowNode = theRow.getDOMNode ? theRow.getDOMNode() : theRow.node;\n\n      if (!activeElement || !(0, _contains.default)(rowNode, activeElement)) {\n        return;\n      }\n\n      var dir = event.shiftKey ? -1 : 1;\n      var nextIndex = index + dir;\n\n      var maxCount = _this.getMaxRenderCount();\n\n      if (nextIndex < 0 || nextIndex >= maxCount) {\n        return;\n      }\n\n      var thisElements = _this.props.getRowFocusableElements ? _this.props.getRowFocusableElements(index, rowNode) : (0, _getFocusableElements.default)(rowNode);\n\n      if (thisElements && thisElements.length) {\n        var limit = dir === -1 ? 0 : thisElements.length - 1;\n\n        if (thisElements[limit] !== activeElement) {\n          return;\n        }\n      }\n\n      if (typeof _this.props.shouldPreventDefaultTabKeyOnRow !== 'function' || _this.props.shouldPreventDefaultTabKeyOnRow(index, event) !== false) {\n        event.preventDefault();\n      }\n\n      _this.focusRow(nextIndex, dir);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getMaxRenderCount\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n\n      var visibleCount = _this.getVisibleCount(props);\n\n      var maxCount = props.showEmptyRows ? Math.max(visibleCount || 0, props.count) : Math.max(props.count || 0, 0);\n      return maxCount;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"focusRow\", function (index, dir, callback) {\n      if (index >= _this.getMaxRenderCount() || index < 0) {\n        return;\n      }\n\n      _this.scrollToIndex(index, {\n        direction: dir == 1 ? 'bottom' : 'top'\n      }, function () {\n        var nextRow = _this.getRowAt(index);\n\n        var nextRowNode = nextRow.getDOMNode ? nextRow.getDOMNode() : nextRow.node;\n        var elements = _this.props.getRowFocusableElements ? _this.props.getRowFocusableElements(index, nextRowNode) : (0, _getFocusableElements.default)(nextRowNode);\n\n        if (elements.length) {\n          var focusIndex = dir === -1 ? elements.length - 1 : 0;\n          elements[focusIndex].focus();\n        }\n\n        if (typeof callback == 'function') {\n          callback();\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isRowRendered\", function (index) {\n      return !!_this.getRowAt(index);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getStickyRowsArray\", function () {\n      var stickyRows = _this.props.stickyRows;\n      var scaleMap = {};\n      var rows = Object.keys(stickyRows).map(function (key, i) {\n        var scale = +(stickyRows[key] || 1);\n        var row = {\n          index: +key,\n          scale: scale,\n          indexInAllRows: i\n        };\n        scaleMap[scale] = scaleMap[scale] || [];\n        scaleMap[scale].push(row);\n        return row;\n      }).sort(function (a, b) {\n        return sortAsc(a.index, b.index);\n      });\n      var scales = unique(rows.map(function (r) {\n        return r.scale;\n      })).sort(sortAsc);\n      var result = {\n        rows: rows,\n        scales: scales,\n        rowsPerScales: scales.map(function (scale) {\n          return scaleMap[scale];\n        })\n      };\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"currentStickyRows\", []);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateStickyRows\", function () {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.scrollTop;\n      var firstVisibleRowIndex = arguments.length > 1 ? arguments[1] : undefined;\n\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        force: true\n      },\n          force = _ref3.force;\n\n      if (!_this.props.stickyRows) {\n        return;\n      }\n\n      var _this$getStickyRowsAr = _this.getStickyRowsArray(),\n          rowsPerScales = _this$getStickyRowsAr.rowsPerScales,\n          allRows = _this$getStickyRowsAr.rows;\n\n      if (firstVisibleRowIndex === undefined) {\n        firstVisibleRowIndex = _this.getFirstVisibleRowIndexForSticky(scrollTop);\n      }\n\n      firstVisibleRowIndex = firstVisibleRowIndex || 0;\n      var enteringRows = [];\n\n      var comparator = function comparator(_ref4, b) {\n        var index = _ref4.index;\n        return sortAsc(index, b);\n      };\n\n      var initialIndex = -1;\n      var currentStickyRows = [];\n      var currentStickyRowsMap = [];\n      var maxStickyRowIndex = -1;\n      var firstFreeVisibleRowIndex = firstVisibleRowIndex;\n      rowsPerScales.forEach(function (rows) {\n        if (!rows.length) {\n          return;\n        }\n\n        var foundIndex = (0, _binarySearch.default)(rows, firstFreeVisibleRowIndex, comparator);\n        var computedFoundIndex = foundIndex;\n        var stickyRow;\n        var stickyRowIndex;\n\n        if (foundIndex < 0) {\n          computedFoundIndex = ~foundIndex - 1;\n        }\n\n        stickyRow = rows[computedFoundIndex];\n\n        if (stickyRow) {\n          stickyRowIndex = stickyRow.index;\n\n          if (stickyRowIndex > initialIndex) {\n            firstFreeVisibleRowIndex++;\n            currentStickyRows.push(stickyRow);\n            currentStickyRowsMap[stickyRowIndex] = true;\n            initialIndex = stickyRowIndex;\n            maxStickyRowIndex = Math.max(maxStickyRowIndex, stickyRowIndex);\n          }\n\n          var nextRow = allRows[stickyRow.indexInAllRows + 1];\n\n          if (nextRow && nextRow.index <= firstFreeVisibleRowIndex) {\n            enteringRows.push(nextRow);\n          }\n        }\n      });\n      enteringRows = enteringRows.filter(function (row) {\n        return !currentStickyRowsMap[row.index] && row.index > maxStickyRowIndex;\n      });\n      var enteringRow = enteringRows[0];\n\n      if (JSON.stringify(_this.currentStickyRows) === JSON.stringify(currentStickyRows) && !force) {\n        _this.stickyRowsContainer.setEnteringRow({\n          enteringRow: enteringRow,\n          scrollTop: scrollTop\n        });\n\n        return;\n      }\n\n      _this.setStickyRows(currentStickyRows, scrollTop, enteringRow);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setStickyRows\", function () {\n      var currentStickyRows = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.currentStickyRows;\n      var scrollTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.scrollTop;\n      var enteringRow = arguments.length > 2 ? arguments[2] : undefined;\n      _this.currentStickyRows = currentStickyRows;\n      var rowElements = currentStickyRows.map(function (row) {\n        return _this.renderStickyRow(row.index);\n      });\n\n      _this.stickyRowsContainer.setStickyRows(rowElements.length ? rowElements : null, currentStickyRows, {\n        enteringRow: enteringRow,\n        scrollTop: scrollTop\n      });\n\n      _this.currentStickyRows = currentStickyRows;\n\n      if (_this.props.onStickyRowUpdate) {\n        _this.props.onStickyRowUpdate();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderStickyRow\", function (index) {\n      var _this$props5 = _this.props,\n          rowHeight = _this$props5.rowHeight,\n          renderRow = _this$props5.renderRow,\n          count = _this$props5.count,\n          pureRows = _this$props5.pureRows,\n          rowHeightManager = _this$props5.rowHeightManager,\n          showEmptyRows = _this$props5.showEmptyRows,\n          virtualized = _this$props5.virtualized,\n          rowContain = _this$props5.rowContain,\n          naturalRowHeight = _this$props5.naturalRowHeight,\n          useTransformRowPosition = _this$props5.useTransformRowPosition;\n      return (0, _renderRows2.default)({\n        pure: pureRows,\n        renderRow: renderRow,\n        rowHeightManager: rowHeightManager,\n        rowHeight: rowHeight,\n        rowContain: rowContain,\n        count: count,\n        from: index,\n        to: index + 1,\n        naturalRowHeight: naturalRowHeight,\n        sticky: true,\n        useTransformPosition: useTransformRowPosition,\n        virtualized: false\n      })[0];\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isRowVisible\", function (index) {\n      if (!_this.isRowRendered(index)) {\n        return false;\n      }\n\n      var rowHeightManager = _this.props.rowHeightManager;\n      var top = _this.scrollTop;\n      var bottom = top + _this.size.height;\n      var rowTop;\n      var rowBottom;\n\n      if (rowHeightManager) {\n        rowTop = rowHeightManager.getRowOffset(index);\n        rowBottom = rowTop + rowHeightManager.getRowHeight(index);\n      } else {\n        var row = _this.getRowAt(index);\n\n        var info = row.getInfo();\n        rowTop = info.offset;\n        rowBottom = rowTop + info.height;\n      }\n\n      return top <= rowTop && rowBottom <= bottom;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRowVisibilityInfo\", function (index, offset) {\n      var rendered = _this.isRowRendered(index);\n\n      var _this$props6 = _this.props,\n          rowHeightManager = _this$props6.rowHeightManager,\n          rowHeight = _this$props6.rowHeight,\n          minRowHeight = _this$props6.minRowHeight;\n      var scrollTop = _this.scrollTop;\n      var top = scrollTop + offset;\n      var bottom = scrollTop + _this.size.height - offset;\n      var rowTop;\n      var rowBottom;\n\n      if (rowHeightManager) {\n        rowTop = rowHeightManager.getRowOffset(index);\n        rowBottom = rowTop + rowHeightManager.getRowHeight(index);\n      } else {\n        var row = _this.getRowAt(index);\n\n        if (row) {\n          var info = row.getInfo();\n          rowTop = info.offset;\n          rowBottom = rowTop + info.height;\n        } else {\n          var indexes = _this.getRenderedIndexes();\n\n          var firstRenderedIndex = indexes[0];\n          var lastRenderedIndex = indexes[indexes.length - 1];\n\n          if (index < firstRenderedIndex) {\n            rowTop = _this.rowOffsets[firstRenderedIndex] - (firstRenderedIndex - index) * minRowHeight;\n          } else if (index > lastRenderedIndex) {\n            rowTop = _this.rowOffsets[lastRenderedIndex] + _this.rowHeights[lastRenderedIndex] + (index - lastRenderedIndex) * minRowHeight;\n          } else {\n            rowTop = _this.rowOffsets[index];\n          }\n\n          rowBottom = rowTop + _this.rowHeights[index];\n        }\n      }\n\n      var visible = top <= rowTop && rowBottom <= bottom;\n      return {\n        rendered: rendered,\n        visible: visible,\n        top: rowTop,\n        bottom: rowBottom,\n        topDiff: rowTop - top,\n        bottomDiff: bottom - rowBottom\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRenderedIndexes\", function () {\n      return Object.keys(_this.mapping).map(function (k) {\n        return k * 1;\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowFocus\", function (index, event) {});\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rafSync\", function () {\n      if (_this.scrollContainer) {\n        _this.scrollContainer.rafSync();\n      }\n\n      _this.adjustHeights();\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"adjustHeights\", function () {\n      if (Array.isArray(_this.rows)) {\n        _this.rows.forEach(function (r) {\n          return r.updateRowHeight();\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"checkHeights\", function () {\n      var rows = _this.getSortedRows();\n\n      var result = true;\n      rows.forEach(function (row) {\n        if (result !== true) {\n          return;\n        }\n\n        var index = row.getIndex();\n\n        if (row.node.offsetHeight != _this.rowHeights[index]) {\n          console.warn(\"row height mismatch at \".concat(index, \"!\"));\n          result = index;\n        }\n      });\n\n      if (result === true) {\n        _this.rowHeights.reduce(function (acc, height, index) {\n          if (_this.rowOffsets[index] !== acc && result === true && index < _this.props.count) {\n            console.warn(\"row offset mismatch at \".concat(index, \"!\"));\n            result = index;\n          }\n\n          return acc + height;\n        }, 0);\n      }\n\n      return result;\n    });\n\n    _this.initSizes(_props);\n\n    _this.visibleCount = undefined;\n    _this.size = {\n      height: 0,\n      width: 0\n    };\n    _this.scrollTopPos = 0;\n    _this.scrollLeftPos = 0;\n    _this.prevScrollLeftPos = 0;\n    _this.prevScrollTopPos = 0;\n    _this.mapping = {};\n    _this.rowSpans = {};\n    _this.rowCoveredBy = {};\n    _this.rows = [];\n\n    _this.refScrollContainer = function (c) {\n      _this.scrollContainer = c;\n    };\n\n    _this.refStickyContainer = function (c) {\n      _this.stickyRowsContainer = c;\n    };\n\n    _this.refContainerNode = function (domNode) {\n      _this.containerNode = domNode;\n    };\n\n    _this.updateRows = (0, _lodash.default)(_this.updateRows, 16);\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaVirtualList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"renderStickyRowsContainer\",\n    value: function renderStickyRowsContainer() {\n      return this.props.stickyRows ? _react.default.createElement(_StickyRowsContainer.default, {\n        rtl: this.props.rtl,\n        key: \"stickyrowscontainer\",\n        stickyOffset: this.props.stickyOffset,\n        handle: this.refStickyContainer,\n        rowHeightManager: this.props.rowHeightManager\n      }) : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var naturalRowHeight = props.naturalRowHeight,\n          scrollProps = props.scrollProps,\n          theme = props.theme,\n          minRowHeight = props.minRowHeight,\n          rowHeightManager = props.rowHeightManager,\n          count = props.count;\n\n      var style = _objectSpread({\n        position: 'relative'\n      }, this.props.style);\n\n      var className = (0, _join.default)(props.className, BASE_CLASS_NAME, theme && \"\".concat(BASE_CLASS_NAME, \"--theme-\").concat(theme), \"\".concat(BASE_CLASS_NAME, \"--virtual-scroll\"));\n      var scrollHeight = rowHeightManager ? rowHeightManager.getTotalSize(count) : this.scrollHeight || minRowHeight * count;\n      var rowContainer = this.renderRowContainer();\n      var sizer = this.renderSizer(scrollHeight);\n      var stickyRowsContainer = this.renderStickyRowsContainer();\n      var children;\n\n      if ((0, _src.hasSticky)()) {\n        children = _react.default.Fragment ? _react.default.createElement(_react.default.Fragment, null, rowContainer, sizer) : [rowContainer, sizer];\n      } else {\n        children = _react.default.createElement(\"div\", null, rowContainer, sizer);\n      }\n\n      var Factory = this.props.nativeScroll ? _src.NativeScrollContainer : _src.default;\n      var renderScrollerSpacer = this.props.renderScrollerSpacer;\n\n      if (naturalRowHeight) {\n        renderScrollerSpacer = this.renderScrollerSpacerOnNaturalRowHeight;\n      }\n\n      return _react.default.createElement(Factory, _objectSpread(_objectSpread(_objectSpread({\n        contain: this.props.contain,\n        ResizeObserver: this.props.ResizeObserver !== undefined ? this.props.ResizeObserver : ResizeObserver,\n        extraChildren: stickyRowsContainer,\n        useTransformToScroll: this.props.useTransformPosition\n      }, (0, _reactCleanProps.default)(props, InovuaVirtualList.propTypes)), scrollProps), {}, {\n        rtl: this.props.rtl,\n        nativeScroll: this.props.nativeScroll,\n        ref: this.refScrollContainer,\n        onScrollbarsChange: this.onScrollbarsChange,\n        style: style,\n        theme: theme,\n        className: className,\n        onScrollStart: this.onScrollStart,\n        onScrollStop: this.onScrollStop,\n        applyScrollStyle: this.applyScrollStyle,\n        onResize: this.onResize,\n        onViewResize: this.onViewResize,\n        renderScroller: this.renderScroller,\n        renderScrollerSpacer: renderScrollerSpacer,\n        renderView: this.renderView,\n        getClientSize: this.getClientSize,\n        getScrollSize: this.getScrollSize,\n        children: children\n      }));\n    }\n  }, {\n    key: \"updateRows\",\n    value: function updateRows(range, reorder, updateScroll) {\n      var _this2 = this;\n\n      var rowHeightManager = this.props.rowHeightManager;\n      var startRowIndex = range.start;\n      var endRowIndex = range.end;\n\n      if (this.props.onRenderRangeChange) {\n        this.props.onRenderRangeChange(startRowIndex, endRowIndex);\n      }\n\n      var rows = this.getSortedRows();\n      var gaps = this.getGapsFor(startRowIndex, endRowIndex, rows);\n      var newIndexes = [];\n      var _this$props7 = this.props,\n          recycleCoveredRows = _this$props7.recycleCoveredRows,\n          enableRowSpan = _this$props7.enableRowSpan;\n      var visited = {};\n      rows.forEach(function (row, i) {\n        var rowIndex = row.getIndex();\n\n        if (reorder) {\n          var newRowIndex = startRowIndex + i;\n\n          _this2.setRowIndex(row, newRowIndex);\n\n          if (rowHeightManager == null) {\n            newIndexes.push(newRowIndex);\n          }\n\n          return;\n        }\n\n        var extraRows = enableRowSpan ? row.getRowSpan() - 1 : 0;\n        var outOfView = rowIndex + extraRows < startRowIndex || rowIndex > endRowIndex || visited[rowIndex] || enableRowSpan && recycleCoveredRows && _this2.rowCoveredBy[rowIndex] !== undefined;\n        visited[rowIndex] = true;\n\n        if (rowHeightManager == null) {\n          if (outOfView) {\n            if (gaps.length) {\n              var newIndex = gaps.pop();\n              newIndexes.push(newIndex);\n\n              _this2.setRowIndex(row, newIndex);\n            } else {\n              row.setVisible(false);\n            }\n          } else {\n            row.setVisible(true);\n            newIndexes.push(row.getIndex());\n          }\n\n          return;\n        }\n\n        if (outOfView && gaps.length) {\n          var _newIndex = gaps.pop();\n\n          _this2.setRowIndex(row, _newIndex);\n        }\n      });\n\n      if (newIndexes.length && rowHeightManager == null) {\n        if (this.updateRafHandle) {\n          globalObject.cancelAnimationFrame(this.updateRafHandle);\n        }\n\n        this.updateRafHandle = globalObject.requestAnimationFrame(function () {\n          _this2.updateRafHandle = null;\n\n          _this2.onRowsUpdated(newIndexes, {\n            start: startRowIndex,\n            end: endRowIndex\n          }, function () {});\n        });\n      }\n    }\n  }, {\n    key: \"scrollTopMax\",\n    get: function get() {\n      return this.mounted ? this.scrollContainer.scrollTopMax : 0;\n    }\n  }, {\n    key: \"scrollLeftMax\",\n    get: function get() {\n      return this.mounted ? this.scrollContainer.scrollLeftMax : 0;\n    }\n  }, {\n    key: \"scrollTop\",\n    get: function get() {\n      return this.mounted ? this.getScrollingElement().scrollTop : 0;\n    },\n    set: function set(value) {\n      var element = this.getScrollingElement();\n\n      if (element) {\n        element.scrollTop = value;\n      }\n    }\n  }, {\n    key: \"scrollLeft\",\n    get: function get() {\n      return this.mounted ? this.getScrollingElement().scrollLeft : 0;\n    },\n    set: function set(value) {\n      var element = this.getScrollingElement();\n\n      if (element) {\n        element.scrollLeft = value;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.rowHeightManager) {\n        this.props.rowHeightManager.removeListener('index', this.onIndex);\n      }\n\n      this.mounted = false;\n      this.unmounted = true;\n      this.rows = null;\n      this.rowHeights = null;\n      this.rowOffsets = null;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var nextCount = Math.max(nextProps.count, 0);\n      var rowHeightChange = this.props.rowHeight && nextProps.rowHeight != this.props.rowHeight;\n\n      if (this.props.renderRow !== nextProps.renderRow) {\n        this.rowCoveredBy = {};\n        this.rowSpans = {};\n      }\n\n      if (nextCount != this.props.count || nextProps.showEmptyRows != this.props.showEmptyRows || rowHeightChange) {\n        var oldVisibleCount = this.getVisibleCount();\n        this.updateVisibleCount(this.size.height, nextProps);\n        this.cleanupRows(nextProps);\n        this.reorder = rowHeightChange || this.getVisibleCount(nextProps) < oldVisibleCount;\n        this.initSizes(nextProps);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      var prevScrollTopPos;\n      var prevScrollLeftPos;\n\n      if (this.props.nativeScroll !== prevProps.nativeScroll) {\n        prevScrollTopPos = this.scrollTopPos;\n        prevScrollLeftPos = this.scrollLeftPos;\n        globalObject.requestAnimationFrame(function () {\n          if (_this3.unmounted) {\n            return;\n          }\n\n          _this3.scrollTop = prevScrollTopPos;\n          _this3.scrollLeft = prevScrollLeftPos;\n        });\n      }\n\n      if (this.props.rowHeightManager !== prevProps.rowHeightManager) {\n        if (prevProps.rowHeightManager) {\n          prevProps.rowHeightManager.removeListener('index', this.onIndex);\n        }\n\n        this.setupRowHeightManager(this.props.rowHeightManager);\n      }\n\n      if (this.props.count != prevProps.count || this.props.renderRow != prevProps.renderRow || this.props.rowHeightManager != prevProps.rowHeightManager || this.props.rowHeightManager == null || this.props.showEmptyRows != prevProps.showEmptyRows) {\n        var refreshConfig = {\n          reorder: this.reorder\n        };\n\n        if (prevScrollTopPos !== undefined) {\n          refreshConfig.scrollTop = prevScrollTopPos;\n          refreshConfig.scrollLeft = prevScrollLeftPos;\n        }\n\n        if (this.props.count <= this.visibleCount) {\n          refreshConfig.scrollTop = 0;\n        }\n\n        if ((IS_EDGE || IS_FF) && this.props.count < prevProps.count) {\n          this.fixEdgeScrollPosition();\n        }\n\n        this.reorder = false;\n        this.refreshLayout(refreshConfig);\n      }\n\n      if (prevProps.stickyRows !== this.props.stickyRows) {\n        this.updateStickyRows(undefined, undefined, {\n          force: true\n        });\n      }\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.scrollContainer ? this.scrollContainer.domNode || this.scrollContainer.getDOMNode() : null;\n    }\n  }, {\n    key: \"renderRows\",\n    value: function renderRows() {\n      var props = this.props;\n      var rowHeight = props.rowHeight,\n          renderRow = props.renderRow,\n          count = props.count,\n          pureRows = props.pureRows,\n          rowHeightManager = props.rowHeightManager,\n          showEmptyRows = props.showEmptyRows,\n          virtualized = props.virtualized,\n          rowContain = props.rowContain,\n          naturalRowHeight = props.naturalRowHeight,\n          useTransformRowPosition = props.useTransformRowPosition;\n      var to = this.getVisibleCount();\n      return (0, _renderRows2.default)({\n        ref: this.rowRef,\n        onUnmount: this.onRowUnmount,\n        notifyRowSpan: this.setRowRowSpan,\n        pure: pureRows,\n        renderRow: renderRow,\n        rowHeightManager: rowHeightManager,\n        rowHeight: rowHeight,\n        rowContain: rowContain,\n        count: count,\n        from: 0,\n        to: to,\n        naturalRowHeight: naturalRowHeight,\n        onKeyDown: this.onRowKeyDown,\n        onFocus: this.onRowFocus,\n        useTransformPosition: useTransformRowPosition,\n        showEmptyRows: showEmptyRows,\n        virtualized: virtualized\n      });\n    }\n  }, {\n    key: \"getFirstVisibleRowIndexForSticky\",\n    value: function getFirstVisibleRowIndexForSticky() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.scrollTopPos;\n      var rowHeightManager = this.props.rowHeightManager;\n      var stickyHeight = this.currentStickyRows ? this.currentStickyRows.reduce(function (_, row) {\n        return rowHeightManager.getRowHeight(row.index);\n      }, 0) : 0;\n      var rowIndex = Math.max(0, rowHeightManager.getRowAt(scrollTop + stickyHeight) - 1);\n      return rowIndex;\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this4 = this;\n\n      var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject,\n          direction = _ref5.direction,\n          force = _ref5.force,\n          _ref5$duration = _ref5.duration,\n          duration = _ref5$duration === void 0 ? 0 : _ref5$duration,\n          _ref5$offset = _ref5.offset,\n          offset = _ref5$offset === void 0 ? 0 : _ref5$offset;\n\n      var callback = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (direction) {\n        if (direction != 'top' && direction != 'bottom') {\n          direction = null;\n        }\n      }\n\n      if (force && !direction) {\n        force = false;\n      }\n\n      if (index < 0 || index >= this.getMaxRenderCount()) {\n        return;\n      }\n\n      if (typeof callback != 'function') {\n        callback = emptyFn;\n      }\n\n      var info = this.getRowVisibilityInfo(index, offset);\n\n      if (!info.rendered) {\n        var rowHeight = this.props.rowHeight;\n\n        if (!direction) {\n          var existingIndex = this.rows[0].getIndex();\n          direction = index > existingIndex ? 'bottom' : 'top';\n        }\n\n        var newScrollTop = direction === 'top' ? info.top - offset : this.scrollTop - info.bottomDiff + offset;\n\n        var afterScroll = function afterScroll() {\n          if (!rowHeight) {\n            setTimeout(function () {\n              globalObject.requestAnimationFrame(function () {\n                _this4.scrollToIndex(index, {\n                  direction: direction,\n                  force: force,\n                  duration: duration ? 100 : 0\n                }, callback);\n              });\n            });\n          } else {\n            callback();\n          }\n        };\n\n        if (duration) {\n          this.smoothScrollTo(newScrollTop, {\n            duration: duration\n          }, afterScroll);\n        } else {\n          this.scrollTop = newScrollTop;\n          afterScroll();\n        }\n\n        return;\n      }\n\n      var visible = info.visible;\n\n      if (!visible) {\n        if (!direction) {\n          direction = info.topDiff < 0 ? 'top' : 'bottom';\n          force = true;\n        }\n      }\n\n      if (!visible || direction && force) {\n        var _newScrollTop;\n\n        if (direction == 'top' || info.topDiff < 0) {\n          _newScrollTop = this.scrollTop + info.topDiff - offset;\n        } else if (direction == 'bottom' || info.bottomDiff < 0) {\n          _newScrollTop = this.scrollTop - info.bottomDiff + offset;\n        }\n\n        if (_newScrollTop != null) {\n          if (duration) {\n            this.smoothScrollTo(_newScrollTop, {\n              duration: duration\n            }, callback);\n            return;\n          }\n\n          this.scrollTop = _newScrollTop;\n        }\n      }\n\n      callback();\n    }\n  }, {\n    key: \"getEmptyScrollOffset\",\n    value: function getEmptyScrollOffset() {\n      if (this.props.emptyScrollOffset != null) {\n        return this.props.emptyScrollOffset;\n      }\n\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      return this.props.emptyScrollOffset || SCROLLBAR_WIDTH || 17;\n    }\n  }]);\n  return InovuaVirtualList;\n}(_react.Component);\n\nexports.default = InovuaVirtualList;\nInovuaVirtualList.defaultProps = {\n  minRowHeight: 20,\n  nativeScroll: false,\n  shouldAllowScrollbars: function shouldAllowScrollbars() {\n    return true;\n  },\n  rafOnResize: false,\n  theme: 'default-light',\n  showEmptyRows: false,\n  showWarnings: !_uglified.default,\n  virtualized: true,\n  scrollOneDirectionOnly: false,\n  useTransformPosition: !IS_EDGE && (0, _src.hasSticky)(),\n  useTransformRowPosition: false,\n  recycleCoveredRows: true,\n  scrollProps: {}\n};\nvar propTypes = {\n  applyScrollLeft: _propTypes.default.func,\n  naturalRowHeight: _propTypes.default.bool,\n  count: function count(props) {\n    var count = props.count;\n\n    if (count == null) {\n      throw new Error(\"\\\"count\\\" is required!\");\n    }\n\n    if (typeof count != 'number') {\n      throw new Error(\"\\\"count\\\" should be a number!\");\n    }\n\n    if (count < 0) {\n      throw new Error(\"\\\"count\\\" should be >= 0!\");\n    }\n  },\n  getRowFocusableElements: _propTypes.default.func,\n  contain: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  rowContain: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  handleRowKeyDown: _propTypes.default.func,\n  rafOnResize: _propTypes.default.bool,\n  checkResizeDelay: _propTypes.default.number,\n  extraRows: _propTypes.default.number,\n  measureSize: _propTypes.default.func,\n  minRowHeight: _propTypes.default.number,\n  minRowWidth: _propTypes.default.number,\n  nativeScroll: _propTypes.default.bool,\n  onRenderRangeChange: _propTypes.default.func,\n  shouldFocusNextRow: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  onScrollStart: _propTypes.default.func,\n  onScrollbarsChange: _propTypes.default.func,\n  onScrollStop: _propTypes.default.func,\n  pureRows: _propTypes.default.bool,\n  rowHeight: _propTypes.default.number,\n  renderRow: _propTypes.default.func.isRequired,\n  renderRowContainer: _propTypes.default.func,\n  renderSizer: _propTypes.default.func,\n  showEmptyRows: _propTypes.default.bool,\n  useTransformPosition: _propTypes.default.bool,\n  useTransformRowPosition: _propTypes.default.bool,\n  scrollProps: _propTypes.default.object,\n  showWarnings: _propTypes.default.bool,\n  renderView: _propTypes.default.func,\n  renderScroller: _propTypes.default.func,\n  renderScrollerSpacer: _propTypes.default.func,\n  shouldComponentUpdate: _propTypes.default.func,\n  shouldPreventDefaultTabKeyOnRow: _propTypes.default.func,\n  theme: _propTypes.default.string,\n  overscrollBehavior: _propTypes.default.string,\n  virtualized: _propTypes.default.bool,\n  scrollOneDirectionOnly: _propTypes.default.bool,\n  onStickyRowUpdate: _propTypes.default.func,\n  stickyRows: _propTypes.default.object,\n  recycleCoveredRows: _propTypes.default.bool,\n  stickyOffset: _propTypes.default.number,\n  enableRowSpan: _propTypes.default.bool,\n  rowHeightManager: function rowHeightManager(props, propName) {\n    var value = props[propName];\n\n    if (!value) {\n      return new Error(\"\\nYou have to provide a \\\"rowHeightManager\\\" property, which should be an instance of RowHeightManager.\\n\");\n    }\n\n    if (!(value instanceof _RowHeightManager.default)) {\n      return new Error('The \"rowHeightManager\" property should be an instance of RowHeightManager!');\n    }\n  }\n};\nexports.propTypes = propTypes;\nInovuaVirtualList.propTypes = propTypes;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/ILP-main/node_modules/@inovua/reactdatagrid-community/packages/react-virtual-list-pro/src/index.js"],"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","enumerable","get","_RowHeightManager","default","_src","getScrollbarWidth","propTypes","_shouldComponentUpdate2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_toConsumableArray2","_react","_interopRequireWildcard","_propTypes","_contains","_reactCleanProps","_resizeObserverPolyfill","_uglified","_join","_binarySearch","_getFocusableElements","_renderRows2","_getVisibleRange","_StickyRowsContainer","_lodash","_getGlobal","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","valueOf","e","globalObject","getGlobal","sortAsc","a","b","emptyFn","emptyObject","freeze","ua","navigator","userAgent","IS_EDGE","indexOf","IS_FF","toLowerCase","BASE_CLASS_NAME","ResizeObserver","sum","unique","arr","Set","reduce","acc","item","InovuaVirtualList","_Component","_super","_props","_this","containerNode","props","offset","getEmptyScrollOffset","nativeScroll","style","overscrollBehavior","backfaceVisibility","WebkitOverscrollBehavior","right","bottom","showEmptyRows","count","strictVisibleCount","overflowY","renderScroller","undefined","createElement","spacerProps","height","getScrollHeight","renderScrollerSpacer","minHeight","concat","maxWidth","rtl","transform","viewProps","renderView","rowHeightManager","getTotalSize","rowHeight","SCROLLBAR_WIDTH","getTotalRowHeight","node","res","width","scrollWidth","n","firstChild","clientWidth","clientHeight","minRowHeight","getMaxRenderCount","rowOffsets","totalHeight","rowHeights","Array","map","indexes","heights","showWarnings","console","warn","_","_diff","_assertThisInitialize","diff","index","oldHeight","scrollHeight","_this$props","renderSizer","minRowWidth","emptyScrollOffset","Math","max","getDefaultRowHeight","isNaN","minWidth","className","ref","refContainerNode","children","renderRows","renderRowContainer","requestAnimationFrame","rafSync","_ref","vertical","horizontal","scrollTopPos","scrollLeftPos","applyScrollStyle","scrollTop","scrollLeft","onScrollbarsChange","row","rows","currentRowIndex","getIndex","isFound","mapping","splice","r","scrolling","_len","args","_key","scrollOneDirectionOnly","scrollPos","prevScrollPos","absTop","abs","absLeft","scrollerNode","getScrollerNode","disableScrollPropName","disableScrollOtherPropName","disableScrollPropValue","onScrollStart","_this$props2","scrollContainer","overflow","onScrollStop","_this$props3","forEachRow","fn","onlyVisible","visibleCount","getVisibleCount","initialIndex","slice","sort","row1","row2","virtualized","enableRowSpan","extraRowsProps","extraRows","min","callback","existingRow","setIndex","setVisible","oldIndex","getRows","sortRows","newIndexes","range","updateScroll","i1","i2","start","end","rowIndexes","getInfo","newToTopHeight","oldTop","oldRowIndexes","rowIndex","setHeightForRows","setOffset","newScrollTop","forceScrollTop","_ref2","domNode","force","reorder","applyScrollLeft","prevScrollTopPos","prevScrollLeftPos","_this$props4","useTransformPosition","naturalRowHeight","getVisibleRange","size","startRowIndex","prevStartRowIndex","updateStickyRows","top","parentNodeStyle","parentNode","classList","add","scrollLeftTranslateValue","left","updateRows","_this$scrollContainer","smoothScrollTo","mounted","setupRowHeightManager","maxTop","viewNode","offsetHeight","unmounted","on","onIndex","updateVisibleCount","forceUpdate","refreshLayout","cleanupRows","fixEdgeScrollPosition","config","defaults","adjustHeights","options","getBeforeAndAfterHeight","_props2","ceil","getMinHeight","maxCount","endRowIndex","sortedRows","visibleRowPositions","getSortedRows","isVisible","gaps","rowCoveredBy","alreadyVisible","coveredBy","recycleCoveredRows","getCleanupRows","getDOMNode","measureSize","getOverlappingHeight","scrollProps","onResize","initSizes","rowSpan","rowSpans","current","last","event","handleRowKeyDown","activeElement","document","theRow","getRowAt","rowNode","dir","shiftKey","nextIndex","thisElements","getRowFocusableElements","limit","shouldPreventDefaultTabKeyOnRow","preventDefault","focusRow","scrollToIndex","direction","nextRow","nextRowNode","elements","focusIndex","focus","stickyRows","scaleMap","scale","indexInAllRows","scales","rowsPerScales","firstVisibleRowIndex","_ref3","_this$getStickyRowsAr","getStickyRowsArray","allRows","getFirstVisibleRowIndexForSticky","enteringRows","comparator","_ref4","currentStickyRows","currentStickyRowsMap","maxStickyRowIndex","firstFreeVisibleRowIndex","foundIndex","computedFoundIndex","stickyRow","stickyRowIndex","enteringRow","JSON","stringify","stickyRowsContainer","setEnteringRow","setStickyRows","rowElements","renderStickyRow","onStickyRowUpdate","_this$props5","renderRow","pureRows","rowContain","useTransformRowPosition","pure","from","to","sticky","isRowRendered","rowTop","rowBottom","getRowOffset","getRowHeight","info","rendered","_this$props6","getRenderedIndexes","firstRenderedIndex","lastRenderedIndex","visible","topDiff","bottomDiff","k","isArray","updateRowHeight","refScrollContainer","c","refStickyContainer","shouldComponentUpdate","nextProps","nextState","renderStickyRowsContainer","stickyOffset","handle","render","theme","position","rowContainer","sizer","hasSticky","Fragment","Factory","NativeScrollContainer","renderScrollerSpacerOnNaturalRowHeight","contain","extraChildren","useTransformToScroll","onViewResize","getClientSize","getScrollSize","_this2","onRenderRangeChange","getGapsFor","_this$props7","visited","newRowIndex","setRowIndex","getRowSpan","outOfView","newIndex","pop","_newIndex","updateRafHandle","cancelAnimationFrame","onRowsUpdated","scrollTopMax","scrollLeftMax","getScrollingElement","element","componentWillUnmount","removeListener","UNSAFE_componentWillReceiveProps","nextCount","rowHeightChange","oldVisibleCount","componentDidUpdate","prevProps","_this3","refreshConfig","rowRef","onUnmount","onRowUnmount","notifyRowSpan","setRowRowSpan","onKeyDown","onRowKeyDown","onFocus","onRowFocus","stickyHeight","_this4","_ref5","_ref5$duration","duration","_ref5$offset","getRowVisibilityInfo","existingIndex","afterScroll","setTimeout","_newScrollTop","Component","defaultProps","shouldAllowScrollbars","rafOnResize","func","bool","Error","oneOfType","string","checkResizeDelay","number","shouldFocusNextRow","isRequired","propName"],"mappings":"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","sourcesContent":["/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"RowHeightManager\", {\n  enumerable: true,\n  get: function get() {\n    return _RowHeightManager.default;\n  }\n});\nexports.default = void 0;\nObject.defineProperty(exports, \"getScrollbarWidth\", {\n  enumerable: true,\n  get: function get() {\n    return _src.getScrollbarWidth;\n  }\n});\nexports.propTypes = void 0;\nObject.defineProperty(exports, \"shouldComponentUpdate\", {\n  enumerable: true,\n  get: function get() {\n    return _shouldComponentUpdate2.default;\n  }\n});\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _contains = _interopRequireDefault(require(\"../../../packages/contains\"));\n\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../packages/react-clean-props\"));\n\nvar _resizeObserverPolyfill = _interopRequireDefault(require(\"resize-observer-polyfill\"));\n\nvar _src = _interopRequireWildcard(require(\"../../../packages/react-virtual-scroll-container-pro/src\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../packages/uglified\"));\n\nvar _join = _interopRequireDefault(require(\"../../../packages/join\"));\n\nvar _binarySearch = _interopRequireDefault(require(\"../../../packages/binary-search\"));\n\nvar _RowHeightManager = _interopRequireDefault(require(\"./RowHeightManager\"));\n\nvar _getFocusableElements = _interopRequireDefault(require(\"../../getFocusableElements\"));\n\nvar _renderRows2 = _interopRequireDefault(require(\"./renderRows\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../packages/shouldComponentUpdate\"));\n\nvar _getVisibleRange = _interopRequireDefault(require(\"./getVisibleRange\"));\n\nvar _StickyRowsContainer = _interopRequireDefault(require(\"./StickyRowsContainer\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.throttle\"));\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nvar sortAsc = function sortAsc(a, b) {\n  return a - b;\n};\n\nvar emptyFn = function emptyFn() {};\n\nvar emptyObject = Object.freeze ? Object.freeze({}) : {};\nvar ua = globalObject.navigator ? globalObject.navigator.userAgent : '';\nvar IS_EDGE = ua.indexOf('Edge/') !== -1;\nvar IS_FF = ua.toLowerCase().indexOf('firefox') > -1;\nvar BASE_CLASS_NAME = 'inovua-react-virtual-list';\nvar ResizeObserver = globalObject.ResizeObserver || _resizeObserverPolyfill.default;\n\nvar sum = function sum(a, b) {\n  return a + b;\n};\n\nvar unique = function unique(arr) {\n  if (Set) {\n    return (0, _toConsumableArray2.default)(new Set(arr));\n  }\n\n  return Object.keys(arr.reduce(function (acc, item) {\n    acc[item] = true;\n    return acc;\n  }, {}));\n};\n\nvar InovuaVirtualList = function (_Component) {\n  (0, _inherits2.default)(InovuaVirtualList, _Component);\n\n  var _super = _createSuper(InovuaVirtualList);\n\n  function InovuaVirtualList(_props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaVirtualList);\n    _this = _super.call(this, _props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"size\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rows\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rowSpans\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rowCoveredBy\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"scrollTopPos\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getContainerNode\", function () {\n      return _this.containerNode;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScroller\", function (props) {\n      var offset = _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.style), {}, {\n        overscrollBehavior: _this.props.overscrollBehavior || 'none',\n        backfaceVisibility: 'hidden',\n        WebkitOverscrollBehavior: _this.props.overscrollBehavior || 'none',\n        right: -offset,\n        bottom: -offset\n      });\n\n      props.style = style;\n\n      if (_this.props.showEmptyRows && _this.props.count < _this.strictVisibleCount && (0, _src.getScrollbarWidth)() && _this.props.nativeScroll) {\n        style.overflowY = 'hidden';\n      }\n\n      var result;\n\n      if (_this.props.renderScroller) {\n        result = _this.props.renderScroller(props);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, props));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderScrollerSpacerOnNaturalRowHeight\", function (spacerProps) {\n      spacerProps.style.height = _this.getScrollHeight();\n\n      if (_this.props.renderScrollerSpacer) {\n        _this.props.renderScrollerSpacer(spacerProps);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderView\", function (props) {\n      var offset = _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      var minHeight = offset ? \"calc(100% - \".concat(offset, \"px)\") : '100%';\n      var maxWidth = offset ? \"calc(100% - \".concat(offset, \"px)\") : '100%';\n\n      if (_this.props.rtl && !_this.props.nativeScroll) {\n        maxWidth = '100%';\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.style), {}, {\n        minHeight: minHeight,\n        maxWidth: maxWidth\n      });\n\n      if (_this.props.rtl && !(0, _src.getScrollbarWidth)()) {\n        style.transform = \"translateX(\".concat(-offset, \"px)\");\n      }\n\n      var viewProps = _objectSpread(_objectSpread({}, props), {}, {\n        style: style,\n        'data-name': 'view'\n      });\n\n      var result;\n\n      if (_this.props.renderView) {\n        result = _this.props.renderView(viewProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, viewProps));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getTotalRowHeight\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      return props.rowHeightManager ? props.rowHeightManager.getTotalSize(props.count) : props.count * props.rowHeight;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollHeight\", function () {\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var offset = SCROLLBAR_WIDTH ? 0 : _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      var height = _this.getTotalRowHeight();\n\n      return height + offset;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollSize\", function (node) {\n      var res = {\n        width: node.scrollWidth,\n        height: _this.getScrollHeight()\n      };\n      return res;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getClientSize\", function (n) {\n      var node = n.firstChild;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var offset = SCROLLBAR_WIDTH ? 0 : _this.getEmptyScrollOffset() || 0;\n\n      if (_this.props.nativeScroll) {\n        offset = 0;\n      }\n\n      return {\n        width: node.clientWidth + offset,\n        height: node.clientHeight + offset\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"initSizes\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var minRowHeight = props.minRowHeight,\n          rowHeightManager = props.rowHeightManager;\n\n      if (rowHeightManager) {\n        return;\n      }\n\n      var count = _this.getMaxRenderCount(props);\n\n      var rowOffsets = [];\n      var totalHeight = 0;\n      var rowHeights = (0, _toConsumableArray2.default)(Array(count)).map(function () {\n        rowOffsets.push(totalHeight);\n        totalHeight += minRowHeight;\n        return minRowHeight;\n      });\n      rowOffsets[count] = totalHeight;\n      _this.rowOffsets = rowOffsets;\n      _this.rowHeights = rowHeights;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setHeightForRows\", function (indexes, heights) {\n      if (!indexes.length || !heights.length) {\n        return 0;\n      }\n\n      if (_this.props.showWarnings) {\n        if (indexes.length != heights.length) {\n          console.warn('setHeightForRows signature mismatch!!!');\n          return 0;\n        }\n\n        indexes.forEach(function (_, i) {\n          if (i > 0) {\n            var _diff = indexes[i] - indexes[i - 1];\n\n            if (_diff !== 1) {\n              console.warn('setHeightForRows should be called with successive indexes!', indexes);\n            }\n          }\n        });\n      }\n\n      var _assertThisInitialize = (0, _assertThisInitialized2.default)(_this),\n          rowHeights = _assertThisInitialize.rowHeights,\n          rowOffsets = _assertThisInitialize.rowOffsets;\n\n      var count = _this.props.count;\n      var diff = 0;\n      indexes.forEach(function (index, i) {\n        var height = heights[i] || 0;\n        var oldHeight = rowHeights[index] || 0;\n        rowHeights[index] = height;\n        rowOffsets[index] = diff + (rowOffsets[index] || 0);\n        diff += height - oldHeight;\n      });\n\n      for (var i = indexes[indexes.length - 1] + 1; i <= count; i++) {\n        rowOffsets[i] = diff + (rowOffsets[i] || 0);\n      }\n\n      return diff;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderSizer\", function (scrollHeight) {\n      var _this$props = _this.props,\n          renderSizer = _this$props.renderSizer,\n          minRowWidth = _this$props.minRowWidth,\n          emptyScrollOffset = _this$props.emptyScrollOffset,\n          rowHeightManager = _this$props.rowHeightManager,\n          showEmptyRows = _this$props.showEmptyRows;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var offset = SCROLLBAR_WIDTH ? 0 : emptyScrollOffset || 0;\n      var minHeight = scrollHeight + offset;\n\n      if (showEmptyRows) {\n        minHeight = Math.max(minHeight, _this.strictVisibleCount * rowHeightManager.getDefaultRowHeight());\n      }\n\n      var style = {\n        minHeight: isNaN(minHeight) ? '' : minHeight,\n        minWidth: minRowWidth ? minRowWidth + offset : 0\n      };\n      var result;\n\n      if (renderSizer) {\n        result = renderSizer({\n          style: style\n        }, scrollHeight);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", {\n          key: \"sizer\",\n          \"data-name\": \"sizer\",\n          style: style\n        });\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderRowContainer\", function () {\n      var props = {\n        key: 'rowContainer',\n        className: \"\".concat(BASE_CLASS_NAME, \"__row-container\"),\n        ref: _this.refContainerNode,\n        children: _this.renderRows()\n      };\n      var result;\n\n      if (_this.props.renderRowContainer) {\n        result = _this.props.renderRowContainer(props);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", _objectSpread({}, props));\n      }\n\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onViewResize\", function () {\n      requestAnimationFrame(function () {\n        _this.rafSync();\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollbarsChange\", function (_ref) {\n      var vertical = _ref.vertical,\n          horizontal = _ref.horizontal;\n\n      if (!vertical && _this.scrollTopPos || !horizontal && _this.scrollLeftPos) {\n        _this.applyScrollStyle({\n          scrollTop: !vertical ? 0 : _this.scrollTopPos,\n          scrollLeft: !horizontal ? 0 : _this.scrollLeftPos\n        });\n      }\n\n      if (_this.props.onScrollbarsChange) {\n        _this.props.onScrollbarsChange({\n          vertical: vertical,\n          horizontal: horizontal\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowUnmount\", function (row) {\n      if (!_this.rows) {\n        return;\n      }\n\n      var currentRowIndex = row.getIndex();\n      var isFound = _this.mapping[currentRowIndex];\n\n      if (!isFound) {\n        return;\n      }\n\n      delete _this.mapping[currentRowIndex];\n\n      var index = _this.rows.indexOf(row);\n\n      if (index != -1) {\n        _this.rows.splice(index, 1);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rowRef\", function (r) {\n      if (!r) {\n        return;\n      }\n\n      _this.mapping[r.props.index] = r;\n      _this.rows[r.props.index] = r;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollStart\", function () {\n      _this.scrolling = true;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (_this.props.scrollOneDirectionOnly) {\n        var scrollPos = args[0],\n            prevScrollPos = args[1];\n        var absTop = Math.abs(scrollPos.scrollTop - prevScrollPos.scrollTop);\n        var absLeft = Math.abs(scrollPos.scrollLeft - prevScrollPos.scrollLeft);\n\n        var scrollerNode = _this.getScrollerNode();\n\n        if (absTop != absLeft) {\n          _this.disableScrollPropName = absTop > absLeft ? 'overflowX' : 'overflowY';\n          _this.disableScrollOtherPropName = absTop > absLeft ? 'overflowY' : 'overflowX';\n          _this.disableScrollPropValue = scrollerNode.style[_this.disableScrollPropName];\n          scrollerNode.style[_this.disableScrollOtherPropName] = 'scroll';\n          scrollerNode.style[_this.disableScrollPropName] = 'hidden';\n        }\n      }\n\n      if (_this.props.onScrollStart) {\n        var _this$props2;\n\n        (_this$props2 = _this.props).onScrollStart.apply(_this$props2, args);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollerNode\", function () {\n      return _this.scrollContainer.scrollerNode;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollStop\", function () {\n      _this.scrolling = false;\n\n      if (_this.props.scrollOneDirectionOnly) {\n        var scrollerNode = _this.getScrollerNode();\n\n        scrollerNode.style[_this.disableScrollPropName] = _this.disableScrollPropValue;\n        scrollerNode.style.overflow = 'scroll';\n      }\n\n      if (_this.props.onScrollStop) {\n        var _this$props3;\n\n        (_this$props3 = _this.props).onScrollStop.apply(_this$props3, arguments);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRows\", function () {\n      var rows = [];\n\n      _this.forEachRow(function (row) {\n        if (row) {\n          rows.push(row);\n        }\n      });\n\n      return rows;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"forEachRow\", function (fn) {\n      var onlyVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var rows = _this.rows;\n\n      var visibleCount = _this.getVisibleCount();\n\n      var i = -1;\n\n      for (var initialIndex in rows) {\n        if (rows.hasOwnProperty(initialIndex) && (!onlyVisible || onlyVisible && initialIndex < visibleCount)) {\n          i++;\n          fn(rows[initialIndex], i);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"sortRows\", function (rows) {\n      return rows.slice().sort(function (row1, row2) {\n        return row1.getIndex() - row2.getIndex();\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRowAt\", function (index) {\n      var row = _this.mapping[index];\n\n      if (row && row.getIndex() != index) {\n        row = null;\n      }\n\n      return row;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getVisibleCount\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var virtualized = props.virtualized,\n          enableRowSpan = props.enableRowSpan,\n          extraRowsProps = props.extraRows;\n      var extraRows = enableRowSpan ? 2 : extraRowsProps || 0;\n\n      if (_this.visibleCount === undefined) {\n        return 0;\n      }\n\n      if (!virtualized) {\n        return (props.showEmptyRows ? Math.max(_this.visibleCount || 0, props.count || 0) : props.count) + extraRows;\n      }\n\n      return (props.showEmptyRows ? _this.visibleCount || props.count : Math.min(_this.visibleCount || props.count, props.count)) + extraRows;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setRowIndex\", function (row, index, callback) {\n      var existingRow = _this.mapping[index];\n\n      if (existingRow) {\n        existingRow.setIndex(index, callback);\n\n        if (existingRow !== row) {\n          row.setVisible(false);\n        }\n\n        return;\n      }\n\n      var oldIndex = row.getIndex();\n      row.setIndex(index, callback);\n      delete _this.mapping[oldIndex];\n      _this.mapping[index] = row;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getSortedRows\", function () {\n      var rows = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.getRows();\n      return _this.sortRows(rows);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowsUpdated\", function (newIndexes, range, updateScroll) {\n      newIndexes.sort(function (i1, i2) {\n        return i1 - i2;\n      });\n      var start = newIndexes[0];\n      var end = _this.props.showEmptyRows ? newIndexes[newIndexes.length - 1] : Math.min(newIndexes[newIndexes.length - 1], _this.props.count - 1);\n      var minRowHeight = _this.props.minRowHeight;\n      var rowIndexes = [];\n      var rowHeights = [];\n      var rows = [];\n\n      for (var row, rowHeight, i = start; i <= end; i++) {\n        row = _this.mapping[i];\n        rowHeight = row ? row.getInfo().height : minRowHeight;\n\n        if (row) {\n          rows.push(row);\n        }\n\n        rowIndexes.push(i);\n        rowHeights.push(rowHeight);\n      }\n\n      var newToTopHeight = 0;\n      var oldTop;\n\n      if (_this.oldRowIndexes) {\n        oldTop = _this.oldRowIndexes[0];\n        rowIndexes.forEach(function (rowIndex, i) {\n          var diff;\n\n          if (rowIndex < oldTop) {\n            diff = rowHeights[i] - _this.rowHeights[rowIndex];\n            newToTopHeight += diff;\n          }\n        });\n      }\n\n      if (rowIndexes.length) {\n        _this.setHeightForRows(rowIndexes, rowHeights);\n      }\n\n      rows.forEach(function (row) {\n        var index = row.getIndex();\n        var offset = _this.rowOffsets[index];\n        row.setOffset(offset);\n      });\n      _this.oldRowIndexes = rowIndexes;\n      var newScrollTop;\n\n      if (newToTopHeight) {\n        newScrollTop = _this.scrollTopPos + newToTopHeight;\n        updateScroll(newScrollTop);\n        _this.forceScrollTop = newScrollTop;\n        _this.scrollTop = newScrollTop;\n      } else {\n        updateScroll();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getVisibleRange\", function (args) {\n      return (0, _getVisibleRange.default)(args);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"applyScrollStyle\", function (_ref2, domNode) {\n      var scrollTop = _ref2.scrollTop,\n          scrollLeft = _ref2.scrollLeft,\n          force = _ref2.force,\n          reorder = _ref2.reorder;\n\n      if (scrollTop < 0) {\n        scrollTop = 0;\n      }\n\n      if (!_this.props.rtl) {\n        if (scrollLeft < 0) {\n          scrollLeft = 0;\n        }\n      } else {\n        if (scrollLeft > 0) {\n          scrollLeft = 0;\n        }\n      }\n\n      if (_this.forceScrollTop !== undefined) {\n        scrollTop = _this.forceScrollTop;\n        _this.forceScrollTop = undefined;\n        return;\n      }\n\n      if (_this.props.applyScrollLeft && scrollLeft !== undefined) {\n        scrollLeft = 0;\n\n        _this.props.applyScrollLeft(scrollLeft, domNode);\n      }\n\n      if (scrollTop === undefined) {\n        scrollTop = _this.prevScrollTopPos;\n      }\n\n      if (scrollLeft === undefined) {\n        scrollLeft = _this.prevScrollLeftPos;\n      }\n\n      _this.scrollTopPos = scrollTop;\n      _this.scrollLeftPos = scrollLeft;\n      var _this$props4 = _this.props,\n          count = _this$props4.count,\n          useTransformPosition = _this$props4.useTransformPosition,\n          rowHeightManager = _this$props4.rowHeightManager,\n          naturalRowHeight = _this$props4.naturalRowHeight,\n          virtualized = _this$props4.virtualized,\n          showEmptyRows = _this$props4.showEmptyRows;\n\n      var range = _this.getVisibleRange({\n        scrollTop: scrollTop,\n        size: _this.size,\n        count: count,\n        naturalRowHeight: naturalRowHeight,\n        rowHeightManager: rowHeightManager,\n        showEmptyRows: showEmptyRows\n      });\n\n      var startRowIndex = range.start;\n      var prevStartRowIndex = _this.prevStartRowIndex;\n      _this.prevScrollTopPos = scrollTop;\n      _this.prevScrollLeftPos = scrollLeft;\n      _this.prevStartRowIndex = startRowIndex;\n\n      _this.updateStickyRows(scrollTop, undefined, {\n        force: false\n      });\n\n      var updateScroll = function updateScroll() {\n        var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : scrollTop;\n        var parentNodeStyle = _this.containerNode.parentNode.style;\n\n        _this.containerNode.parentNode.classList.add(\"\".concat(BASE_CLASS_NAME, \"__view-container\"));\n\n        var scrollLeftTranslateValue = -scrollLeft;\n\n        if (useTransformPosition) {\n          parentNodeStyle.transform = \"translate3d(\".concat(scrollLeftTranslateValue, \"px, \").concat(-top, \"px, 0px)\");\n        } else {\n          parentNodeStyle.left = \"\".concat(scrollLeftTranslateValue, \"px\");\n          parentNodeStyle.top = \"\".concat(-top, \"px\");\n        }\n      };\n\n      if (rowHeightManager == null) {\n        force = true;\n      }\n\n      if (startRowIndex == prevStartRowIndex && !force || !virtualized) {\n        updateScroll();\n        return;\n      }\n\n      updateScroll();\n\n      _this.updateRows(range, reorder, emptyFn);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollingElement\", function () {\n      return _this.scrollContainer;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"smoothScrollTo\", function () {\n      var _this$scrollContainer;\n\n      (_this$scrollContainer = _this.scrollContainer).smoothScrollTo.apply(_this$scrollContainer, arguments);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidMount\", function () {\n      _this.mounted = true;\n\n      _this.setupRowHeightManager(_this.props.rowHeightManager);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"fixEdgeScrollPosition\", function () {\n      if (!(IS_EDGE || IS_FF)) {\n        return;\n      }\n\n      var maxTop = _this.getTotalRowHeight() - (_this.scrollContainer.viewNode ? _this.scrollContainer.viewNode.offsetHeight : 0);\n\n      if (_this.scrollTop > maxTop) {\n        globalObject.requestAnimationFrame(function () {\n          if (_this.unmounted) {\n            return;\n          }\n\n          _this.scrollTop = maxTop;\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setupRowHeightManager\", function (rowHeightManager) {\n      if (rowHeightManager) {\n        rowHeightManager.on('index', _this.onIndex);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onIndex\", function () {\n      _this.updateVisibleCount(_this.size.height);\n\n      _this.forceUpdate(function () {\n        if (_this.unmounted) {\n          return;\n        }\n\n        _this.refreshLayout({\n          reorder: false,\n          force: true\n        });\n\n        _this.cleanupRows();\n\n        _this.fixEdgeScrollPosition();\n\n        _this.rows.forEach(function (row) {\n          row.setIndex(row.getIndex(), undefined, undefined, true);\n        });\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"refreshLayout\", function (config) {\n      var defaults = {\n        force: true,\n        reorder: true\n      };\n\n      _this.adjustHeights();\n\n      var options = config ? _objectSpread(_objectSpread({}, defaults), config) : defaults;\n\n      _this.applyScrollStyle(options);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getOverlappingHeight\", function () {\n      if (_this.scrollContainer && _this.scrollContainer.getBeforeAndAfterHeight) {\n        return _this.scrollContainer.getBeforeAndAfterHeight();\n      }\n\n      return 0;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateVisibleCount\", function (height, props) {\n      props = props || _this.props;\n      var _props2 = props,\n          rowHeightManager = _props2.rowHeightManager,\n          minRowHeight = _props2.minRowHeight,\n          showEmptyRows = _props2.showEmptyRows;\n      var strictVisibleCount = rowHeightManager ? Math.ceil(height / rowHeightManager.getMinHeight()) : Math.ceil(height / (minRowHeight || 1));\n      _this.strictVisibleCount = strictVisibleCount;\n      _this.visibleCount = rowHeightManager ? strictVisibleCount + 1 : strictVisibleCount + 2;\n      var maxCount = props.count;\n\n      if (_this.visibleCount > maxCount && !showEmptyRows) {\n        _this.visibleCount = maxCount;\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getGapsFor\", function (startRowIndex, endRowIndex, sortedRows) {\n      var visibleRowPositions = {};\n      var enableRowSpan = _this.props.enableRowSpan;\n\n      var rows = sortedRows || _this.getSortedRows();\n\n      rows.forEach(function (row) {\n        if (row.isVisible()) {\n          visibleRowPositions[row.getIndex()] = true;\n        }\n      });\n      var gaps = [];\n\n      if (enableRowSpan && _this.rowCoveredBy[startRowIndex] != null) {\n        startRowIndex = _this.rowCoveredBy[startRowIndex];\n      }\n\n      var alreadyVisible;\n      var coveredBy;\n\n      for (; startRowIndex <= endRowIndex; startRowIndex++) {\n        alreadyVisible = visibleRowPositions[startRowIndex];\n\n        if (enableRowSpan && !alreadyVisible) {\n          coveredBy = _this.rowCoveredBy[startRowIndex];\n\n          if (coveredBy != null) {\n            alreadyVisible = _this.props.recycleCoveredRows;\n          }\n        }\n\n        if (!alreadyVisible) {\n          gaps.push(startRowIndex);\n        }\n      }\n\n      return gaps;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getCleanupRows\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var indexes = [];\n      var length = _this.rows.length;\n\n      var visibleCount = _this.getVisibleCount(props);\n\n      for (var i = visibleCount; i < length; i++) {\n        indexes.push(i);\n      }\n\n      return indexes;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"cleanupRows\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n\n      _this.getCleanupRows(props).forEach(function (i) {\n        var row = _this.rows[i];\n\n        if (row) {\n          delete _this.mapping[row.getIndex()];\n          delete _this.rows[i];\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onResize\", function () {\n      var node = _this.getDOMNode();\n\n      if (!node) {\n        return;\n      }\n\n      var size = _this.props.measureSize ? _this.props.measureSize(node) : {\n        width: node.clientWidth,\n        height: node.clientHeight\n      };\n      size.height -= _this.getOverlappingHeight();\n      _this.size = size;\n\n      if (_this.props.scrollProps && typeof _this.props.scrollProps.onResize == 'function') {\n        _this.props.scrollProps.onResize(size);\n      }\n\n      _this.updateVisibleCount(size.height);\n\n      if (_this.props.virtualized) {\n        if (_this.props.showEmptyRows) {\n          _this.initSizes();\n        }\n\n        _this.forceUpdate(function () {\n          if (_this.unmounted) {\n            return;\n          }\n\n          _this.refreshLayout({\n            reorder: false,\n            force: true\n          });\n\n          _this.cleanupRows();\n        });\n      }\n\n      if (_this.props.onResize) {\n        _this.props.onResize(size);\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setRowRowSpan\", function (rowIndex, rowSpan) {\n      if (rowSpan === 1) {\n        return;\n      }\n\n      _this.rowSpans[rowIndex] = rowSpan;\n      var current = rowIndex + 1;\n      var last = rowIndex + rowSpan - 1;\n\n      for (; current <= last; current++) {\n        _this.rowCoveredBy[current] = rowIndex;\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowKeyDown\", function (index, event) {\n      if (event.key !== 'Tab') {\n        return;\n      }\n\n      if (_this.props.handleRowKeyDown) {\n        _this.props.handleRowKeyDown(index, event);\n\n        return;\n      }\n\n      var activeElement = globalObject.document.activeElement;\n\n      var theRow = _this.getRowAt(index);\n\n      var rowNode = theRow.getDOMNode ? theRow.getDOMNode() : theRow.node;\n\n      if (!activeElement || !(0, _contains.default)(rowNode, activeElement)) {\n        return;\n      }\n\n      var dir = event.shiftKey ? -1 : 1;\n      var nextIndex = index + dir;\n\n      var maxCount = _this.getMaxRenderCount();\n\n      if (nextIndex < 0 || nextIndex >= maxCount) {\n        return;\n      }\n\n      var thisElements = _this.props.getRowFocusableElements ? _this.props.getRowFocusableElements(index, rowNode) : (0, _getFocusableElements.default)(rowNode);\n\n      if (thisElements && thisElements.length) {\n        var limit = dir === -1 ? 0 : thisElements.length - 1;\n\n        if (thisElements[limit] !== activeElement) {\n          return;\n        }\n      }\n\n      if (typeof _this.props.shouldPreventDefaultTabKeyOnRow !== 'function' || _this.props.shouldPreventDefaultTabKeyOnRow(index, event) !== false) {\n        event.preventDefault();\n      }\n\n      _this.focusRow(nextIndex, dir);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getMaxRenderCount\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n\n      var visibleCount = _this.getVisibleCount(props);\n\n      var maxCount = props.showEmptyRows ? Math.max(visibleCount || 0, props.count) : Math.max(props.count || 0, 0);\n      return maxCount;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"focusRow\", function (index, dir, callback) {\n      if (index >= _this.getMaxRenderCount() || index < 0) {\n        return;\n      }\n\n      _this.scrollToIndex(index, {\n        direction: dir == 1 ? 'bottom' : 'top'\n      }, function () {\n        var nextRow = _this.getRowAt(index);\n\n        var nextRowNode = nextRow.getDOMNode ? nextRow.getDOMNode() : nextRow.node;\n        var elements = _this.props.getRowFocusableElements ? _this.props.getRowFocusableElements(index, nextRowNode) : (0, _getFocusableElements.default)(nextRowNode);\n\n        if (elements.length) {\n          var focusIndex = dir === -1 ? elements.length - 1 : 0;\n          elements[focusIndex].focus();\n        }\n\n        if (typeof callback == 'function') {\n          callback();\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isRowRendered\", function (index) {\n      return !!_this.getRowAt(index);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getStickyRowsArray\", function () {\n      var stickyRows = _this.props.stickyRows;\n      var scaleMap = {};\n      var rows = Object.keys(stickyRows).map(function (key, i) {\n        var scale = +(stickyRows[key] || 1);\n        var row = {\n          index: +key,\n          scale: scale,\n          indexInAllRows: i\n        };\n        scaleMap[scale] = scaleMap[scale] || [];\n        scaleMap[scale].push(row);\n        return row;\n      }).sort(function (a, b) {\n        return sortAsc(a.index, b.index);\n      });\n      var scales = unique(rows.map(function (r) {\n        return r.scale;\n      })).sort(sortAsc);\n      var result = {\n        rows: rows,\n        scales: scales,\n        rowsPerScales: scales.map(function (scale) {\n          return scaleMap[scale];\n        })\n      };\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"currentStickyRows\", []);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateStickyRows\", function () {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.scrollTop;\n      var firstVisibleRowIndex = arguments.length > 1 ? arguments[1] : undefined;\n\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        force: true\n      },\n          force = _ref3.force;\n\n      if (!_this.props.stickyRows) {\n        return;\n      }\n\n      var _this$getStickyRowsAr = _this.getStickyRowsArray(),\n          rowsPerScales = _this$getStickyRowsAr.rowsPerScales,\n          allRows = _this$getStickyRowsAr.rows;\n\n      if (firstVisibleRowIndex === undefined) {\n        firstVisibleRowIndex = _this.getFirstVisibleRowIndexForSticky(scrollTop);\n      }\n\n      firstVisibleRowIndex = firstVisibleRowIndex || 0;\n      var enteringRows = [];\n\n      var comparator = function comparator(_ref4, b) {\n        var index = _ref4.index;\n        return sortAsc(index, b);\n      };\n\n      var initialIndex = -1;\n      var currentStickyRows = [];\n      var currentStickyRowsMap = [];\n      var maxStickyRowIndex = -1;\n      var firstFreeVisibleRowIndex = firstVisibleRowIndex;\n      rowsPerScales.forEach(function (rows) {\n        if (!rows.length) {\n          return;\n        }\n\n        var foundIndex = (0, _binarySearch.default)(rows, firstFreeVisibleRowIndex, comparator);\n        var computedFoundIndex = foundIndex;\n        var stickyRow;\n        var stickyRowIndex;\n\n        if (foundIndex < 0) {\n          computedFoundIndex = ~foundIndex - 1;\n        }\n\n        stickyRow = rows[computedFoundIndex];\n\n        if (stickyRow) {\n          stickyRowIndex = stickyRow.index;\n\n          if (stickyRowIndex > initialIndex) {\n            firstFreeVisibleRowIndex++;\n            currentStickyRows.push(stickyRow);\n            currentStickyRowsMap[stickyRowIndex] = true;\n            initialIndex = stickyRowIndex;\n            maxStickyRowIndex = Math.max(maxStickyRowIndex, stickyRowIndex);\n          }\n\n          var nextRow = allRows[stickyRow.indexInAllRows + 1];\n\n          if (nextRow && nextRow.index <= firstFreeVisibleRowIndex) {\n            enteringRows.push(nextRow);\n          }\n        }\n      });\n      enteringRows = enteringRows.filter(function (row) {\n        return !currentStickyRowsMap[row.index] && row.index > maxStickyRowIndex;\n      });\n      var enteringRow = enteringRows[0];\n\n      if (JSON.stringify(_this.currentStickyRows) === JSON.stringify(currentStickyRows) && !force) {\n        _this.stickyRowsContainer.setEnteringRow({\n          enteringRow: enteringRow,\n          scrollTop: scrollTop\n        });\n\n        return;\n      }\n\n      _this.setStickyRows(currentStickyRows, scrollTop, enteringRow);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setStickyRows\", function () {\n      var currentStickyRows = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.currentStickyRows;\n      var scrollTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.scrollTop;\n      var enteringRow = arguments.length > 2 ? arguments[2] : undefined;\n      _this.currentStickyRows = currentStickyRows;\n      var rowElements = currentStickyRows.map(function (row) {\n        return _this.renderStickyRow(row.index);\n      });\n\n      _this.stickyRowsContainer.setStickyRows(rowElements.length ? rowElements : null, currentStickyRows, {\n        enteringRow: enteringRow,\n        scrollTop: scrollTop\n      });\n\n      _this.currentStickyRows = currentStickyRows;\n\n      if (_this.props.onStickyRowUpdate) {\n        _this.props.onStickyRowUpdate();\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderStickyRow\", function (index) {\n      var _this$props5 = _this.props,\n          rowHeight = _this$props5.rowHeight,\n          renderRow = _this$props5.renderRow,\n          count = _this$props5.count,\n          pureRows = _this$props5.pureRows,\n          rowHeightManager = _this$props5.rowHeightManager,\n          showEmptyRows = _this$props5.showEmptyRows,\n          virtualized = _this$props5.virtualized,\n          rowContain = _this$props5.rowContain,\n          naturalRowHeight = _this$props5.naturalRowHeight,\n          useTransformRowPosition = _this$props5.useTransformRowPosition;\n      return (0, _renderRows2.default)({\n        pure: pureRows,\n        renderRow: renderRow,\n        rowHeightManager: rowHeightManager,\n        rowHeight: rowHeight,\n        rowContain: rowContain,\n        count: count,\n        from: index,\n        to: index + 1,\n        naturalRowHeight: naturalRowHeight,\n        sticky: true,\n        useTransformPosition: useTransformRowPosition,\n        virtualized: false\n      })[0];\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"isRowVisible\", function (index) {\n      if (!_this.isRowRendered(index)) {\n        return false;\n      }\n\n      var rowHeightManager = _this.props.rowHeightManager;\n      var top = _this.scrollTop;\n      var bottom = top + _this.size.height;\n      var rowTop;\n      var rowBottom;\n\n      if (rowHeightManager) {\n        rowTop = rowHeightManager.getRowOffset(index);\n        rowBottom = rowTop + rowHeightManager.getRowHeight(index);\n      } else {\n        var row = _this.getRowAt(index);\n\n        var info = row.getInfo();\n        rowTop = info.offset;\n        rowBottom = rowTop + info.height;\n      }\n\n      return top <= rowTop && rowBottom <= bottom;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRowVisibilityInfo\", function (index, offset) {\n      var rendered = _this.isRowRendered(index);\n\n      var _this$props6 = _this.props,\n          rowHeightManager = _this$props6.rowHeightManager,\n          rowHeight = _this$props6.rowHeight,\n          minRowHeight = _this$props6.minRowHeight;\n      var scrollTop = _this.scrollTop;\n      var top = scrollTop + offset;\n      var bottom = scrollTop + _this.size.height - offset;\n      var rowTop;\n      var rowBottom;\n\n      if (rowHeightManager) {\n        rowTop = rowHeightManager.getRowOffset(index);\n        rowBottom = rowTop + rowHeightManager.getRowHeight(index);\n      } else {\n        var row = _this.getRowAt(index);\n\n        if (row) {\n          var info = row.getInfo();\n          rowTop = info.offset;\n          rowBottom = rowTop + info.height;\n        } else {\n          var indexes = _this.getRenderedIndexes();\n\n          var firstRenderedIndex = indexes[0];\n          var lastRenderedIndex = indexes[indexes.length - 1];\n\n          if (index < firstRenderedIndex) {\n            rowTop = _this.rowOffsets[firstRenderedIndex] - (firstRenderedIndex - index) * minRowHeight;\n          } else if (index > lastRenderedIndex) {\n            rowTop = _this.rowOffsets[lastRenderedIndex] + _this.rowHeights[lastRenderedIndex] + (index - lastRenderedIndex) * minRowHeight;\n          } else {\n            rowTop = _this.rowOffsets[index];\n          }\n\n          rowBottom = rowTop + _this.rowHeights[index];\n        }\n      }\n\n      var visible = top <= rowTop && rowBottom <= bottom;\n      return {\n        rendered: rendered,\n        visible: visible,\n        top: rowTop,\n        bottom: rowBottom,\n        topDiff: rowTop - top,\n        bottomDiff: bottom - rowBottom\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getRenderedIndexes\", function () {\n      return Object.keys(_this.mapping).map(function (k) {\n        return k * 1;\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onRowFocus\", function (index, event) {});\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"rafSync\", function () {\n      if (_this.scrollContainer) {\n        _this.scrollContainer.rafSync();\n      }\n\n      _this.adjustHeights();\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"adjustHeights\", function () {\n      if (Array.isArray(_this.rows)) {\n        _this.rows.forEach(function (r) {\n          return r.updateRowHeight();\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"checkHeights\", function () {\n      var rows = _this.getSortedRows();\n\n      var result = true;\n      rows.forEach(function (row) {\n        if (result !== true) {\n          return;\n        }\n\n        var index = row.getIndex();\n\n        if (row.node.offsetHeight != _this.rowHeights[index]) {\n          console.warn(\"row height mismatch at \".concat(index, \"!\"));\n          result = index;\n        }\n      });\n\n      if (result === true) {\n        _this.rowHeights.reduce(function (acc, height, index) {\n          if (_this.rowOffsets[index] !== acc && result === true && index < _this.props.count) {\n            console.warn(\"row offset mismatch at \".concat(index, \"!\"));\n            result = index;\n          }\n\n          return acc + height;\n        }, 0);\n      }\n\n      return result;\n    });\n\n    _this.initSizes(_props);\n\n    _this.visibleCount = undefined;\n    _this.size = {\n      height: 0,\n      width: 0\n    };\n    _this.scrollTopPos = 0;\n    _this.scrollLeftPos = 0;\n    _this.prevScrollLeftPos = 0;\n    _this.prevScrollTopPos = 0;\n    _this.mapping = {};\n    _this.rowSpans = {};\n    _this.rowCoveredBy = {};\n    _this.rows = [];\n\n    _this.refScrollContainer = function (c) {\n      _this.scrollContainer = c;\n    };\n\n    _this.refStickyContainer = function (c) {\n      _this.stickyRowsContainer = c;\n    };\n\n    _this.refContainerNode = function (domNode) {\n      _this.containerNode = domNode;\n    };\n\n    _this.updateRows = (0, _lodash.default)(_this.updateRows, 16);\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaVirtualList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"renderStickyRowsContainer\",\n    value: function renderStickyRowsContainer() {\n      return this.props.stickyRows ? _react.default.createElement(_StickyRowsContainer.default, {\n        rtl: this.props.rtl,\n        key: \"stickyrowscontainer\",\n        stickyOffset: this.props.stickyOffset,\n        handle: this.refStickyContainer,\n        rowHeightManager: this.props.rowHeightManager\n      }) : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var naturalRowHeight = props.naturalRowHeight,\n          scrollProps = props.scrollProps,\n          theme = props.theme,\n          minRowHeight = props.minRowHeight,\n          rowHeightManager = props.rowHeightManager,\n          count = props.count;\n\n      var style = _objectSpread({\n        position: 'relative'\n      }, this.props.style);\n\n      var className = (0, _join.default)(props.className, BASE_CLASS_NAME, theme && \"\".concat(BASE_CLASS_NAME, \"--theme-\").concat(theme), \"\".concat(BASE_CLASS_NAME, \"--virtual-scroll\"));\n      var scrollHeight = rowHeightManager ? rowHeightManager.getTotalSize(count) : this.scrollHeight || minRowHeight * count;\n      var rowContainer = this.renderRowContainer();\n      var sizer = this.renderSizer(scrollHeight);\n      var stickyRowsContainer = this.renderStickyRowsContainer();\n      var children;\n\n      if ((0, _src.hasSticky)()) {\n        children = _react.default.Fragment ? _react.default.createElement(_react.default.Fragment, null, rowContainer, sizer) : [rowContainer, sizer];\n      } else {\n        children = _react.default.createElement(\"div\", null, rowContainer, sizer);\n      }\n\n      var Factory = this.props.nativeScroll ? _src.NativeScrollContainer : _src.default;\n      var renderScrollerSpacer = this.props.renderScrollerSpacer;\n\n      if (naturalRowHeight) {\n        renderScrollerSpacer = this.renderScrollerSpacerOnNaturalRowHeight;\n      }\n\n      return _react.default.createElement(Factory, _objectSpread(_objectSpread(_objectSpread({\n        contain: this.props.contain,\n        ResizeObserver: this.props.ResizeObserver !== undefined ? this.props.ResizeObserver : ResizeObserver,\n        extraChildren: stickyRowsContainer,\n        useTransformToScroll: this.props.useTransformPosition\n      }, (0, _reactCleanProps.default)(props, InovuaVirtualList.propTypes)), scrollProps), {}, {\n        rtl: this.props.rtl,\n        nativeScroll: this.props.nativeScroll,\n        ref: this.refScrollContainer,\n        onScrollbarsChange: this.onScrollbarsChange,\n        style: style,\n        theme: theme,\n        className: className,\n        onScrollStart: this.onScrollStart,\n        onScrollStop: this.onScrollStop,\n        applyScrollStyle: this.applyScrollStyle,\n        onResize: this.onResize,\n        onViewResize: this.onViewResize,\n        renderScroller: this.renderScroller,\n        renderScrollerSpacer: renderScrollerSpacer,\n        renderView: this.renderView,\n        getClientSize: this.getClientSize,\n        getScrollSize: this.getScrollSize,\n        children: children\n      }));\n    }\n  }, {\n    key: \"updateRows\",\n    value: function updateRows(range, reorder, updateScroll) {\n      var _this2 = this;\n\n      var rowHeightManager = this.props.rowHeightManager;\n      var startRowIndex = range.start;\n      var endRowIndex = range.end;\n\n      if (this.props.onRenderRangeChange) {\n        this.props.onRenderRangeChange(startRowIndex, endRowIndex);\n      }\n\n      var rows = this.getSortedRows();\n      var gaps = this.getGapsFor(startRowIndex, endRowIndex, rows);\n      var newIndexes = [];\n      var _this$props7 = this.props,\n          recycleCoveredRows = _this$props7.recycleCoveredRows,\n          enableRowSpan = _this$props7.enableRowSpan;\n      var visited = {};\n      rows.forEach(function (row, i) {\n        var rowIndex = row.getIndex();\n\n        if (reorder) {\n          var newRowIndex = startRowIndex + i;\n\n          _this2.setRowIndex(row, newRowIndex);\n\n          if (rowHeightManager == null) {\n            newIndexes.push(newRowIndex);\n          }\n\n          return;\n        }\n\n        var extraRows = enableRowSpan ? row.getRowSpan() - 1 : 0;\n        var outOfView = rowIndex + extraRows < startRowIndex || rowIndex > endRowIndex || visited[rowIndex] || enableRowSpan && recycleCoveredRows && _this2.rowCoveredBy[rowIndex] !== undefined;\n        visited[rowIndex] = true;\n\n        if (rowHeightManager == null) {\n          if (outOfView) {\n            if (gaps.length) {\n              var newIndex = gaps.pop();\n              newIndexes.push(newIndex);\n\n              _this2.setRowIndex(row, newIndex);\n            } else {\n              row.setVisible(false);\n            }\n          } else {\n            row.setVisible(true);\n            newIndexes.push(row.getIndex());\n          }\n\n          return;\n        }\n\n        if (outOfView && gaps.length) {\n          var _newIndex = gaps.pop();\n\n          _this2.setRowIndex(row, _newIndex);\n        }\n      });\n\n      if (newIndexes.length && rowHeightManager == null) {\n        if (this.updateRafHandle) {\n          globalObject.cancelAnimationFrame(this.updateRafHandle);\n        }\n\n        this.updateRafHandle = globalObject.requestAnimationFrame(function () {\n          _this2.updateRafHandle = null;\n\n          _this2.onRowsUpdated(newIndexes, {\n            start: startRowIndex,\n            end: endRowIndex\n          }, function () {});\n        });\n      }\n    }\n  }, {\n    key: \"scrollTopMax\",\n    get: function get() {\n      return this.mounted ? this.scrollContainer.scrollTopMax : 0;\n    }\n  }, {\n    key: \"scrollLeftMax\",\n    get: function get() {\n      return this.mounted ? this.scrollContainer.scrollLeftMax : 0;\n    }\n  }, {\n    key: \"scrollTop\",\n    get: function get() {\n      return this.mounted ? this.getScrollingElement().scrollTop : 0;\n    },\n    set: function set(value) {\n      var element = this.getScrollingElement();\n\n      if (element) {\n        element.scrollTop = value;\n      }\n    }\n  }, {\n    key: \"scrollLeft\",\n    get: function get() {\n      return this.mounted ? this.getScrollingElement().scrollLeft : 0;\n    },\n    set: function set(value) {\n      var element = this.getScrollingElement();\n\n      if (element) {\n        element.scrollLeft = value;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.rowHeightManager) {\n        this.props.rowHeightManager.removeListener('index', this.onIndex);\n      }\n\n      this.mounted = false;\n      this.unmounted = true;\n      this.rows = null;\n      this.rowHeights = null;\n      this.rowOffsets = null;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var nextCount = Math.max(nextProps.count, 0);\n      var rowHeightChange = this.props.rowHeight && nextProps.rowHeight != this.props.rowHeight;\n\n      if (this.props.renderRow !== nextProps.renderRow) {\n        this.rowCoveredBy = {};\n        this.rowSpans = {};\n      }\n\n      if (nextCount != this.props.count || nextProps.showEmptyRows != this.props.showEmptyRows || rowHeightChange) {\n        var oldVisibleCount = this.getVisibleCount();\n        this.updateVisibleCount(this.size.height, nextProps);\n        this.cleanupRows(nextProps);\n        this.reorder = rowHeightChange || this.getVisibleCount(nextProps) < oldVisibleCount;\n        this.initSizes(nextProps);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      var prevScrollTopPos;\n      var prevScrollLeftPos;\n\n      if (this.props.nativeScroll !== prevProps.nativeScroll) {\n        prevScrollTopPos = this.scrollTopPos;\n        prevScrollLeftPos = this.scrollLeftPos;\n        globalObject.requestAnimationFrame(function () {\n          if (_this3.unmounted) {\n            return;\n          }\n\n          _this3.scrollTop = prevScrollTopPos;\n          _this3.scrollLeft = prevScrollLeftPos;\n        });\n      }\n\n      if (this.props.rowHeightManager !== prevProps.rowHeightManager) {\n        if (prevProps.rowHeightManager) {\n          prevProps.rowHeightManager.removeListener('index', this.onIndex);\n        }\n\n        this.setupRowHeightManager(this.props.rowHeightManager);\n      }\n\n      if (this.props.count != prevProps.count || this.props.renderRow != prevProps.renderRow || this.props.rowHeightManager != prevProps.rowHeightManager || this.props.rowHeightManager == null || this.props.showEmptyRows != prevProps.showEmptyRows) {\n        var refreshConfig = {\n          reorder: this.reorder\n        };\n\n        if (prevScrollTopPos !== undefined) {\n          refreshConfig.scrollTop = prevScrollTopPos;\n          refreshConfig.scrollLeft = prevScrollLeftPos;\n        }\n\n        if (this.props.count <= this.visibleCount) {\n          refreshConfig.scrollTop = 0;\n        }\n\n        if ((IS_EDGE || IS_FF) && this.props.count < prevProps.count) {\n          this.fixEdgeScrollPosition();\n        }\n\n        this.reorder = false;\n        this.refreshLayout(refreshConfig);\n      }\n\n      if (prevProps.stickyRows !== this.props.stickyRows) {\n        this.updateStickyRows(undefined, undefined, {\n          force: true\n        });\n      }\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.scrollContainer ? this.scrollContainer.domNode || this.scrollContainer.getDOMNode() : null;\n    }\n  }, {\n    key: \"renderRows\",\n    value: function renderRows() {\n      var props = this.props;\n      var rowHeight = props.rowHeight,\n          renderRow = props.renderRow,\n          count = props.count,\n          pureRows = props.pureRows,\n          rowHeightManager = props.rowHeightManager,\n          showEmptyRows = props.showEmptyRows,\n          virtualized = props.virtualized,\n          rowContain = props.rowContain,\n          naturalRowHeight = props.naturalRowHeight,\n          useTransformRowPosition = props.useTransformRowPosition;\n      var to = this.getVisibleCount();\n      return (0, _renderRows2.default)({\n        ref: this.rowRef,\n        onUnmount: this.onRowUnmount,\n        notifyRowSpan: this.setRowRowSpan,\n        pure: pureRows,\n        renderRow: renderRow,\n        rowHeightManager: rowHeightManager,\n        rowHeight: rowHeight,\n        rowContain: rowContain,\n        count: count,\n        from: 0,\n        to: to,\n        naturalRowHeight: naturalRowHeight,\n        onKeyDown: this.onRowKeyDown,\n        onFocus: this.onRowFocus,\n        useTransformPosition: useTransformRowPosition,\n        showEmptyRows: showEmptyRows,\n        virtualized: virtualized\n      });\n    }\n  }, {\n    key: \"getFirstVisibleRowIndexForSticky\",\n    value: function getFirstVisibleRowIndexForSticky() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.scrollTopPos;\n      var rowHeightManager = this.props.rowHeightManager;\n      var stickyHeight = this.currentStickyRows ? this.currentStickyRows.reduce(function (_, row) {\n        return rowHeightManager.getRowHeight(row.index);\n      }, 0) : 0;\n      var rowIndex = Math.max(0, rowHeightManager.getRowAt(scrollTop + stickyHeight) - 1);\n      return rowIndex;\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this4 = this;\n\n      var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject,\n          direction = _ref5.direction,\n          force = _ref5.force,\n          _ref5$duration = _ref5.duration,\n          duration = _ref5$duration === void 0 ? 0 : _ref5$duration,\n          _ref5$offset = _ref5.offset,\n          offset = _ref5$offset === void 0 ? 0 : _ref5$offset;\n\n      var callback = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (direction) {\n        if (direction != 'top' && direction != 'bottom') {\n          direction = null;\n        }\n      }\n\n      if (force && !direction) {\n        force = false;\n      }\n\n      if (index < 0 || index >= this.getMaxRenderCount()) {\n        return;\n      }\n\n      if (typeof callback != 'function') {\n        callback = emptyFn;\n      }\n\n      var info = this.getRowVisibilityInfo(index, offset);\n\n      if (!info.rendered) {\n        var rowHeight = this.props.rowHeight;\n\n        if (!direction) {\n          var existingIndex = this.rows[0].getIndex();\n          direction = index > existingIndex ? 'bottom' : 'top';\n        }\n\n        var newScrollTop = direction === 'top' ? info.top - offset : this.scrollTop - info.bottomDiff + offset;\n\n        var afterScroll = function afterScroll() {\n          if (!rowHeight) {\n            setTimeout(function () {\n              globalObject.requestAnimationFrame(function () {\n                _this4.scrollToIndex(index, {\n                  direction: direction,\n                  force: force,\n                  duration: duration ? 100 : 0\n                }, callback);\n              });\n            });\n          } else {\n            callback();\n          }\n        };\n\n        if (duration) {\n          this.smoothScrollTo(newScrollTop, {\n            duration: duration\n          }, afterScroll);\n        } else {\n          this.scrollTop = newScrollTop;\n          afterScroll();\n        }\n\n        return;\n      }\n\n      var visible = info.visible;\n\n      if (!visible) {\n        if (!direction) {\n          direction = info.topDiff < 0 ? 'top' : 'bottom';\n          force = true;\n        }\n      }\n\n      if (!visible || direction && force) {\n        var _newScrollTop;\n\n        if (direction == 'top' || info.topDiff < 0) {\n          _newScrollTop = this.scrollTop + info.topDiff - offset;\n        } else if (direction == 'bottom' || info.bottomDiff < 0) {\n          _newScrollTop = this.scrollTop - info.bottomDiff + offset;\n        }\n\n        if (_newScrollTop != null) {\n          if (duration) {\n            this.smoothScrollTo(_newScrollTop, {\n              duration: duration\n            }, callback);\n            return;\n          }\n\n          this.scrollTop = _newScrollTop;\n        }\n      }\n\n      callback();\n    }\n  }, {\n    key: \"getEmptyScrollOffset\",\n    value: function getEmptyScrollOffset() {\n      if (this.props.emptyScrollOffset != null) {\n        return this.props.emptyScrollOffset;\n      }\n\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      return this.props.emptyScrollOffset || SCROLLBAR_WIDTH || 17;\n    }\n  }]);\n  return InovuaVirtualList;\n}(_react.Component);\n\nexports.default = InovuaVirtualList;\nInovuaVirtualList.defaultProps = {\n  minRowHeight: 20,\n  nativeScroll: false,\n  shouldAllowScrollbars: function shouldAllowScrollbars() {\n    return true;\n  },\n  rafOnResize: false,\n  theme: 'default-light',\n  showEmptyRows: false,\n  showWarnings: !_uglified.default,\n  virtualized: true,\n  scrollOneDirectionOnly: false,\n  useTransformPosition: !IS_EDGE && (0, _src.hasSticky)(),\n  useTransformRowPosition: false,\n  recycleCoveredRows: true,\n  scrollProps: {}\n};\nvar propTypes = {\n  applyScrollLeft: _propTypes.default.func,\n  naturalRowHeight: _propTypes.default.bool,\n  count: function count(props) {\n    var count = props.count;\n\n    if (count == null) {\n      throw new Error(\"\\\"count\\\" is required!\");\n    }\n\n    if (typeof count != 'number') {\n      throw new Error(\"\\\"count\\\" should be a number!\");\n    }\n\n    if (count < 0) {\n      throw new Error(\"\\\"count\\\" should be >= 0!\");\n    }\n  },\n  getRowFocusableElements: _propTypes.default.func,\n  contain: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  rowContain: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  handleRowKeyDown: _propTypes.default.func,\n  rafOnResize: _propTypes.default.bool,\n  checkResizeDelay: _propTypes.default.number,\n  extraRows: _propTypes.default.number,\n  measureSize: _propTypes.default.func,\n  minRowHeight: _propTypes.default.number,\n  minRowWidth: _propTypes.default.number,\n  nativeScroll: _propTypes.default.bool,\n  onRenderRangeChange: _propTypes.default.func,\n  shouldFocusNextRow: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  onScrollStart: _propTypes.default.func,\n  onScrollbarsChange: _propTypes.default.func,\n  onScrollStop: _propTypes.default.func,\n  pureRows: _propTypes.default.bool,\n  rowHeight: _propTypes.default.number,\n  renderRow: _propTypes.default.func.isRequired,\n  renderRowContainer: _propTypes.default.func,\n  renderSizer: _propTypes.default.func,\n  showEmptyRows: _propTypes.default.bool,\n  useTransformPosition: _propTypes.default.bool,\n  useTransformRowPosition: _propTypes.default.bool,\n  scrollProps: _propTypes.default.object,\n  showWarnings: _propTypes.default.bool,\n  renderView: _propTypes.default.func,\n  renderScroller: _propTypes.default.func,\n  renderScrollerSpacer: _propTypes.default.func,\n  shouldComponentUpdate: _propTypes.default.func,\n  shouldPreventDefaultTabKeyOnRow: _propTypes.default.func,\n  theme: _propTypes.default.string,\n  overscrollBehavior: _propTypes.default.string,\n  virtualized: _propTypes.default.bool,\n  scrollOneDirectionOnly: _propTypes.default.bool,\n  onStickyRowUpdate: _propTypes.default.func,\n  stickyRows: _propTypes.default.object,\n  recycleCoveredRows: _propTypes.default.bool,\n  stickyOffset: _propTypes.default.number,\n  enableRowSpan: _propTypes.default.bool,\n  rowHeightManager: function rowHeightManager(props, propName) {\n    var value = props[propName];\n\n    if (!value) {\n      return new Error(\"\\nYou have to provide a \\\"rowHeightManager\\\" property, which should be an instance of RowHeightManager.\\n\");\n    }\n\n    if (!(value instanceof _RowHeightManager.default)) {\n      return new Error('The \"rowHeightManager\" property should be an instance of RowHeightManager!');\n    }\n  }\n};\nexports.propTypes = propTypes;\nInovuaVirtualList.propTypes = propTypes;"]},"metadata":{},"sourceType":"script"}