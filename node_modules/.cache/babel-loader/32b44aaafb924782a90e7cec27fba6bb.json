{"ast":null,"code":"/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../packages/react-class\"));\n\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../packages/uglified\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../common/shallowequal\"));\n\nvar _ArrowScroller = _interopRequireDefault(require(\"../../ArrowScroller\"));\n\nvar _MenuItem = _interopRequireDefault(require(\"./MenuItem\"));\n\nvar _MenuSeparator = _interopRequireDefault(require(\"./MenuSeparator\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../common/assign\"));\n\nvar _getConstrainRegion = _interopRequireDefault(require(\"../../../common/getConstrainRegion\"));\n\nvar _isMobile = _interopRequireDefault(require(\"../../../common/isMobile\"));\n\nvar _prepareStyle = _interopRequireDefault(require(\"./utils/prepareStyle\"));\n\nvar _getFirstNonDisabledItem = _interopRequireDefault(require(\"./utils/getFirstNonDisabledItem\"));\n\nvar _getNextNavigableItem = _interopRequireDefault(require(\"./utils/getNextNavigableItem\"));\n\nvar _getSeparatorIndexes = _interopRequireDefault(require(\"./utils/getSeparatorIndexes\"));\n\nvar _prepareAlignOffset = _interopRequireDefault(require(\"./utils/prepareAlignOffset\"));\n\nvar _getSingleSelectNames = _interopRequireDefault(require(\"./utils/getSingleSelectNames\"));\n\nvar _increaseColSpan = require(\"./utils/increaseColSpan\");\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"./getRegionRelativeToParent\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../common/shouldComponentUpdate\"));\n\nvar _getSubMenuStyle = _interopRequireDefault(require(\"./getSubMenuStyle\"));\n\nvar _getItemStyleProps = _interopRequireDefault(require(\"./utils/getItemStyleProps\"));\n\nvar _submenuAlignPositions = require(\"./submenuAlignPositions\");\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nfunction emptyFn() {}\n\nvar raf = globalObject.requestAnimationFrame;\n\nvar getAlignToRegion = function getAlignToRegion(alignTo, node) {\n  if (typeof alignTo === 'function') {\n    alignTo = alignTo(node);\n  }\n\n  if (typeof alignTo == 'string') {\n    alignTo = globalObject.document ? globalObject.document.querySelector(alignTo) : alignTo;\n  }\n\n  return _regionAlign.default.from(alignTo);\n};\n\nvar InovuaMenu = function (_Component) {\n  (0, _inherits2.default)(InovuaMenu, _Component);\n\n  var _super = _createSuper(InovuaMenu);\n\n  function InovuaMenu(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaMenu);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updatePosition\", function () {\n      _this.checkAlignment(undefined, true);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateAlignment\", function (alignTo) {\n      _this.checkAlignment(undefined, true, alignTo);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleDocumentScroll\", function () {\n      if (_this.props.updatePositionOnScroll) {\n        _this.updatePosition();\n      }\n    });\n    _this.state = {\n      mouseOver: false,\n      hidden: true,\n      enableAnimation: false,\n      transitionEnded: false,\n      hasScroll: false,\n      activeSubMenuIndex: null,\n      nextActiveSubMenuIndex: null,\n      showUpArrow: false,\n      showDownArrow: true,\n      focusedItem: props.enableKeyboardNavigation ? props.defaultFocusedItem : null,\n      selected: props.defaultSelected\n    };\n\n    _this.setupShowHideDelay();\n\n    _this.setRootRef = function (ref) {\n      _this.node = ref;\n    };\n\n    _this.setItemRef = function (index) {\n      return function (ref) {\n        if (!_this.childrenRefs) {\n          _this.childrenRefs = [];\n        }\n\n        _this.childrenRefs[index] = ref;\n      };\n    };\n\n    _this.setSubMenuRef = function (ref) {\n      _this.subMenu = ref;\n    };\n\n    _this.setSubMenuWrapRef = function (ref) {\n      _this.subMenuWrap = ref;\n    };\n\n    _this.setScrollerRef = function (ref) {\n      _this.scroller = ref;\n    };\n\n    _this.setTableRef = function (ref) {\n      _this.table = ref;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaMenu, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n      this.chidrenRefs = null;\n      this.props.componentWillUnmount(this, {\n        hasFocus: this.hasFocus(),\n        depth: this.props.depth\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.autoFocus && prevState.hidden && !this.state.hidden) {\n        this.focus();\n      }\n\n      if (prevProps.visible && !this.props.visible) {\n        this.setState({\n          positionStyle: null\n        });\n      }\n\n      if (!prevProps.visible && this.props.visible || !(0, _shallowequal.default)(prevProps.alignTo, this.props.alignTo) || this.props.constrainTo != prevProps.constrainTo) {\n        this.checkAlignment(this.props);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.componentIsMounted = true;\n\n      if (this.props.visible === false) {\n        return;\n      }\n\n      if (this.props.componentDidMount) {\n        this.props.componentDidMount(this);\n      }\n\n      this.checkAlignment();\n      this.setupEnterAnimation();\n\n      if (this.props.autoFocus) {\n        requestAnimationFrame(function () {\n          _this2.focus();\n        });\n      }\n\n      if (this.props.updatePositionOnScroll) {\n        window.addEventListener('scroll', this.handleDocumentScroll, {\n          passive: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props;\n      var style = (0, _prepareStyle.default)(props, state);\n      var className = this.prepareClassName(props, state);\n      var table = this.renderTable();\n      var scrollerArrow = props.showScrollArrows === undefined ? 'auto' : !!props.showScrollArrows;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({\n        tabIndex: 0\n      }, (0, _cleanProps.default)(props, InovuaMenu.propTypes)), {}, {\n        ref: this.setRootRef,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseEnter: this.handleMouseEnter,\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.handleOnBlur,\n        className: className,\n        style: style\n      }), this.state.activeSubMenuIndex !== null && this.renderSubMenu(props, state), props.disableScroller ? table : _react.default.createElement(_ArrowScroller.default, _objectSpread({\n        scroller: scrollerArrow\n      }, this.getScrollerProps()), table));\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable() {\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__table\"), props.tableClassName);\n      return _react.default.createElement(\"table\", {\n        cellSpacing: 0,\n        cellPadding: 0,\n        className: className,\n        ref: this.setTableRef\n      }, _react.default.createElement(\"tbody\", null, this.renderItems()));\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this3 = this;\n\n      var props = this.props,\n          state = this.state;\n\n      if (!props.items) {\n        return null;\n      }\n\n      var commonProps = this.getCommonItemProps();\n      var siblingItemHasSubMenu = this.doesAnyItemHasSubMenu();\n      var siblingItemHasSelectInput = this.dosAnyItemHaveSelectInput();\n      var hasDescription = props.items.filter(function (item) {\n        return !!item.secondaryLabel;\n      }).length;\n      var hasIcon = props.items.filter(function (item) {\n        return !!item.icon;\n      }).length;\n      return props.items.map(function (item, index, items) {\n        if (item === '-') {\n          return _react.default.createElement(_MenuSeparator.default, {\n            style: props.menuSeparatorStyle,\n            key: index,\n            rootClassName: props.rootClassName\n          });\n        }\n\n        var columns = props.columns;\n\n        if (hasDescription) {\n          columns = [].concat((0, _toConsumableArray2.default)(columns), [{\n            name: 'secondaryLabel',\n            isDescription: true,\n            style: _objectSpread(_objectSpread({}, props.secondaryLabelStyle), item.secondaryLabelStyle)\n          }]);\n        }\n\n        if (hasIcon) {\n          columns = [{\n            name: 'icon',\n            isIcon: true\n          }].concat((0, _toConsumableArray2.default)(columns));\n        }\n\n        if (props.labelStyle || item.labelStyle) {\n          columns = columns.map(function (column) {\n            if (!column) {\n              return column;\n            }\n\n            if (typeof column === 'string' && column === 'label') {\n              return {\n                name: 'label',\n                style: _objectSpread(_objectSpread({}, props.labelStyle), item.labelStyle)\n              };\n            }\n\n            if (column && column.name && column.name === 'label') {\n              return _objectSpread(_objectSpread({}, column), {}, {\n                style: _objectSpread(_objectSpread({}, columns.style), props.labelStyle)\n              });\n            }\n\n            return column;\n          });\n        }\n\n        var hasSubMenu = item.items && !!item.items.length || item.children && !!item.children.length;\n        var focused = state.focusedItem === index;\n        var expanded = commonProps.expandedIndex === index;\n        var className = props.itemClassName;\n\n        var selectionProps = _this3.getSelectionProps(item);\n\n        if (props.enableSelection && siblingItemHasSelectInput && !selectionProps) {\n          if (props.selectionInputPosition === 'start') {\n            columns = (0, _increaseColSpan.increaseFirstColumnColSpan)(columns);\n          } else {\n            columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n          }\n        }\n\n        if (!hasSubMenu && siblingItemHasSubMenu) {\n          columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n        }\n\n        var itemProps = _objectSpread(_objectSpread(_objectSpread({\n          index: index,\n          item: item,\n          hasSubMenu: hasSubMenu,\n          items: items,\n          focused: focused,\n          expanded: expanded,\n          className: className,\n          columns: columns,\n          key: index,\n          disabled: item.disabled,\n          theme: props.theme,\n          ref: _this3.setItemRef(index)\n        }, commonProps), selectionProps), item.props);\n\n        var Component = props.itemFactory || _MenuItem.default;\n        return _react.default.createElement(Component, _objectSpread({}, itemProps));\n      });\n    }\n  }, {\n    key: \"getSelectionProps\",\n    value: function getSelectionProps(item) {\n      var props = this.props;\n\n      if (!props.items || props.items && !props.items.length) {\n        return null;\n      }\n\n      var selected = this.getSelected();\n      var singleSelectNames = (0, _getSingleSelectNames.default)({\n        items: props.items,\n        nameProperty: props.nameProperty\n      });\n      var selectionProps;\n\n      if (props.enableSelection) {\n        var value = item[props.valueProperty];\n        var name = item[props.nameProperty];\n        var multiple = singleSelectNames && !singleSelectNames[name];\n        var checked = multiple ? value !== undefined ? selected[name] === value : selected[name] === name : selected[name] === value;\n\n        if (name) {\n          selectionProps = {\n            name: name,\n            value: value,\n            checked: checked,\n            multiple: multiple,\n            allowUnselect: props.allowUnselect,\n            enableSelection: true,\n            browserNativeSelectInputs: props.browserNativeSelectInputs,\n            renderCheckInput: item.renderCheckInput !== undefined ? item.renderCheckInput : props.renderCheckInput,\n            renderRadioInput: item.renderRadioInput !== undefined ? item.renderRadioInput : props.renderRadioInput,\n            selectionInputPosition: item.selectionInputPosition !== undefined ? item.selectionInputPosition : props.selectionInputPosition\n          };\n        }\n      }\n\n      return selectionProps;\n    }\n  }, {\n    key: \"getCommonItemProps\",\n    value: function getCommonItemProps() {\n      var _objectSpread2;\n\n      var props = this.props;\n      var menuHasSubmenu = !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n      var itemStyleProps = (0, _getItemStyleProps.default)(props);\n      return _objectSpread((_objectSpread2 = {\n        menuHasSubmenu: menuHasSubmenu,\n        expanderStyle: props.expanderStyle,\n        expanderSize: props.expanderSize,\n        globalCellStyle: props.cellStyle,\n        itemDisabledStyle: props.itemDisabledStyle,\n        itemDisabledClassName: props.itemDisabledClassName,\n        itemOverStyle: props.itemOverStyle,\n        itemActiveStyle: props.itemActiveStyle\n      }, (0, _defineProperty2.default)(_objectSpread2, \"menuHasSubmenu\", props.menuHasSubmenu), (0, _defineProperty2.default)(_objectSpread2, \"rootClassName\", props.rootClassName), (0, _defineProperty2.default)(_objectSpread2, \"showWarnings\", props.showWarnings), (0, _defineProperty2.default)(_objectSpread2, \"titleStyle\", props.titleStyle), (0, _defineProperty2.default)(_objectSpread2, \"onClick\", this.onMenuItemClick), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOver\", this.onMenuItemMouseEnter), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOut\", this.onMenuItemMouseLeave), (0, _defineProperty2.default)(_objectSpread2, \"submenuWillUnmount\", this.onSubmenuWillUnmount), (0, _defineProperty2.default)(_objectSpread2, \"onExpanderClick\", this.onMenuItemExpanderClick), (0, _defineProperty2.default)(_objectSpread2, \"onSelectChange\", this.handleSelectionChange), (0, _defineProperty2.default)(_objectSpread2, \"selectOnClick\", props.selectOnClick), (0, _defineProperty2.default)(_objectSpread2, \"expander\", props.expander), (0, _defineProperty2.default)(_objectSpread2, \"rtl\", props.rtl), (0, _defineProperty2.default)(_objectSpread2, \"height\", props.itemHeight), (0, _defineProperty2.default)(_objectSpread2, \"checkIconSize\", props.checkIconSize), (0, _defineProperty2.default)(_objectSpread2, \"radioIconSize\", props.radioIconSize), (0, _defineProperty2.default)(_objectSpread2, \"closeSubmenuRecursively\", this.closeSubmenuRecursively), (0, _defineProperty2.default)(_objectSpread2, \"closeSubMenu\", this.closeSubMenu), (0, _defineProperty2.default)(_objectSpread2, \"expandedIndex\", this.getExpandedIndex()), _objectSpread2), itemStyleProps);\n    }\n  }, {\n    key: \"renderSubMenu\",\n    value: function renderSubMenu(props, state) {\n      var domNode = this.node;\n      var menuProps = this.getSubMenuProps();\n\n      var wrapperStyle = _getSubMenuStyle.default.bind(this)(_objectSpread(_objectSpread({}, props), {}, {\n        alignPositions: this.getDefaultAlignPositions()\n      }), state, domNode);\n\n      var wrapperClassName = \"\".concat(this.props.rootClassName, \"__submenu-wrapper\");\n      return _react.default.createElement(\"div\", {\n        className: wrapperClassName,\n        ref: this.setSubMenuWrapRef,\n        style: wrapperStyle,\n        onMouseEnter: this.handleSubMenuMouseEnter,\n        onMouseLeave: this.handleSubMenuMouseLeave\n      }, _react.default.createElement(InovuaMenu, _objectSpread({\n        key: state.activeSubMenuIndex\n      }, menuProps)));\n    }\n  }, {\n    key: \"hasItemSubMenu\",\n    value: function hasItemSubMenu(index) {\n      var items = this.getItemsByIndex(index);\n      return items && items.length;\n    }\n  }, {\n    key: \"getItemsByIndex\",\n    value: function getItemsByIndex(index) {\n      var item = this.props.items && this.props.items[index];\n\n      if (!item) {\n        return null;\n      }\n\n      var items = item && item.items;\n      return items;\n    }\n  }, {\n    key: \"getSubMenuProps\",\n    value: function getSubMenuProps() {\n      var props = this.props,\n          state = this.state;\n      var index = this.state.activeSubMenuIndex;\n      var items = this.getItemsByIndex(index);\n      var item = this.props.items[index];\n\n      var overridingProps = _objectSpread(_objectSpread({}, this.props.submenuProps), item.menuProps);\n\n      if (overridingProps.selected === undefined && overridingProps.defaultSelected === undefined) {\n        overridingProps.selected = this.getSelected();\n      }\n\n      var menuProps = _objectSpread(_objectSpread(_objectSpread({}, this.props), {}, {\n        onDismiss: emptyFn\n      }, overridingProps), {}, {\n        items: items,\n        depth: props.depth + 1,\n        ref: this.setSubMenuRef,\n        subMenu: true,\n        parentMenu: this,\n        closeSubMenu: this.closeSubMenu,\n        closeSubmenuRecursively: this.closeSubmenuRecursively,\n        componentWillUnmount: this.submenuWillUnmount,\n        parentIndex: index,\n        maxHeight: state.submenuMaxHeight || props.submenuMaxHeight || state.maxHeight || props.maxHeight,\n        onActivate: this.onSubMenuActivate,\n        onInactivate: this.onSubMenuInactivate,\n        scrollerProps: props.scrollerProps,\n        constrainTo: props.constrainTo,\n        expander: props.expander,\n        onSelectionChange: this.handleSubmenuSelectionChange,\n        alignPosition: state.submenuAlignPosition\n      });\n\n      delete menuProps.autoFocus;\n      delete menuProps.className;\n      delete menuProps.onClick;\n      delete menuProps.defaultFocusedItem;\n      delete menuProps.onChildClick;\n      delete menuProps.visible;\n      return menuProps;\n    }\n  }, {\n    key: \"getAlignPositions\",\n    value: function getAlignPositions(props) {\n      if (props.alignPositions == null) {\n        return this.getDefaultAlignPositions();\n      }\n\n      return props.alignPositions;\n    }\n  }, {\n    key: \"getDefaultAlignPositions\",\n    value: function getDefaultAlignPositions() {\n      var props = this.props;\n      return props.rtl ? _submenuAlignPositions.alignPositionRTL : _submenuAlignPositions.alignPositionLTR;\n    }\n  }, {\n    key: \"getScrollerProps\",\n    value: function getScrollerProps() {\n      var _this4 = this,\n          _objectSpread3;\n\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(props.scrollerProps.className, \"\".concat(props.rootClassName, \"__scroll-container\"));\n      var style = (0, _assign.default)({}, props.scrollerProps.style);\n      var maxHeight = state.maxHeight != undefined && props.submenu ? state.maxHeight : props.maxHeight;\n\n      if (maxHeight != null) {\n        (0, _assign.default)(style, {\n          maxHeight: maxHeight\n        });\n      }\n\n      var scrollProps = _objectSpread(_objectSpread({}, props.scrollerProps), {}, (_objectSpread3 = {\n        renderScroller: props.renderScroller,\n        nativeScroll: props.nativeScroll,\n        scrollContainerProps: props.scrollContainerProps,\n        className: className,\n        notifyResizeDelay: props.notifyResizeDelay,\n        ref: this.setScrollerRef,\n        style: style,\n        theme: props.theme,\n        vertical: true\n      }, (0, _defineProperty2.default)(_objectSpread3, \"theme\", props.theme), (0, _defineProperty2.default)(_objectSpread3, \"scrollOnMouseEnter\", props.scrollOnMouseEnter), (0, _defineProperty2.default)(_objectSpread3, \"onHasScrollChange\", function onHasScrollChange(hasScroll) {\n        return _this4.setState({\n          hasScroll: hasScroll\n        });\n      }), _objectSpread3));\n\n      return scrollProps;\n    }\n  }, {\n    key: \"prepareClassName\",\n    value: function prepareClassName(props, state) {\n      var hidden = props.visible != undefined ? !props.visible : state.hidden;\n      var className = (0, _join.default)(props.rootClassName, props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), props.className, !props.visible || props.items && !props.items.length && \"\".concat(props.rootClassName, \"--no-display\"), props.absolute && \"\".concat(props.rootClassName, \"--absolute\"), !props.rtl ? \"\".concat(props.rootClassName, \"--ltr\") : \"\".concat(props.rootClassName, \"--rtl\"), hidden && \"\".concat(props.rootClassName, \"--hidden\"), _isMobile.default && \"\".concat(props.rootClassName, \"--mobile\"), props.subMenu && \"\".concat(props.rootClassName, \"__submenu\"), \"\".concat(props.rootClassName, \"--depth-\").concat(props.depth), state.hasScroll && \"\".concat(props.rootClassName, \"--has-overflow\"), props.shadow && \"\".concat(props.rootClassName, \"--shadow\"), state.hasScroll && \"\".concat(props.rootClassName, \"--has-scroll\"));\n\n      if (props.alignPosition !== undefined) {\n        var position = props.alignPosition === 1 ? 'up' : 'down';\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--position-\").concat(position));\n      }\n\n      if (state.enableAnimation) {\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--animation-enabled\"), state.transitionEnded && \"\".concat(props.rootClassName, \"--transition-end\"), state.transitionStart && \"\".concat(props.rootClassName, \"--transition-start\"));\n      }\n\n      return className;\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      if (typeof this.props.onMouseEnter === 'function') {\n        this.props.onMouseEnter(event);\n      }\n\n      this.setState({\n        mouseInside: true\n      });\n      this.onActivate();\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      if (typeof this.props.onMouseLeave === 'function') {\n        this.props.onMouseLeave(event);\n      }\n\n      this.setNextSubmenu();\n      this.setState({\n        mouseInside: false\n      });\n\n      if (!this.state.activeSubMenuIndex && !this.state.nextActiveSubMenuIndex) {\n        this.onInactivate({\n          hasFocus: this.hasFocus(),\n          parentIndex: this.props.parentIndex\n        });\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      if (typeof this.props.onKeyDown === 'function') {\n        this.props.onKeyDown(event);\n      }\n\n      if (!this.props.enableKeyboardNavigation) {\n        return;\n      }\n\n      var stop = function stop(event) {\n        event.stopPropagation();\n      };\n\n      stop(event);\n\n      switch (event.key) {\n        case 'ArrowUp':\n          this.handleArrowUp(event);\n          break;\n\n        case 'ArrowDown':\n          this.handleArrowDown(event);\n          break;\n\n        case 'ArrowLeft':\n          this.handleArrowLeft(event);\n          break;\n\n        case 'ArrowRight':\n          this.handleArrowRight(event);\n          break;\n\n        case 'Enter':\n          this.handleEnterOnFocusedItem(event);\n          break;\n\n        case ' ':\n          this.handleSpaceOnFocusedItem(event);\n          break;\n      }\n    }\n  }, {\n    key: \"handleArrowUp\",\n    value: function handleArrowUp(event) {\n      var lastItemIndex = this.props.items && this.props.items.length ? this.props.items.length : null;\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : lastItemIndex;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, -1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowDown\",\n    value: function handleArrowDown(event) {\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : -1;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, 1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowLeft\",\n    value: function handleArrowLeft(event) {\n      if (this.props.rtl) {\n        this.openSubMenuAction(this.state.focusedItem);\n      } else {\n        this.closeSubMenuAction();\n      }\n    }\n  }, {\n    key: \"handleArrowRight\",\n    value: function handleArrowRight(event) {\n      if (this.props.rtl) {\n        this.closeSubMenuAction();\n      } else {\n        this.openSubMenuAction(this.state.focusedItem);\n      }\n    }\n  }, {\n    key: \"handleEnterOnFocusedItem\",\n    value: function handleEnterOnFocusedItem(event) {\n      var focusedItem = this.getFocusedItem();\n\n      if (this.props.simulateClickOnEnterKeyPress && focusedItem != null && typeof focusedItem.handleClick === 'function') {\n        focusedItem.handleClick({\n          stopPropagation: function stopPropagation() {}\n        });\n      }\n    }\n  }, {\n    key: \"handleSpaceOnFocusedItem\",\n    value: function handleSpaceOnFocusedItem() {\n      var activeItemProps = this.getFocusedItemProps();\n\n      if (!activeItemProps) {\n        return;\n      }\n\n      this.handleSelectionChange({\n        name: activeItemProps.name,\n        value: activeItemProps.value,\n        checked: !activeItemProps.checked,\n        multiple: activeItemProps.multiple\n      });\n    }\n  }, {\n    key: \"handleOnBlur\",\n    value: function handleOnBlur(event) {\n      var _this5 = this;\n\n      if (typeof this.props.onBlur === 'function') {\n        this.props.onBlur(event);\n      }\n\n      if (this.props.stopBlurPropagation) {\n        event.stopPropagation();\n      }\n\n      if (this.preventOnBlurRecursiveClose) {\n        return;\n      }\n\n      this.dismissTriggeredByBlur = true;\n      setTimeout(function () {\n        if (!_this5.hasGeneralFocus()) {\n          _this5.dismiss(event);\n        }\n      }, _ua.IS_IE ? this.props.hideSubMenuDelay : 20);\n    }\n  }, {\n    key: \"dismiss\",\n    value: function dismiss(event) {\n      this.closeSubmenuRecursively();\n      this.props.onDismiss(event);\n    }\n  }, {\n    key: \"scrollItemIntoView\",\n    value: function scrollItemIntoView(index) {\n      var itemNode = this.getItemDOMNodeByIndex(index);\n\n      if (!this.scroller || !itemNode) {\n        return;\n      }\n\n      this.scroller.scrollIntoView(itemNode);\n    }\n  }, {\n    key: \"closeSubmenuRecursively\",\n    value: function closeSubmenuRecursively() {\n      this.closeSubMenu();\n      this.props.closeSubmenuRecursively();\n    }\n  }, {\n    key: \"closeSubMenuAction\",\n    value: function closeSubMenuAction() {\n      if (this.hasSubMenuOpened()) {\n        this.closeSubMenu();\n      } else if (this.isSubMenu()) {\n        this.preventOnBlurRecursiveClose = true;\n        this.props.closeSubMenu({\n          autoFocus: true\n        });\n      }\n    }\n  }, {\n    key: \"openSubMenuAction\",\n    value: function openSubMenuAction(focusedItemIndex) {\n      var focusedItem = this.getItemByIndex(focusedItemIndex);\n\n      if (!focusedItem) {\n        return;\n      }\n\n      if (focusedItem && !focusedItem.hasSubmenu()) {\n        return;\n      }\n\n      if (focusedItemIndex === this.state.activeSubMenuIndex) {\n        this.subMenu && this.subMenu.focusFirstItem();\n        return;\n      }\n\n      var menuOffset = focusedItem && focusedItem.getOffset();\n      this.setSubMenu({\n        menuOffset: menuOffset,\n        index: focusedItemIndex\n      });\n    }\n  }, {\n    key: \"onActivate\",\n    value: function onActivate() {\n      if (!this.state.activated) {\n        this.setState({\n          activated: true\n        });\n\n        if (this.props.onActivate) {\n          this.props.onActivate();\n        }\n      }\n    }\n  }, {\n    key: \"onInactivate\",\n    value: function onInactivate(options) {\n      if (this.state.activated) {\n        this.setState({\n          activated: false\n        });\n\n        if (this.props.onInactivate) {\n          this.props.onInactivate(options);\n        }\n      }\n    }\n  }, {\n    key: \"handleSubMenuMouseEnter\",\n    value: function handleSubMenuMouseEnter() {\n      this.setState({\n        mouseOverSubMenu: true\n      });\n    }\n  }, {\n    key: \"handleSubMenuMouseLeave\",\n    value: function handleSubMenuMouseLeave() {\n      this.setState({\n        mouseOverSubMenu: false\n      });\n    }\n  }, {\n    key: \"isSubMenuActive\",\n    value: function isSubMenuActive() {\n      return this.state.subMenuActive;\n    }\n  }, {\n    key: \"onSubMenuActivate\",\n    value: function onSubMenuActivate() {\n      this.setState({\n        subMenuActive: true\n      });\n\n      if (this.closeSubmenuTimeout) {\n        clearTimeout(this.closeSubmenuTimeout);\n      }\n    }\n  }, {\n    key: \"onSubMenuInactivate\",\n    value: function onSubMenuInactivate(submenuConfig) {\n      var _this6 = this;\n\n      var ts = +new Date();\n      var nextItem = this.state.nextItem;\n      var nextTimestamp = this.state.nextTimestamp || 0;\n      this.setState({\n        subMenuActive: false,\n        timestamp: ts\n      }, function () {\n        setTimeout(function () {\n          if (ts != _this6.state.timestamp || nextItem && ts - nextTimestamp < 100) {\n            _this6.setSubMenu({\n              menuOffset: _this6.state.nextOffset,\n              index: _this6.state.nextActiveSubMenuIndex\n            }, function () {\n              _this6.focus();\n            });\n\n            return;\n          } else {\n            _this6.focus();\n          }\n\n          var mouseHasEnteredSubmenuParentItem = submenuConfig && submenuConfig.parentIndex === _this6.itemOverIndex;\n\n          if (!_this6.isSubMenuActive() && !mouseHasEnteredSubmenuParentItem) {\n            _this6.closeSubMenu({\n              autoFocus: submenuConfig && submenuConfig.hasFocus\n            });\n          }\n        }, 10);\n      });\n    }\n  }, {\n    key: \"onMenuItemMouseEnter\",\n    value: function onMenuItemMouseEnter(_ref) {\n      var menuOffset = _ref.menuOffset,\n          index = _ref.index,\n          hasSubMenu = _ref.hasSubMenu;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      this.itemOverIndex = index;\n\n      if (!hasSubMenu) {\n        if (this.state.activeSubMenuIndex != null) {\n          this.setNextSubmenu({\n            menuOffset: null,\n            index: null\n          });\n        }\n\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex == null) {\n        this.setSubMenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      } else {\n        this.setNextSubmenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      }\n    }\n  }, {\n    key: \"onMenuItemMouseLeave\",\n    value: function onMenuItemMouseLeave(_ref2) {\n      var leaveOffset = _ref2.leaveOffset,\n          index = _ref2.index,\n          event = _ref2.event;\n\n      if (this.itemOverIndex === index) {\n        this.itemOverIndex = null;\n      }\n\n      if (!leaveOffset) {\n        return;\n      }\n\n      var elementAtMousePosition = globalObject.document.elementFromPoint(leaveOffset.x, leaveOffset.y);\n\n      if (elementAtMousePosition === this.subMenuWrap || (0, _containsNode.default)(this.subMenuWrap, elementAtMousePosition)) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex !== null) {\n        this.delayCloseSubmenu(leaveOffset);\n      }\n\n      if (this.showTimeout) {\n        clearTimeout(this.showTimeout);\n      }\n    }\n  }, {\n    key: \"delayCloseSubmenu\",\n    value: function delayCloseSubmenu() {\n      var _this7 = this;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.closeSubmenuTimeoutId) {\n        return;\n      }\n\n      this.closeSubmenuTimeout = setTimeout(function () {\n        _this7.closeSubmenuTimeout = null;\n\n        _this7.setSubMenu({\n          menuOffset: _this7.state.nextOffset,\n          index: _this7.state.nextActiveSubMenuIndex\n        });\n      }, 100);\n    }\n  }, {\n    key: \"removeMouseMoveListener\",\n    value: function removeMouseMoveListener() {\n      if (this.onWindowMouseMove) {\n        globalObject.removeEventListener('mousemove', this.onWindowMouseMove);\n        this.onWindowMouseMove = null;\n      }\n    }\n  }, {\n    key: \"setSubMenu\",\n    value: function setSubMenu() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          menuOffset = _ref3.menuOffset,\n          _ref3$index = _ref3.index,\n          index = _ref3$index === void 0 ? null : _ref3$index;\n\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      this.removeMouseMoveListener();\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex === index) {\n        if (callback) {\n          callback();\n        }\n\n        return;\n      }\n\n      if (this.hasItemSubMenu(index) && !this.state.mouseInside) {\n        this.onInactivate();\n      }\n\n      this.setState({\n        menuOffset: menuOffset,\n        activeSubMenuIndex: index,\n        nextOffset: null,\n        nextTimestamp: null,\n        timestamp: +new Date()\n      }, callback);\n    }\n  }, {\n    key: \"setNextSubmenu\",\n    value: function setNextSubmenu() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$menuOffset = _ref4.menuOffset,\n          menuOffset = _ref4$menuOffset === void 0 ? null : _ref4$menuOffset,\n          _ref4$index = _ref4.index,\n          index = _ref4$index === void 0 ? null : _ref4$index;\n\n      var ts = +new Date();\n      this.setState({\n        timestamp: ts,\n        nextOffset: menuOffset,\n        nextActiveSubMenuIndex: index,\n        nextTimestamp: +new Date()\n      });\n    }\n  }, {\n    key: \"closeSubMenu\",\n    value: function closeSubMenu(options) {\n      return;\n      this.setSubMenu();\n\n      if (options && options.autoFocus) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onMenuItemExpanderClick\",\n    value: function onMenuItemExpanderClick(event) {\n      event.nativeEvent.expanderClick = true;\n    }\n  }, {\n    key: \"onMenuItemClick\",\n    value: function onMenuItemClick() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var itemProps = arguments.length > 1 ? arguments[1] : undefined;\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var props = this.props;\n      var stopped = event && event.isPropagationStopped ? event.isPropagationStopped() : false;\n\n      if (props.stopClickPropagation && event.stopPropagation) {\n        event.stopPropagation();\n      }\n\n      if (_isMobile.default && itemProps && event && event.nativeEvent && event.nativeEvent.expanderClick) {\n        var offset = {\n          x: event.pageX,\n          y: event.pageY\n        };\n        var menuOffset = (0, _getRegionRelativeToParent.default)(event.currentTarget, props.rootClassName);\n        this.onMenuItemMouseEnter({\n          hasSubMenu: itemProps.hasSubMenu,\n          menuOffset: menuOffset,\n          index: itemProps.index\n        });\n        return;\n      }\n\n      if (!stopped) {\n        props.onClick(event, itemProps, index);\n\n        if (_isMobile.default && props.onTouchStart) {\n          props.onTouchStart(event, itemProps, index);\n        }\n\n        var dismissOnClick = itemProps && itemProps.item && itemProps.item.dismissOnClick !== undefined ? itemProps.item.dismissOnClick : props.dismissOnClick;\n\n        if (props.autoDismiss) {\n          if (!itemProps.hasSubMenu) {\n            this.dismiss();\n          } else if (dismissOnClick) {\n            props.closeSubmenuRecursively();\n          }\n        } else if (dismissOnClick) {\n          props.closeSubmenuRecursively();\n        }\n\n        if (props.selectOnClick && itemProps.name !== undefined) {\n          this.handleSelectionChange({\n            name: itemProps.name,\n            value: itemProps.value,\n            checked: !itemProps.checked,\n            multiple: itemProps.multiple\n          });\n        }\n\n        this.onChildClick(event, itemProps);\n      }\n\n      if (!this.isSeparator(index)) {\n        this.setFocusedIndex(index);\n      }\n    }\n  }, {\n    key: \"onChildClick\",\n    value: function onChildClick(event, props) {\n      if (this.props.onChildClick) {\n        this.props.onChildClick(event, props);\n      }\n\n      if (this.props.parentMenu) {\n        this.props.parentMenu.onChildClick(event, props);\n      }\n    }\n  }, {\n    key: \"setupShowHideDelay\",\n    value: function setupShowHideDelay() {\n      var _this8 = this;\n\n      var setSubMenu = this.setSubMenu;\n\n      this.setSubMenu = function () {\n        var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            menuOffset = _ref5.menuOffset,\n            index = _ref5.index;\n\n        var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n        if (_this8.showTimeout) {\n          clearTimeout(_this8.showTimeout);\n        }\n\n        if (_this8.hideTimeout) {\n          clearTimeout(_this8.hideTimeout);\n        }\n\n        if (index != null) {\n          if (_this8.props.showSubMenuDelay) {\n            _this8.showTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.showSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        } else {\n          if (_this8.props.hideSubMenuDelay) {\n            _this8.hideTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.hideSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"setupEnterAnimation\",\n    value: function setupEnterAnimation() {\n      var _this9 = this;\n\n      setTimeout(function () {\n        var enableAnimation = _this9.props.enableAnimation && _this9.props.subMenu || _this9.props.enableRootAnimation && !_this9.props.subMenu;\n\n        if (_this9.componentIsMounted) {\n          _this9.setState({\n            hidden: false,\n            enableAnimation: enableAnimation\n          });\n        }\n\n        if (enableAnimation) {\n          setTimeout(function () {\n            if (_this9.componentIsMounted) {\n              _this9.setState({\n                transitionStart: true\n              });\n            }\n\n            setTimeout(function () {\n              if (_this9.componentIsMounted) {\n                _this9.setState({\n                  transitionEnded: true\n                });\n              }\n            }, 16);\n          }, 16);\n        }\n      }, 0);\n    }\n  }, {\n    key: \"checkAlignment\",\n    value: function checkAlignment(props, skipReset, alignTo) {\n      var _this10 = this;\n\n      props = props || this.props;\n      alignTo = alignTo || props.alignTo;\n\n      if (props.visible === false) {\n        return;\n      }\n\n      if ((props.constrainTo || alignTo) && !props.subMenu) {\n        var doAlign = function doAlign() {\n          var props = _this10.props;\n\n          var alignPositions = _this10.getAlignPositions(props);\n\n          var domNode = _this10.node;\n\n          if (!domNode) {\n            return;\n          }\n\n          domNode.style.visibility = '';\n          var alignOffset = (0, _prepareAlignOffset.default)(props.alignOffset);\n\n          var domRegion = _regionAlign.default.from(domNode);\n\n          var actualRegion = domRegion.clone();\n          var constrainRegion = props.constrainTo ? (0, _getConstrainRegion.default)(props.constrainTo, domNode) : null;\n          var positionStyle;\n\n          if (alignTo) {\n            var alignRegion = getAlignToRegion(alignTo, domNode);\n            actualRegion.alignTo(alignRegion, alignPositions, {\n              offset: alignOffset,\n              constrain: constrainRegion\n            });\n            var offsetParent = domNode.offsetParent;\n\n            if (_ua.IS_FF && offsetParent === document.body && getComputedStyle(domNode).position === 'fixed') {\n              offsetParent = null;\n            }\n\n            var offsetParentRect = offsetParent ? null : domNode.getBoundingClientRect();\n\n            var offsetParentRegion = _regionAlign.default.from(offsetParent || {\n              top: offsetParentRect.top,\n              left: offsetParentRect.left\n            });\n\n            var newTop = actualRegion.top - offsetParentRegion.top;\n            var newLeft = actualRegion.left - offsetParentRegion.left;\n            var transform = \"translate3d(\".concat(Math.floor(newLeft), \"px, \").concat(Math.floor(newTop), \"px, 0px)\");\n            positionStyle = {\n              transform: transform,\n              top: 0,\n              left: 0\n            };\n          }\n\n          if (constrainRegion) {\n            positionStyle = positionStyle || {};\n\n            if (actualRegion.bottom >= constrainRegion.bottom) {\n              positionStyle.maxHeight = constrainRegion.bottom - actualRegion.top;\n            }\n          }\n\n          if (positionStyle) {\n            _this10.setState({\n              positionStyle: positionStyle\n            });\n          }\n        };\n\n        if (!skipReset) {\n          this.node.style.transform = 'translate3d(0px, 0px, 0px)';\n          this.node.style.visibility = 'hidden';\n          this.node.style.top = '0px';\n          this.node.style.left = '0px';\n        }\n\n        raf(doAlign);\n      }\n    }\n  }, {\n    key: \"setFocusedIndex\",\n    value: function setFocusedIndex(newFocusedItem) {\n      if (this.props.enableKeyboardNavigation) {\n        var focusedItem = this.state.focusedItem;\n\n        if (focusedItem === newFocusedItem) {\n          newFocusedItem = null;\n        }\n\n        this.scrollItemIntoView(newFocusedItem);\n        this.setState({\n          focusedItem: newFocusedItem\n        });\n      }\n    }\n  }, {\n    key: \"getItemDOMNodeByIndex\",\n    value: function getItemDOMNodeByIndex(index) {\n      var item = this.getItemByIndex(index);\n      var itemNode = item && item.getDOMNode();\n      return itemNode;\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      return this.childrenRefs[index];\n    }\n  }, {\n    key: \"getItemPropsByIndex\",\n    value: function getItemPropsByIndex(index) {\n      var item = this.getItemByIndex(index);\n      return item && item.props;\n    }\n  }, {\n    key: \"getFocusedItemProps\",\n    value: function getFocusedItemProps() {\n      var focusedItemIndex = this.state.focusedItem;\n      var focusedItemProps = this.getItemPropsByIndex(focusedItemIndex);\n      return focusedItemProps;\n    }\n  }, {\n    key: \"getFocusedItem\",\n    value: function getFocusedItem() {\n      return this.state.focusedItem != null && this.getItemByIndex(this.state.focusedItem);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.node) {\n        return;\n      }\n\n      if (this.node.focus) {\n        this.node.focus();\n      }\n    }\n  }, {\n    key: \"hasSubMenuOpened\",\n    value: function hasSubMenuOpened() {\n      return this.state.activeSubMenuIndex != null;\n    }\n  }, {\n    key: \"isSubMenu\",\n    value: function isSubMenu() {\n      return !!this.props.subMenu;\n    }\n  }, {\n    key: \"doesAnyItemHasSubMenu\",\n    value: function doesAnyItemHasSubMenu() {\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n    }\n  }, {\n    key: \"dosAnyItemHaveSelectInput\",\n    value: function dosAnyItemHaveSelectInput() {\n      var _this11 = this;\n\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item[_this11.props.nameProperty];\n      }).length;\n    }\n  }, {\n    key: \"hasGeneralFocus\",\n    value: function hasGeneralFocus() {\n      var hasFocus = this.hasFocus();\n\n      if (hasFocus) {\n        return hasFocus;\n      }\n\n      if (this.hasSubMenuOpened()) {\n        return this.hasSubMenuFocus();\n      }\n\n      return this.hasChildFocus();\n    }\n  }, {\n    key: \"hasSubMenuFocus\",\n    value: function hasSubMenuFocus() {\n      if (this.subMenu) {\n        return this.subMenu.hasFocus();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      return globalObject.document ? this.node === globalObject.document.activeElement : false;\n    }\n  }, {\n    key: \"hasChildFocus\",\n    value: function hasChildFocus() {\n      if (!globalObject.document) {\n        return false;\n      }\n\n      return (0, _containsNode.default)(this.node, globalObject.document.activeElement);\n    }\n  }, {\n    key: \"onSubmenuWillUnmount\",\n    value: function onSubmenuWillUnmount(instance, config) {\n      var _this12 = this;\n\n      if (config && config.hasFocus) {\n        setTimeout(function () {\n          _this12.focus();\n        }, 0);\n      }\n    }\n  }, {\n    key: \"focusFirstItem\",\n    value: function focusFirstItem() {\n      var fistNonDisabledItem = (0, _getFirstNonDisabledItem.default)(this.props.items);\n      this.focusItem(fistNonDisabledItem);\n    }\n  }, {\n    key: \"focusItem\",\n    value: function focusItem(index) {\n      this.focus();\n      this.setFocusedIndex(index);\n    }\n  }, {\n    key: \"getSubmenuNode\",\n    value: function getSubmenuNode() {\n      return this.subMenu && this.subMenu.getNode();\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.isSelectedControlled() ? this.props.selected : this.state.selected;\n    }\n  }, {\n    key: \"isSelectedControlled\",\n    value: function isSelectedControlled() {\n      return this.props.selected !== undefined;\n    }\n  }, {\n    key: \"handleSelectionChange\",\n    value: function handleSelectionChange(_ref6) {\n      var name = _ref6.name,\n          value = _ref6.value,\n          checked = _ref6.checked,\n          multiple = _ref6.multiple;\n\n      var newSelected = _objectSpread({}, this.getSelected());\n\n      var options = {\n        name: name,\n        value: value,\n        checked: checked,\n        multiple: multiple\n      };\n\n      if (!multiple) {\n        newSelected[name] = value;\n      } else if (checked) {\n        newSelected[name] = value === undefined ? name : value;\n      }\n\n      if (!checked) {\n        if (multiple || this.props.allowUnselect) {\n          delete newSelected[name];\n        }\n      }\n\n      this.setSelected(newSelected, options);\n    }\n  }, {\n    key: \"setSelected\",\n    value: function setSelected(newSelected, options) {\n      if (!this.isSelectedControlled()) {\n        this.setState({\n          selected: newSelected\n        });\n      }\n\n      this.props.onSelectionChange(newSelected, options);\n    }\n  }, {\n    key: \"handleSubmenuSelectionChange\",\n    value: function handleSubmenuSelectionChange(selected, options) {\n      this.setSelected(selected, options);\n    }\n  }, {\n    key: \"getExpandedIndex\",\n    value: function getExpandedIndex() {\n      return this.state.activeSubMenuIndex;\n    }\n  }, {\n    key: \"isSeparator\",\n    value: function isSeparator(index) {\n      var props = this.props;\n      var separatorIndexes = (0, _getSeparatorIndexes.default)(props.items);\n      return separatorIndexes.indexOf(index) !== -1;\n    }\n  }]);\n  return InovuaMenu;\n}(_reactClass.default);\n\nInovuaMenu.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-menu',\n  depth: 0,\n  rtl: false,\n  isMenu: true,\n  enableScroll: true,\n  submenuStyle: null,\n  scrollerProps: {},\n  theme: 'default-light',\n  dismissOnClick: true,\n  disableScroller: false,\n  shadow: true,\n  submenuAlignOffset: _submenuAlignPositions.alignOffsetLTR,\n  rtlSubmenuAlignOffset: _submenuAlignPositions.alignOffsetRTL,\n  showSubMenuDelay: 150,\n  hideSubMenuDelay: 150,\n  expanderSize: 10,\n  scrollOnMouseEnter: true,\n  onClick: function onClick() {},\n  onSelectionChange: function onSelectionChange() {},\n  columns: ['label'],\n  items: null,\n  maxHeight: 'auto',\n  scrollArrowIncrementType: 'step',\n  enableAnimation: true,\n  fadeDuration: 100,\n  fadeTransitionFunction: 'ease',\n  enableRootAnimation: false,\n  itemStyle: {},\n  itemOverStyle: {},\n  itemDisabledStyle: {},\n  itemExpandedStyle: {},\n  cellStyle: {},\n  stopClickPropagation: true,\n  stopBlurPropagation: true,\n  scrollProps: {},\n  inTriangleWaitDelay: 300,\n  alignOffset: {\n    x: 0,\n    y: 0\n  },\n  simulateClickOnEnterKeyPress: true,\n  enableKeyboardNavigation: true,\n  defaultFocusedItem: null,\n  autoFocus: false,\n  closeSubMenu: function closeSubMenu() {},\n  closeSubmenuRecursively: function closeSubmenuRecursively() {},\n  onDismiss: function onDismiss() {},\n  componentWillUnmount: function componentWillUnmount() {},\n  componentDidMount: function componentDidMount() {},\n  useMouseInTriangleCheck: false,\n  allowUnselect: false,\n  enableSelection: false,\n  nameProperty: 'name',\n  valueProperty: 'value',\n  selectionInputPosition: 'start',\n  defaultSelected: {},\n  selectOnClick: true,\n  checkIconSize: 16,\n  radioIconSize: 16,\n  notifyResizeDelay: 16,\n  browserNativeSelectInputs: false,\n  showWarnings: !_uglified.default\n};\nInovuaMenu.propTypes = {\n  rootClassName: _propTypes.default.string,\n  items: _propTypes.default.array,\n  columns: _propTypes.default.array,\n  dismissOnClick: _propTypes.default.bool,\n  autoDismiss: _propTypes.default.bool,\n  disableScroller: _propTypes.default.bool,\n  showSubMenuDelay: _propTypes.default.number,\n  hideSubMenuDelay: _propTypes.default.number,\n  notifyResizeDelay: _propTypes.default.number,\n  scrollOnMouseEnter: _propTypes.default.bool,\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.string,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  rowActiveStyle: _propTypes.default.object,\n  rowOverStyle: _propTypes.default.object,\n  rowStyle: _propTypes.default.object,\n  maxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  submenuMaxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  minSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  maxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  onClick: _propTypes.default.func,\n  showScrollArrows: _propTypes.default.bool,\n  scrollProps: _propTypes.default.object,\n  scrollArrowIncrementType: _propTypes.default.oneOf(['step', 'page']),\n  renderScroller: _propTypes.default.func,\n  enableAnimation: _propTypes.default.bool,\n  fadeDuration: _propTypes.default.number,\n  fadeTransitionFunction: _propTypes.default.string,\n  enableRootAnimation: _propTypes.default.bool,\n  itemStyle: _propTypes.default.object,\n  itemClassName: _propTypes.default.string,\n  itemActiveStyle: _propTypes.default.object,\n  itemActiveClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemOverClassName: _propTypes.default.string,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemExpandedStyle: _propTypes.default.object,\n  itemExpandedClassName: _propTypes.default.string,\n  itemFocusedStyle: _propTypes.default.object,\n  itemFocusedClassName: _propTypes.default.string,\n  itemOverFocusedStyle: _propTypes.default.object,\n  visible: _propTypes.default.bool,\n  itemHeight: _propTypes.default.number,\n  cellStyle: _propTypes.default.object,\n  secondaryLabelStyle: _propTypes.default.object,\n  labelStyle: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  alignTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func, _propTypes.default.string]),\n  inTriangleWaitDelay: _propTypes.default.number,\n  alignPositions: _propTypes.default.arrayOf(_propTypes.default.string),\n  alignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object, _propTypes.default.number]),\n  submenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  rtlSubmenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  alignPosition: _propTypes.default.oneOf([1, -1]),\n  rtl: _propTypes.default.bool,\n  enableKeyboardNavigation: _propTypes.default.bool,\n  defaultFocusedItem: _propTypes.default.number,\n  autoFocus: _propTypes.default.bool,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  simulateClickOnEnterKeyPress: _propTypes.default.bool,\n  onChildClick: _propTypes.default.func,\n  onDismiss: _propTypes.default.func,\n  expanderStyle: _propTypes.default.object,\n  depth: _propTypes.default.number,\n  isMenu: _propTypes.default.bool,\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string, _propTypes.default.bool, _propTypes.default.func]),\n  enableScroll: _propTypes.default.bool,\n  submenuStyle: _propTypes.default.object,\n  scrollerProps: _propTypes.default.object,\n  theme: _propTypes.default.string,\n  stopClickPropagation: _propTypes.default.bool,\n  componentWillUnmount: _propTypes.default.func,\n  componentDidMount: _propTypes.default.func,\n  itemStyleProps: _propTypes.default.object,\n  childrenLength: _propTypes.default.number,\n  separatorIndexes: _propTypes.default.string,\n  tableClassName: _propTypes.default.string,\n  shadow: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  stopBlurPropagation: _propTypes.default.bool,\n  submenuProps: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  depthSet: _propTypes.default.bool,\n  subMenu: _propTypes.default.bool,\n  parentIndex: _propTypes.default.number,\n  parentMenu: _propTypes.default.object,\n  onActivate: _propTypes.default.func,\n  onInactivate: _propTypes.default.func,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  overStyle: _propTypes.default.object,\n  activeStyle: _propTypes.default.object,\n  disabledStyle: _propTypes.default.object,\n  expandedStyle: _propTypes.default.object,\n  menuSeparatorStyle: _propTypes.default.object,\n  useMouseInTriangleCheck: _propTypes.default.bool,\n  selected: _propTypes.default.object,\n  defaultSelected: _propTypes.default.object,\n  allowUnselect: _propTypes.default.bool,\n  enableSelection: _propTypes.default.bool,\n  nativeScroll: _propTypes.default.bool,\n  scrollContainerProps: _propTypes.default.object,\n  nameProperty: _propTypes.default.string,\n  valueProperty: _propTypes.default.string,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  onSelectionChange: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  selectOnClick: _propTypes.default.bool,\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  updatePositionOnScroll: _propTypes.default.bool,\n  browserNativeSelectInputs: _propTypes.default.bool\n};\nvar _default = InovuaMenu;\nexports.default = _default;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/ILP-main/node_modules/@inovua/reactdatagrid-community/packages/Menu/src/Menu.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_toConsumableArray2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_propTypes","_reactClass","_regionAlign","_uglified","_shallowequal","_ArrowScroller","_MenuItem","_MenuSeparator","_containsNode","_cleanProps","_join","_assign","_getConstrainRegion","_isMobile","_prepareStyle","_getFirstNonDisabledItem","_getNextNavigableItem","_getSeparatorIndexes","_prepareAlignOffset","_getSingleSelectNames","_increaseColSpan","_getRegionRelativeToParent","_shouldComponentUpdate2","_getSubMenuStyle","_getItemStyleProps","_submenuAlignPositions","_ua","_getGlobal","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","globalObject","getGlobal","emptyFn","raf","requestAnimationFrame","getAlignToRegion","alignTo","node","document","querySelector","from","InovuaMenu","_Component","_super","props","_this","checkAlignment","undefined","updatePositionOnScroll","updatePosition","state","mouseOver","hidden","enableAnimation","transitionEnded","hasScroll","activeSubMenuIndex","nextActiveSubMenuIndex","showUpArrow","showDownArrow","focusedItem","enableKeyboardNavigation","defaultFocusedItem","selected","defaultSelected","setupShowHideDelay","setRootRef","ref","setItemRef","index","childrenRefs","setSubMenuRef","subMenu","setSubMenuWrapRef","subMenuWrap","setScrollerRef","scroller","setTableRef","table","shouldComponentUpdate","nextProps","componentWillUnmount","componentIsMounted","chidrenRefs","hasFocus","depth","componentDidUpdate","prevProps","prevState","autoFocus","focus","visible","setState","positionStyle","constrainTo","componentDidMount","_this2","setupEnterAnimation","window","addEventListener","handleDocumentScroll","passive","render","style","className","prepareClassName","renderTable","scrollerArrow","showScrollArrows","createElement","tabIndex","propTypes","onMouseLeave","handleMouseLeave","onMouseEnter","handleMouseEnter","onKeyDown","handleKeyDown","onBlur","handleOnBlur","renderSubMenu","disableScroller","getScrollerProps","concat","rootClassName","tableClassName","cellSpacing","cellPadding","renderItems","_this3","items","commonProps","getCommonItemProps","siblingItemHasSubMenu","doesAnyItemHasSubMenu","siblingItemHasSelectInput","dosAnyItemHaveSelectInput","hasDescription","item","secondaryLabel","hasIcon","icon","map","menuSeparatorStyle","columns","name","isDescription","secondaryLabelStyle","isIcon","labelStyle","column","hasSubMenu","children","focused","expanded","expandedIndex","itemClassName","selectionProps","getSelectionProps","enableSelection","selectionInputPosition","increaseFirstColumnColSpan","increaseLastColumnColSpan","itemProps","disabled","theme","Component","itemFactory","getSelected","singleSelectNames","nameProperty","valueProperty","multiple","checked","allowUnselect","browserNativeSelectInputs","renderCheckInput","renderRadioInput","_objectSpread2","menuHasSubmenu","itemStyleProps","expanderStyle","expanderSize","globalCellStyle","cellStyle","itemDisabledStyle","itemDisabledClassName","itemOverStyle","itemActiveStyle","showWarnings","titleStyle","onMenuItemClick","onMenuItemMouseEnter","onMenuItemMouseLeave","onSubmenuWillUnmount","onMenuItemExpanderClick","handleSelectionChange","selectOnClick","expander","rtl","itemHeight","checkIconSize","radioIconSize","closeSubmenuRecursively","closeSubMenu","getExpandedIndex","domNode","menuProps","getSubMenuProps","wrapperStyle","bind","alignPositions","getDefaultAlignPositions","wrapperClassName","handleSubMenuMouseEnter","handleSubMenuMouseLeave","hasItemSubMenu","getItemsByIndex","overridingProps","submenuProps","onDismiss","parentMenu","submenuWillUnmount","parentIndex","maxHeight","submenuMaxHeight","onActivate","onSubMenuActivate","onInactivate","onSubMenuInactivate","scrollerProps","onSelectionChange","handleSubmenuSelectionChange","alignPosition","submenuAlignPosition","onClick","onChildClick","getAlignPositions","alignPositionRTL","alignPositionLTR","_this4","_objectSpread3","submenu","scrollProps","renderScroller","nativeScroll","scrollContainerProps","notifyResizeDelay","vertical","scrollOnMouseEnter","onHasScrollChange","absolute","shadow","position","transitionStart","event","mouseInside","setNextSubmenu","stop","stopPropagation","handleArrowUp","handleArrowDown","handleArrowLeft","handleArrowRight","handleEnterOnFocusedItem","handleSpaceOnFocusedItem","lastItemIndex","focusedItemIndex","newFocusedItemIndex","setFocusedIndex","openSubMenuAction","closeSubMenuAction","getFocusedItem","simulateClickOnEnterKeyPress","handleClick","activeItemProps","getFocusedItemProps","_this5","stopBlurPropagation","preventOnBlurRecursiveClose","dismissTriggeredByBlur","setTimeout","hasGeneralFocus","dismiss","IS_IE","hideSubMenuDelay","scrollItemIntoView","itemNode","getItemDOMNodeByIndex","scrollIntoView","hasSubMenuOpened","isSubMenu","getItemByIndex","hasSubmenu","focusFirstItem","menuOffset","getOffset","setSubMenu","activated","options","mouseOverSubMenu","isSubMenuActive","subMenuActive","closeSubmenuTimeout","clearTimeout","submenuConfig","_this6","ts","Date","nextItem","nextTimestamp","timestamp","nextOffset","mouseHasEnteredSubmenuParentItem","itemOverIndex","_ref","_ref2","leaveOffset","elementAtMousePosition","elementFromPoint","x","y","delayCloseSubmenu","showTimeout","_this7","closeSubmenuTimeoutId","removeMouseMoveListener","onWindowMouseMove","removeEventListener","_ref3","_ref3$index","callback","_ref4","_ref4$menuOffset","_ref4$index","nativeEvent","expanderClick","stopped","isPropagationStopped","stopClickPropagation","offset","pageX","pageY","currentTarget","onTouchStart","dismissOnClick","autoDismiss","isSeparator","_this8","_ref5","hideTimeout","showSubMenuDelay","_this9","enableRootAnimation","skipReset","_this10","doAlign","visibility","alignOffset","domRegion","actualRegion","clone","constrainRegion","alignRegion","constrain","offsetParent","IS_FF","body","getComputedStyle","offsetParentRect","getBoundingClientRect","offsetParentRegion","top","left","newTop","newLeft","transform","Math","floor","bottom","newFocusedItem","getDOMNode","getItemPropsByIndex","focusedItemProps","_this11","hasSubMenuFocus","hasChildFocus","activeElement","instance","config","_this12","fistNonDisabledItem","focusItem","getSubmenuNode","getNode","isSelectedControlled","_ref6","newSelected","setSelected","separatorIndexes","indexOf","defaultProps","isMenu","enableScroll","submenuStyle","submenuAlignOffset","alignOffsetLTR","rtlSubmenuAlignOffset","alignOffsetRTL","scrollArrowIncrementType","fadeDuration","fadeTransitionFunction","itemStyle","itemExpandedStyle","inTriangleWaitDelay","useMouseInTriangleCheck","string","array","bool","number","padding","oneOfType","border","borderRadius","rowActiveStyle","rowOverStyle","rowStyle","minSize","shape","height","width","maxSize","func","oneOf","itemActiveClassName","itemOverClassName","itemExpandedClassName","itemFocusedStyle","itemFocusedClassName","itemOverFocusedStyle","arrayOf","childrenLength","depthSet","overStyle","activeStyle","disabledStyle","expandedStyle","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../packages/react-class\"));\n\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../packages/uglified\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../common/shallowequal\"));\n\nvar _ArrowScroller = _interopRequireDefault(require(\"../../ArrowScroller\"));\n\nvar _MenuItem = _interopRequireDefault(require(\"./MenuItem\"));\n\nvar _MenuSeparator = _interopRequireDefault(require(\"./MenuSeparator\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../common/assign\"));\n\nvar _getConstrainRegion = _interopRequireDefault(require(\"../../../common/getConstrainRegion\"));\n\nvar _isMobile = _interopRequireDefault(require(\"../../../common/isMobile\"));\n\nvar _prepareStyle = _interopRequireDefault(require(\"./utils/prepareStyle\"));\n\nvar _getFirstNonDisabledItem = _interopRequireDefault(require(\"./utils/getFirstNonDisabledItem\"));\n\nvar _getNextNavigableItem = _interopRequireDefault(require(\"./utils/getNextNavigableItem\"));\n\nvar _getSeparatorIndexes = _interopRequireDefault(require(\"./utils/getSeparatorIndexes\"));\n\nvar _prepareAlignOffset = _interopRequireDefault(require(\"./utils/prepareAlignOffset\"));\n\nvar _getSingleSelectNames = _interopRequireDefault(require(\"./utils/getSingleSelectNames\"));\n\nvar _increaseColSpan = require(\"./utils/increaseColSpan\");\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"./getRegionRelativeToParent\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../common/shouldComponentUpdate\"));\n\nvar _getSubMenuStyle = _interopRequireDefault(require(\"./getSubMenuStyle\"));\n\nvar _getItemStyleProps = _interopRequireDefault(require(\"./utils/getItemStyleProps\"));\n\nvar _submenuAlignPositions = require(\"./submenuAlignPositions\");\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _getGlobal = require(\"../../../getGlobal\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar globalObject = (0, _getGlobal.getGlobal)();\n\nfunction emptyFn() {}\n\nvar raf = globalObject.requestAnimationFrame;\n\nvar getAlignToRegion = function getAlignToRegion(alignTo, node) {\n  if (typeof alignTo === 'function') {\n    alignTo = alignTo(node);\n  }\n\n  if (typeof alignTo == 'string') {\n    alignTo = globalObject.document ? globalObject.document.querySelector(alignTo) : alignTo;\n  }\n\n  return _regionAlign.default.from(alignTo);\n};\n\nvar InovuaMenu = function (_Component) {\n  (0, _inherits2.default)(InovuaMenu, _Component);\n\n  var _super = _createSuper(InovuaMenu);\n\n  function InovuaMenu(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaMenu);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updatePosition\", function () {\n      _this.checkAlignment(undefined, true);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updateAlignment\", function (alignTo) {\n      _this.checkAlignment(undefined, true, alignTo);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleDocumentScroll\", function () {\n      if (_this.props.updatePositionOnScroll) {\n        _this.updatePosition();\n      }\n    });\n    _this.state = {\n      mouseOver: false,\n      hidden: true,\n      enableAnimation: false,\n      transitionEnded: false,\n      hasScroll: false,\n      activeSubMenuIndex: null,\n      nextActiveSubMenuIndex: null,\n      showUpArrow: false,\n      showDownArrow: true,\n      focusedItem: props.enableKeyboardNavigation ? props.defaultFocusedItem : null,\n      selected: props.defaultSelected\n    };\n\n    _this.setupShowHideDelay();\n\n    _this.setRootRef = function (ref) {\n      _this.node = ref;\n    };\n\n    _this.setItemRef = function (index) {\n      return function (ref) {\n        if (!_this.childrenRefs) {\n          _this.childrenRefs = [];\n        }\n\n        _this.childrenRefs[index] = ref;\n      };\n    };\n\n    _this.setSubMenuRef = function (ref) {\n      _this.subMenu = ref;\n    };\n\n    _this.setSubMenuWrapRef = function (ref) {\n      _this.subMenuWrap = ref;\n    };\n\n    _this.setScrollerRef = function (ref) {\n      _this.scroller = ref;\n    };\n\n    _this.setTableRef = function (ref) {\n      _this.table = ref;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaMenu, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n      this.chidrenRefs = null;\n      this.props.componentWillUnmount(this, {\n        hasFocus: this.hasFocus(),\n        depth: this.props.depth\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.autoFocus && prevState.hidden && !this.state.hidden) {\n        this.focus();\n      }\n\n      if (prevProps.visible && !this.props.visible) {\n        this.setState({\n          positionStyle: null\n        });\n      }\n\n      if (!prevProps.visible && this.props.visible || !(0, _shallowequal.default)(prevProps.alignTo, this.props.alignTo) || this.props.constrainTo != prevProps.constrainTo) {\n        this.checkAlignment(this.props);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.componentIsMounted = true;\n\n      if (this.props.visible === false) {\n        return;\n      }\n\n      if (this.props.componentDidMount) {\n        this.props.componentDidMount(this);\n      }\n\n      this.checkAlignment();\n      this.setupEnterAnimation();\n\n      if (this.props.autoFocus) {\n        requestAnimationFrame(function () {\n          _this2.focus();\n        });\n      }\n\n      if (this.props.updatePositionOnScroll) {\n        window.addEventListener('scroll', this.handleDocumentScroll, {\n          passive: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props;\n      var style = (0, _prepareStyle.default)(props, state);\n      var className = this.prepareClassName(props, state);\n      var table = this.renderTable();\n      var scrollerArrow = props.showScrollArrows === undefined ? 'auto' : !!props.showScrollArrows;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({\n        tabIndex: 0\n      }, (0, _cleanProps.default)(props, InovuaMenu.propTypes)), {}, {\n        ref: this.setRootRef,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseEnter: this.handleMouseEnter,\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.handleOnBlur,\n        className: className,\n        style: style\n      }), this.state.activeSubMenuIndex !== null && this.renderSubMenu(props, state), props.disableScroller ? table : _react.default.createElement(_ArrowScroller.default, _objectSpread({\n        scroller: scrollerArrow\n      }, this.getScrollerProps()), table));\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable() {\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__table\"), props.tableClassName);\n      return _react.default.createElement(\"table\", {\n        cellSpacing: 0,\n        cellPadding: 0,\n        className: className,\n        ref: this.setTableRef\n      }, _react.default.createElement(\"tbody\", null, this.renderItems()));\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this3 = this;\n\n      var props = this.props,\n          state = this.state;\n\n      if (!props.items) {\n        return null;\n      }\n\n      var commonProps = this.getCommonItemProps();\n      var siblingItemHasSubMenu = this.doesAnyItemHasSubMenu();\n      var siblingItemHasSelectInput = this.dosAnyItemHaveSelectInput();\n      var hasDescription = props.items.filter(function (item) {\n        return !!item.secondaryLabel;\n      }).length;\n      var hasIcon = props.items.filter(function (item) {\n        return !!item.icon;\n      }).length;\n      return props.items.map(function (item, index, items) {\n        if (item === '-') {\n          return _react.default.createElement(_MenuSeparator.default, {\n            style: props.menuSeparatorStyle,\n            key: index,\n            rootClassName: props.rootClassName\n          });\n        }\n\n        var columns = props.columns;\n\n        if (hasDescription) {\n          columns = [].concat((0, _toConsumableArray2.default)(columns), [{\n            name: 'secondaryLabel',\n            isDescription: true,\n            style: _objectSpread(_objectSpread({}, props.secondaryLabelStyle), item.secondaryLabelStyle)\n          }]);\n        }\n\n        if (hasIcon) {\n          columns = [{\n            name: 'icon',\n            isIcon: true\n          }].concat((0, _toConsumableArray2.default)(columns));\n        }\n\n        if (props.labelStyle || item.labelStyle) {\n          columns = columns.map(function (column) {\n            if (!column) {\n              return column;\n            }\n\n            if (typeof column === 'string' && column === 'label') {\n              return {\n                name: 'label',\n                style: _objectSpread(_objectSpread({}, props.labelStyle), item.labelStyle)\n              };\n            }\n\n            if (column && column.name && column.name === 'label') {\n              return _objectSpread(_objectSpread({}, column), {}, {\n                style: _objectSpread(_objectSpread({}, columns.style), props.labelStyle)\n              });\n            }\n\n            return column;\n          });\n        }\n\n        var hasSubMenu = item.items && !!item.items.length || item.children && !!item.children.length;\n        var focused = state.focusedItem === index;\n        var expanded = commonProps.expandedIndex === index;\n        var className = props.itemClassName;\n\n        var selectionProps = _this3.getSelectionProps(item);\n\n        if (props.enableSelection && siblingItemHasSelectInput && !selectionProps) {\n          if (props.selectionInputPosition === 'start') {\n            columns = (0, _increaseColSpan.increaseFirstColumnColSpan)(columns);\n          } else {\n            columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n          }\n        }\n\n        if (!hasSubMenu && siblingItemHasSubMenu) {\n          columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n        }\n\n        var itemProps = _objectSpread(_objectSpread(_objectSpread({\n          index: index,\n          item: item,\n          hasSubMenu: hasSubMenu,\n          items: items,\n          focused: focused,\n          expanded: expanded,\n          className: className,\n          columns: columns,\n          key: index,\n          disabled: item.disabled,\n          theme: props.theme,\n          ref: _this3.setItemRef(index)\n        }, commonProps), selectionProps), item.props);\n\n        var Component = props.itemFactory || _MenuItem.default;\n        return _react.default.createElement(Component, _objectSpread({}, itemProps));\n      });\n    }\n  }, {\n    key: \"getSelectionProps\",\n    value: function getSelectionProps(item) {\n      var props = this.props;\n\n      if (!props.items || props.items && !props.items.length) {\n        return null;\n      }\n\n      var selected = this.getSelected();\n      var singleSelectNames = (0, _getSingleSelectNames.default)({\n        items: props.items,\n        nameProperty: props.nameProperty\n      });\n      var selectionProps;\n\n      if (props.enableSelection) {\n        var value = item[props.valueProperty];\n        var name = item[props.nameProperty];\n        var multiple = singleSelectNames && !singleSelectNames[name];\n        var checked = multiple ? value !== undefined ? selected[name] === value : selected[name] === name : selected[name] === value;\n\n        if (name) {\n          selectionProps = {\n            name: name,\n            value: value,\n            checked: checked,\n            multiple: multiple,\n            allowUnselect: props.allowUnselect,\n            enableSelection: true,\n            browserNativeSelectInputs: props.browserNativeSelectInputs,\n            renderCheckInput: item.renderCheckInput !== undefined ? item.renderCheckInput : props.renderCheckInput,\n            renderRadioInput: item.renderRadioInput !== undefined ? item.renderRadioInput : props.renderRadioInput,\n            selectionInputPosition: item.selectionInputPosition !== undefined ? item.selectionInputPosition : props.selectionInputPosition\n          };\n        }\n      }\n\n      return selectionProps;\n    }\n  }, {\n    key: \"getCommonItemProps\",\n    value: function getCommonItemProps() {\n      var _objectSpread2;\n\n      var props = this.props;\n      var menuHasSubmenu = !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n      var itemStyleProps = (0, _getItemStyleProps.default)(props);\n      return _objectSpread((_objectSpread2 = {\n        menuHasSubmenu: menuHasSubmenu,\n        expanderStyle: props.expanderStyle,\n        expanderSize: props.expanderSize,\n        globalCellStyle: props.cellStyle,\n        itemDisabledStyle: props.itemDisabledStyle,\n        itemDisabledClassName: props.itemDisabledClassName,\n        itemOverStyle: props.itemOverStyle,\n        itemActiveStyle: props.itemActiveStyle\n      }, (0, _defineProperty2.default)(_objectSpread2, \"menuHasSubmenu\", props.menuHasSubmenu), (0, _defineProperty2.default)(_objectSpread2, \"rootClassName\", props.rootClassName), (0, _defineProperty2.default)(_objectSpread2, \"showWarnings\", props.showWarnings), (0, _defineProperty2.default)(_objectSpread2, \"titleStyle\", props.titleStyle), (0, _defineProperty2.default)(_objectSpread2, \"onClick\", this.onMenuItemClick), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOver\", this.onMenuItemMouseEnter), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOut\", this.onMenuItemMouseLeave), (0, _defineProperty2.default)(_objectSpread2, \"submenuWillUnmount\", this.onSubmenuWillUnmount), (0, _defineProperty2.default)(_objectSpread2, \"onExpanderClick\", this.onMenuItemExpanderClick), (0, _defineProperty2.default)(_objectSpread2, \"onSelectChange\", this.handleSelectionChange), (0, _defineProperty2.default)(_objectSpread2, \"selectOnClick\", props.selectOnClick), (0, _defineProperty2.default)(_objectSpread2, \"expander\", props.expander), (0, _defineProperty2.default)(_objectSpread2, \"rtl\", props.rtl), (0, _defineProperty2.default)(_objectSpread2, \"height\", props.itemHeight), (0, _defineProperty2.default)(_objectSpread2, \"checkIconSize\", props.checkIconSize), (0, _defineProperty2.default)(_objectSpread2, \"radioIconSize\", props.radioIconSize), (0, _defineProperty2.default)(_objectSpread2, \"closeSubmenuRecursively\", this.closeSubmenuRecursively), (0, _defineProperty2.default)(_objectSpread2, \"closeSubMenu\", this.closeSubMenu), (0, _defineProperty2.default)(_objectSpread2, \"expandedIndex\", this.getExpandedIndex()), _objectSpread2), itemStyleProps);\n    }\n  }, {\n    key: \"renderSubMenu\",\n    value: function renderSubMenu(props, state) {\n      var domNode = this.node;\n      var menuProps = this.getSubMenuProps();\n\n      var wrapperStyle = _getSubMenuStyle.default.bind(this)(_objectSpread(_objectSpread({}, props), {}, {\n        alignPositions: this.getDefaultAlignPositions()\n      }), state, domNode);\n\n      var wrapperClassName = \"\".concat(this.props.rootClassName, \"__submenu-wrapper\");\n      return _react.default.createElement(\"div\", {\n        className: wrapperClassName,\n        ref: this.setSubMenuWrapRef,\n        style: wrapperStyle,\n        onMouseEnter: this.handleSubMenuMouseEnter,\n        onMouseLeave: this.handleSubMenuMouseLeave\n      }, _react.default.createElement(InovuaMenu, _objectSpread({\n        key: state.activeSubMenuIndex\n      }, menuProps)));\n    }\n  }, {\n    key: \"hasItemSubMenu\",\n    value: function hasItemSubMenu(index) {\n      var items = this.getItemsByIndex(index);\n      return items && items.length;\n    }\n  }, {\n    key: \"getItemsByIndex\",\n    value: function getItemsByIndex(index) {\n      var item = this.props.items && this.props.items[index];\n\n      if (!item) {\n        return null;\n      }\n\n      var items = item && item.items;\n      return items;\n    }\n  }, {\n    key: \"getSubMenuProps\",\n    value: function getSubMenuProps() {\n      var props = this.props,\n          state = this.state;\n      var index = this.state.activeSubMenuIndex;\n      var items = this.getItemsByIndex(index);\n      var item = this.props.items[index];\n\n      var overridingProps = _objectSpread(_objectSpread({}, this.props.submenuProps), item.menuProps);\n\n      if (overridingProps.selected === undefined && overridingProps.defaultSelected === undefined) {\n        overridingProps.selected = this.getSelected();\n      }\n\n      var menuProps = _objectSpread(_objectSpread(_objectSpread({}, this.props), {}, {\n        onDismiss: emptyFn\n      }, overridingProps), {}, {\n        items: items,\n        depth: props.depth + 1,\n        ref: this.setSubMenuRef,\n        subMenu: true,\n        parentMenu: this,\n        closeSubMenu: this.closeSubMenu,\n        closeSubmenuRecursively: this.closeSubmenuRecursively,\n        componentWillUnmount: this.submenuWillUnmount,\n        parentIndex: index,\n        maxHeight: state.submenuMaxHeight || props.submenuMaxHeight || state.maxHeight || props.maxHeight,\n        onActivate: this.onSubMenuActivate,\n        onInactivate: this.onSubMenuInactivate,\n        scrollerProps: props.scrollerProps,\n        constrainTo: props.constrainTo,\n        expander: props.expander,\n        onSelectionChange: this.handleSubmenuSelectionChange,\n        alignPosition: state.submenuAlignPosition\n      });\n\n      delete menuProps.autoFocus;\n      delete menuProps.className;\n      delete menuProps.onClick;\n      delete menuProps.defaultFocusedItem;\n      delete menuProps.onChildClick;\n      delete menuProps.visible;\n      return menuProps;\n    }\n  }, {\n    key: \"getAlignPositions\",\n    value: function getAlignPositions(props) {\n      if (props.alignPositions == null) {\n        return this.getDefaultAlignPositions();\n      }\n\n      return props.alignPositions;\n    }\n  }, {\n    key: \"getDefaultAlignPositions\",\n    value: function getDefaultAlignPositions() {\n      var props = this.props;\n      return props.rtl ? _submenuAlignPositions.alignPositionRTL : _submenuAlignPositions.alignPositionLTR;\n    }\n  }, {\n    key: \"getScrollerProps\",\n    value: function getScrollerProps() {\n      var _this4 = this,\n          _objectSpread3;\n\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(props.scrollerProps.className, \"\".concat(props.rootClassName, \"__scroll-container\"));\n      var style = (0, _assign.default)({}, props.scrollerProps.style);\n      var maxHeight = state.maxHeight != undefined && props.submenu ? state.maxHeight : props.maxHeight;\n\n      if (maxHeight != null) {\n        (0, _assign.default)(style, {\n          maxHeight: maxHeight\n        });\n      }\n\n      var scrollProps = _objectSpread(_objectSpread({}, props.scrollerProps), {}, (_objectSpread3 = {\n        renderScroller: props.renderScroller,\n        nativeScroll: props.nativeScroll,\n        scrollContainerProps: props.scrollContainerProps,\n        className: className,\n        notifyResizeDelay: props.notifyResizeDelay,\n        ref: this.setScrollerRef,\n        style: style,\n        theme: props.theme,\n        vertical: true\n      }, (0, _defineProperty2.default)(_objectSpread3, \"theme\", props.theme), (0, _defineProperty2.default)(_objectSpread3, \"scrollOnMouseEnter\", props.scrollOnMouseEnter), (0, _defineProperty2.default)(_objectSpread3, \"onHasScrollChange\", function onHasScrollChange(hasScroll) {\n        return _this4.setState({\n          hasScroll: hasScroll\n        });\n      }), _objectSpread3));\n\n      return scrollProps;\n    }\n  }, {\n    key: \"prepareClassName\",\n    value: function prepareClassName(props, state) {\n      var hidden = props.visible != undefined ? !props.visible : state.hidden;\n      var className = (0, _join.default)(props.rootClassName, props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), props.className, !props.visible || props.items && !props.items.length && \"\".concat(props.rootClassName, \"--no-display\"), props.absolute && \"\".concat(props.rootClassName, \"--absolute\"), !props.rtl ? \"\".concat(props.rootClassName, \"--ltr\") : \"\".concat(props.rootClassName, \"--rtl\"), hidden && \"\".concat(props.rootClassName, \"--hidden\"), _isMobile.default && \"\".concat(props.rootClassName, \"--mobile\"), props.subMenu && \"\".concat(props.rootClassName, \"__submenu\"), \"\".concat(props.rootClassName, \"--depth-\").concat(props.depth), state.hasScroll && \"\".concat(props.rootClassName, \"--has-overflow\"), props.shadow && \"\".concat(props.rootClassName, \"--shadow\"), state.hasScroll && \"\".concat(props.rootClassName, \"--has-scroll\"));\n\n      if (props.alignPosition !== undefined) {\n        var position = props.alignPosition === 1 ? 'up' : 'down';\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--position-\").concat(position));\n      }\n\n      if (state.enableAnimation) {\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--animation-enabled\"), state.transitionEnded && \"\".concat(props.rootClassName, \"--transition-end\"), state.transitionStart && \"\".concat(props.rootClassName, \"--transition-start\"));\n      }\n\n      return className;\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      if (typeof this.props.onMouseEnter === 'function') {\n        this.props.onMouseEnter(event);\n      }\n\n      this.setState({\n        mouseInside: true\n      });\n      this.onActivate();\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      if (typeof this.props.onMouseLeave === 'function') {\n        this.props.onMouseLeave(event);\n      }\n\n      this.setNextSubmenu();\n      this.setState({\n        mouseInside: false\n      });\n\n      if (!this.state.activeSubMenuIndex && !this.state.nextActiveSubMenuIndex) {\n        this.onInactivate({\n          hasFocus: this.hasFocus(),\n          parentIndex: this.props.parentIndex\n        });\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      if (typeof this.props.onKeyDown === 'function') {\n        this.props.onKeyDown(event);\n      }\n\n      if (!this.props.enableKeyboardNavigation) {\n        return;\n      }\n\n      var stop = function stop(event) {\n        event.stopPropagation();\n      };\n\n      stop(event);\n\n      switch (event.key) {\n        case 'ArrowUp':\n          this.handleArrowUp(event);\n          break;\n\n        case 'ArrowDown':\n          this.handleArrowDown(event);\n          break;\n\n        case 'ArrowLeft':\n          this.handleArrowLeft(event);\n          break;\n\n        case 'ArrowRight':\n          this.handleArrowRight(event);\n          break;\n\n        case 'Enter':\n          this.handleEnterOnFocusedItem(event);\n          break;\n\n        case ' ':\n          this.handleSpaceOnFocusedItem(event);\n          break;\n      }\n    }\n  }, {\n    key: \"handleArrowUp\",\n    value: function handleArrowUp(event) {\n      var lastItemIndex = this.props.items && this.props.items.length ? this.props.items.length : null;\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : lastItemIndex;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, -1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowDown\",\n    value: function handleArrowDown(event) {\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : -1;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, 1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowLeft\",\n    value: function handleArrowLeft(event) {\n      if (this.props.rtl) {\n        this.openSubMenuAction(this.state.focusedItem);\n      } else {\n        this.closeSubMenuAction();\n      }\n    }\n  }, {\n    key: \"handleArrowRight\",\n    value: function handleArrowRight(event) {\n      if (this.props.rtl) {\n        this.closeSubMenuAction();\n      } else {\n        this.openSubMenuAction(this.state.focusedItem);\n      }\n    }\n  }, {\n    key: \"handleEnterOnFocusedItem\",\n    value: function handleEnterOnFocusedItem(event) {\n      var focusedItem = this.getFocusedItem();\n\n      if (this.props.simulateClickOnEnterKeyPress && focusedItem != null && typeof focusedItem.handleClick === 'function') {\n        focusedItem.handleClick({\n          stopPropagation: function stopPropagation() {}\n        });\n      }\n    }\n  }, {\n    key: \"handleSpaceOnFocusedItem\",\n    value: function handleSpaceOnFocusedItem() {\n      var activeItemProps = this.getFocusedItemProps();\n\n      if (!activeItemProps) {\n        return;\n      }\n\n      this.handleSelectionChange({\n        name: activeItemProps.name,\n        value: activeItemProps.value,\n        checked: !activeItemProps.checked,\n        multiple: activeItemProps.multiple\n      });\n    }\n  }, {\n    key: \"handleOnBlur\",\n    value: function handleOnBlur(event) {\n      var _this5 = this;\n\n      if (typeof this.props.onBlur === 'function') {\n        this.props.onBlur(event);\n      }\n\n      if (this.props.stopBlurPropagation) {\n        event.stopPropagation();\n      }\n\n      if (this.preventOnBlurRecursiveClose) {\n        return;\n      }\n\n      this.dismissTriggeredByBlur = true;\n      setTimeout(function () {\n        if (!_this5.hasGeneralFocus()) {\n          _this5.dismiss(event);\n        }\n      }, _ua.IS_IE ? this.props.hideSubMenuDelay : 20);\n    }\n  }, {\n    key: \"dismiss\",\n    value: function dismiss(event) {\n      this.closeSubmenuRecursively();\n      this.props.onDismiss(event);\n    }\n  }, {\n    key: \"scrollItemIntoView\",\n    value: function scrollItemIntoView(index) {\n      var itemNode = this.getItemDOMNodeByIndex(index);\n\n      if (!this.scroller || !itemNode) {\n        return;\n      }\n\n      this.scroller.scrollIntoView(itemNode);\n    }\n  }, {\n    key: \"closeSubmenuRecursively\",\n    value: function closeSubmenuRecursively() {\n      this.closeSubMenu();\n      this.props.closeSubmenuRecursively();\n    }\n  }, {\n    key: \"closeSubMenuAction\",\n    value: function closeSubMenuAction() {\n      if (this.hasSubMenuOpened()) {\n        this.closeSubMenu();\n      } else if (this.isSubMenu()) {\n        this.preventOnBlurRecursiveClose = true;\n        this.props.closeSubMenu({\n          autoFocus: true\n        });\n      }\n    }\n  }, {\n    key: \"openSubMenuAction\",\n    value: function openSubMenuAction(focusedItemIndex) {\n      var focusedItem = this.getItemByIndex(focusedItemIndex);\n\n      if (!focusedItem) {\n        return;\n      }\n\n      if (focusedItem && !focusedItem.hasSubmenu()) {\n        return;\n      }\n\n      if (focusedItemIndex === this.state.activeSubMenuIndex) {\n        this.subMenu && this.subMenu.focusFirstItem();\n        return;\n      }\n\n      var menuOffset = focusedItem && focusedItem.getOffset();\n      this.setSubMenu({\n        menuOffset: menuOffset,\n        index: focusedItemIndex\n      });\n    }\n  }, {\n    key: \"onActivate\",\n    value: function onActivate() {\n      if (!this.state.activated) {\n        this.setState({\n          activated: true\n        });\n\n        if (this.props.onActivate) {\n          this.props.onActivate();\n        }\n      }\n    }\n  }, {\n    key: \"onInactivate\",\n    value: function onInactivate(options) {\n      if (this.state.activated) {\n        this.setState({\n          activated: false\n        });\n\n        if (this.props.onInactivate) {\n          this.props.onInactivate(options);\n        }\n      }\n    }\n  }, {\n    key: \"handleSubMenuMouseEnter\",\n    value: function handleSubMenuMouseEnter() {\n      this.setState({\n        mouseOverSubMenu: true\n      });\n    }\n  }, {\n    key: \"handleSubMenuMouseLeave\",\n    value: function handleSubMenuMouseLeave() {\n      this.setState({\n        mouseOverSubMenu: false\n      });\n    }\n  }, {\n    key: \"isSubMenuActive\",\n    value: function isSubMenuActive() {\n      return this.state.subMenuActive;\n    }\n  }, {\n    key: \"onSubMenuActivate\",\n    value: function onSubMenuActivate() {\n      this.setState({\n        subMenuActive: true\n      });\n\n      if (this.closeSubmenuTimeout) {\n        clearTimeout(this.closeSubmenuTimeout);\n      }\n    }\n  }, {\n    key: \"onSubMenuInactivate\",\n    value: function onSubMenuInactivate(submenuConfig) {\n      var _this6 = this;\n\n      var ts = +new Date();\n      var nextItem = this.state.nextItem;\n      var nextTimestamp = this.state.nextTimestamp || 0;\n      this.setState({\n        subMenuActive: false,\n        timestamp: ts\n      }, function () {\n        setTimeout(function () {\n          if (ts != _this6.state.timestamp || nextItem && ts - nextTimestamp < 100) {\n            _this6.setSubMenu({\n              menuOffset: _this6.state.nextOffset,\n              index: _this6.state.nextActiveSubMenuIndex\n            }, function () {\n              _this6.focus();\n            });\n\n            return;\n          } else {\n            _this6.focus();\n          }\n\n          var mouseHasEnteredSubmenuParentItem = submenuConfig && submenuConfig.parentIndex === _this6.itemOverIndex;\n\n          if (!_this6.isSubMenuActive() && !mouseHasEnteredSubmenuParentItem) {\n            _this6.closeSubMenu({\n              autoFocus: submenuConfig && submenuConfig.hasFocus\n            });\n          }\n        }, 10);\n      });\n    }\n  }, {\n    key: \"onMenuItemMouseEnter\",\n    value: function onMenuItemMouseEnter(_ref) {\n      var menuOffset = _ref.menuOffset,\n          index = _ref.index,\n          hasSubMenu = _ref.hasSubMenu;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      this.itemOverIndex = index;\n\n      if (!hasSubMenu) {\n        if (this.state.activeSubMenuIndex != null) {\n          this.setNextSubmenu({\n            menuOffset: null,\n            index: null\n          });\n        }\n\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex == null) {\n        this.setSubMenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      } else {\n        this.setNextSubmenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      }\n    }\n  }, {\n    key: \"onMenuItemMouseLeave\",\n    value: function onMenuItemMouseLeave(_ref2) {\n      var leaveOffset = _ref2.leaveOffset,\n          index = _ref2.index,\n          event = _ref2.event;\n\n      if (this.itemOverIndex === index) {\n        this.itemOverIndex = null;\n      }\n\n      if (!leaveOffset) {\n        return;\n      }\n\n      var elementAtMousePosition = globalObject.document.elementFromPoint(leaveOffset.x, leaveOffset.y);\n\n      if (elementAtMousePosition === this.subMenuWrap || (0, _containsNode.default)(this.subMenuWrap, elementAtMousePosition)) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex !== null) {\n        this.delayCloseSubmenu(leaveOffset);\n      }\n\n      if (this.showTimeout) {\n        clearTimeout(this.showTimeout);\n      }\n    }\n  }, {\n    key: \"delayCloseSubmenu\",\n    value: function delayCloseSubmenu() {\n      var _this7 = this;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.closeSubmenuTimeoutId) {\n        return;\n      }\n\n      this.closeSubmenuTimeout = setTimeout(function () {\n        _this7.closeSubmenuTimeout = null;\n\n        _this7.setSubMenu({\n          menuOffset: _this7.state.nextOffset,\n          index: _this7.state.nextActiveSubMenuIndex\n        });\n      }, 100);\n    }\n  }, {\n    key: \"removeMouseMoveListener\",\n    value: function removeMouseMoveListener() {\n      if (this.onWindowMouseMove) {\n        globalObject.removeEventListener('mousemove', this.onWindowMouseMove);\n        this.onWindowMouseMove = null;\n      }\n    }\n  }, {\n    key: \"setSubMenu\",\n    value: function setSubMenu() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          menuOffset = _ref3.menuOffset,\n          _ref3$index = _ref3.index,\n          index = _ref3$index === void 0 ? null : _ref3$index;\n\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      this.removeMouseMoveListener();\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex === index) {\n        if (callback) {\n          callback();\n        }\n\n        return;\n      }\n\n      if (this.hasItemSubMenu(index) && !this.state.mouseInside) {\n        this.onInactivate();\n      }\n\n      this.setState({\n        menuOffset: menuOffset,\n        activeSubMenuIndex: index,\n        nextOffset: null,\n        nextTimestamp: null,\n        timestamp: +new Date()\n      }, callback);\n    }\n  }, {\n    key: \"setNextSubmenu\",\n    value: function setNextSubmenu() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$menuOffset = _ref4.menuOffset,\n          menuOffset = _ref4$menuOffset === void 0 ? null : _ref4$menuOffset,\n          _ref4$index = _ref4.index,\n          index = _ref4$index === void 0 ? null : _ref4$index;\n\n      var ts = +new Date();\n      this.setState({\n        timestamp: ts,\n        nextOffset: menuOffset,\n        nextActiveSubMenuIndex: index,\n        nextTimestamp: +new Date()\n      });\n    }\n  }, {\n    key: \"closeSubMenu\",\n    value: function closeSubMenu(options) {\n      return;\n      this.setSubMenu();\n\n      if (options && options.autoFocus) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onMenuItemExpanderClick\",\n    value: function onMenuItemExpanderClick(event) {\n      event.nativeEvent.expanderClick = true;\n    }\n  }, {\n    key: \"onMenuItemClick\",\n    value: function onMenuItemClick() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var itemProps = arguments.length > 1 ? arguments[1] : undefined;\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var props = this.props;\n      var stopped = event && event.isPropagationStopped ? event.isPropagationStopped() : false;\n\n      if (props.stopClickPropagation && event.stopPropagation) {\n        event.stopPropagation();\n      }\n\n      if (_isMobile.default && itemProps && event && event.nativeEvent && event.nativeEvent.expanderClick) {\n        var offset = {\n          x: event.pageX,\n          y: event.pageY\n        };\n        var menuOffset = (0, _getRegionRelativeToParent.default)(event.currentTarget, props.rootClassName);\n        this.onMenuItemMouseEnter({\n          hasSubMenu: itemProps.hasSubMenu,\n          menuOffset: menuOffset,\n          index: itemProps.index\n        });\n        return;\n      }\n\n      if (!stopped) {\n        props.onClick(event, itemProps, index);\n\n        if (_isMobile.default && props.onTouchStart) {\n          props.onTouchStart(event, itemProps, index);\n        }\n\n        var dismissOnClick = itemProps && itemProps.item && itemProps.item.dismissOnClick !== undefined ? itemProps.item.dismissOnClick : props.dismissOnClick;\n\n        if (props.autoDismiss) {\n          if (!itemProps.hasSubMenu) {\n            this.dismiss();\n          } else if (dismissOnClick) {\n            props.closeSubmenuRecursively();\n          }\n        } else if (dismissOnClick) {\n          props.closeSubmenuRecursively();\n        }\n\n        if (props.selectOnClick && itemProps.name !== undefined) {\n          this.handleSelectionChange({\n            name: itemProps.name,\n            value: itemProps.value,\n            checked: !itemProps.checked,\n            multiple: itemProps.multiple\n          });\n        }\n\n        this.onChildClick(event, itemProps);\n      }\n\n      if (!this.isSeparator(index)) {\n        this.setFocusedIndex(index);\n      }\n    }\n  }, {\n    key: \"onChildClick\",\n    value: function onChildClick(event, props) {\n      if (this.props.onChildClick) {\n        this.props.onChildClick(event, props);\n      }\n\n      if (this.props.parentMenu) {\n        this.props.parentMenu.onChildClick(event, props);\n      }\n    }\n  }, {\n    key: \"setupShowHideDelay\",\n    value: function setupShowHideDelay() {\n      var _this8 = this;\n\n      var setSubMenu = this.setSubMenu;\n\n      this.setSubMenu = function () {\n        var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            menuOffset = _ref5.menuOffset,\n            index = _ref5.index;\n\n        var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n        if (_this8.showTimeout) {\n          clearTimeout(_this8.showTimeout);\n        }\n\n        if (_this8.hideTimeout) {\n          clearTimeout(_this8.hideTimeout);\n        }\n\n        if (index != null) {\n          if (_this8.props.showSubMenuDelay) {\n            _this8.showTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.showSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        } else {\n          if (_this8.props.hideSubMenuDelay) {\n            _this8.hideTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.hideSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"setupEnterAnimation\",\n    value: function setupEnterAnimation() {\n      var _this9 = this;\n\n      setTimeout(function () {\n        var enableAnimation = _this9.props.enableAnimation && _this9.props.subMenu || _this9.props.enableRootAnimation && !_this9.props.subMenu;\n\n        if (_this9.componentIsMounted) {\n          _this9.setState({\n            hidden: false,\n            enableAnimation: enableAnimation\n          });\n        }\n\n        if (enableAnimation) {\n          setTimeout(function () {\n            if (_this9.componentIsMounted) {\n              _this9.setState({\n                transitionStart: true\n              });\n            }\n\n            setTimeout(function () {\n              if (_this9.componentIsMounted) {\n                _this9.setState({\n                  transitionEnded: true\n                });\n              }\n            }, 16);\n          }, 16);\n        }\n      }, 0);\n    }\n  }, {\n    key: \"checkAlignment\",\n    value: function checkAlignment(props, skipReset, alignTo) {\n      var _this10 = this;\n\n      props = props || this.props;\n      alignTo = alignTo || props.alignTo;\n\n      if (props.visible === false) {\n        return;\n      }\n\n      if ((props.constrainTo || alignTo) && !props.subMenu) {\n        var doAlign = function doAlign() {\n          var props = _this10.props;\n\n          var alignPositions = _this10.getAlignPositions(props);\n\n          var domNode = _this10.node;\n\n          if (!domNode) {\n            return;\n          }\n\n          domNode.style.visibility = '';\n          var alignOffset = (0, _prepareAlignOffset.default)(props.alignOffset);\n\n          var domRegion = _regionAlign.default.from(domNode);\n\n          var actualRegion = domRegion.clone();\n          var constrainRegion = props.constrainTo ? (0, _getConstrainRegion.default)(props.constrainTo, domNode) : null;\n          var positionStyle;\n\n          if (alignTo) {\n            var alignRegion = getAlignToRegion(alignTo, domNode);\n            actualRegion.alignTo(alignRegion, alignPositions, {\n              offset: alignOffset,\n              constrain: constrainRegion\n            });\n            var offsetParent = domNode.offsetParent;\n\n            if (_ua.IS_FF && offsetParent === document.body && getComputedStyle(domNode).position === 'fixed') {\n              offsetParent = null;\n            }\n\n            var offsetParentRect = offsetParent ? null : domNode.getBoundingClientRect();\n\n            var offsetParentRegion = _regionAlign.default.from(offsetParent || {\n              top: offsetParentRect.top,\n              left: offsetParentRect.left\n            });\n\n            var newTop = actualRegion.top - offsetParentRegion.top;\n            var newLeft = actualRegion.left - offsetParentRegion.left;\n            var transform = \"translate3d(\".concat(Math.floor(newLeft), \"px, \").concat(Math.floor(newTop), \"px, 0px)\");\n            positionStyle = {\n              transform: transform,\n              top: 0,\n              left: 0\n            };\n          }\n\n          if (constrainRegion) {\n            positionStyle = positionStyle || {};\n\n            if (actualRegion.bottom >= constrainRegion.bottom) {\n              positionStyle.maxHeight = constrainRegion.bottom - actualRegion.top;\n            }\n          }\n\n          if (positionStyle) {\n            _this10.setState({\n              positionStyle: positionStyle\n            });\n          }\n        };\n\n        if (!skipReset) {\n          this.node.style.transform = 'translate3d(0px, 0px, 0px)';\n          this.node.style.visibility = 'hidden';\n          this.node.style.top = '0px';\n          this.node.style.left = '0px';\n        }\n\n        raf(doAlign);\n      }\n    }\n  }, {\n    key: \"setFocusedIndex\",\n    value: function setFocusedIndex(newFocusedItem) {\n      if (this.props.enableKeyboardNavigation) {\n        var focusedItem = this.state.focusedItem;\n\n        if (focusedItem === newFocusedItem) {\n          newFocusedItem = null;\n        }\n\n        this.scrollItemIntoView(newFocusedItem);\n        this.setState({\n          focusedItem: newFocusedItem\n        });\n      }\n    }\n  }, {\n    key: \"getItemDOMNodeByIndex\",\n    value: function getItemDOMNodeByIndex(index) {\n      var item = this.getItemByIndex(index);\n      var itemNode = item && item.getDOMNode();\n      return itemNode;\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      return this.childrenRefs[index];\n    }\n  }, {\n    key: \"getItemPropsByIndex\",\n    value: function getItemPropsByIndex(index) {\n      var item = this.getItemByIndex(index);\n      return item && item.props;\n    }\n  }, {\n    key: \"getFocusedItemProps\",\n    value: function getFocusedItemProps() {\n      var focusedItemIndex = this.state.focusedItem;\n      var focusedItemProps = this.getItemPropsByIndex(focusedItemIndex);\n      return focusedItemProps;\n    }\n  }, {\n    key: \"getFocusedItem\",\n    value: function getFocusedItem() {\n      return this.state.focusedItem != null && this.getItemByIndex(this.state.focusedItem);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.node) {\n        return;\n      }\n\n      if (this.node.focus) {\n        this.node.focus();\n      }\n    }\n  }, {\n    key: \"hasSubMenuOpened\",\n    value: function hasSubMenuOpened() {\n      return this.state.activeSubMenuIndex != null;\n    }\n  }, {\n    key: \"isSubMenu\",\n    value: function isSubMenu() {\n      return !!this.props.subMenu;\n    }\n  }, {\n    key: \"doesAnyItemHasSubMenu\",\n    value: function doesAnyItemHasSubMenu() {\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n    }\n  }, {\n    key: \"dosAnyItemHaveSelectInput\",\n    value: function dosAnyItemHaveSelectInput() {\n      var _this11 = this;\n\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item[_this11.props.nameProperty];\n      }).length;\n    }\n  }, {\n    key: \"hasGeneralFocus\",\n    value: function hasGeneralFocus() {\n      var hasFocus = this.hasFocus();\n\n      if (hasFocus) {\n        return hasFocus;\n      }\n\n      if (this.hasSubMenuOpened()) {\n        return this.hasSubMenuFocus();\n      }\n\n      return this.hasChildFocus();\n    }\n  }, {\n    key: \"hasSubMenuFocus\",\n    value: function hasSubMenuFocus() {\n      if (this.subMenu) {\n        return this.subMenu.hasFocus();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      return globalObject.document ? this.node === globalObject.document.activeElement : false;\n    }\n  }, {\n    key: \"hasChildFocus\",\n    value: function hasChildFocus() {\n      if (!globalObject.document) {\n        return false;\n      }\n\n      return (0, _containsNode.default)(this.node, globalObject.document.activeElement);\n    }\n  }, {\n    key: \"onSubmenuWillUnmount\",\n    value: function onSubmenuWillUnmount(instance, config) {\n      var _this12 = this;\n\n      if (config && config.hasFocus) {\n        setTimeout(function () {\n          _this12.focus();\n        }, 0);\n      }\n    }\n  }, {\n    key: \"focusFirstItem\",\n    value: function focusFirstItem() {\n      var fistNonDisabledItem = (0, _getFirstNonDisabledItem.default)(this.props.items);\n      this.focusItem(fistNonDisabledItem);\n    }\n  }, {\n    key: \"focusItem\",\n    value: function focusItem(index) {\n      this.focus();\n      this.setFocusedIndex(index);\n    }\n  }, {\n    key: \"getSubmenuNode\",\n    value: function getSubmenuNode() {\n      return this.subMenu && this.subMenu.getNode();\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.isSelectedControlled() ? this.props.selected : this.state.selected;\n    }\n  }, {\n    key: \"isSelectedControlled\",\n    value: function isSelectedControlled() {\n      return this.props.selected !== undefined;\n    }\n  }, {\n    key: \"handleSelectionChange\",\n    value: function handleSelectionChange(_ref6) {\n      var name = _ref6.name,\n          value = _ref6.value,\n          checked = _ref6.checked,\n          multiple = _ref6.multiple;\n\n      var newSelected = _objectSpread({}, this.getSelected());\n\n      var options = {\n        name: name,\n        value: value,\n        checked: checked,\n        multiple: multiple\n      };\n\n      if (!multiple) {\n        newSelected[name] = value;\n      } else if (checked) {\n        newSelected[name] = value === undefined ? name : value;\n      }\n\n      if (!checked) {\n        if (multiple || this.props.allowUnselect) {\n          delete newSelected[name];\n        }\n      }\n\n      this.setSelected(newSelected, options);\n    }\n  }, {\n    key: \"setSelected\",\n    value: function setSelected(newSelected, options) {\n      if (!this.isSelectedControlled()) {\n        this.setState({\n          selected: newSelected\n        });\n      }\n\n      this.props.onSelectionChange(newSelected, options);\n    }\n  }, {\n    key: \"handleSubmenuSelectionChange\",\n    value: function handleSubmenuSelectionChange(selected, options) {\n      this.setSelected(selected, options);\n    }\n  }, {\n    key: \"getExpandedIndex\",\n    value: function getExpandedIndex() {\n      return this.state.activeSubMenuIndex;\n    }\n  }, {\n    key: \"isSeparator\",\n    value: function isSeparator(index) {\n      var props = this.props;\n      var separatorIndexes = (0, _getSeparatorIndexes.default)(props.items);\n      return separatorIndexes.indexOf(index) !== -1;\n    }\n  }]);\n  return InovuaMenu;\n}(_reactClass.default);\n\nInovuaMenu.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-menu',\n  depth: 0,\n  rtl: false,\n  isMenu: true,\n  enableScroll: true,\n  submenuStyle: null,\n  scrollerProps: {},\n  theme: 'default-light',\n  dismissOnClick: true,\n  disableScroller: false,\n  shadow: true,\n  submenuAlignOffset: _submenuAlignPositions.alignOffsetLTR,\n  rtlSubmenuAlignOffset: _submenuAlignPositions.alignOffsetRTL,\n  showSubMenuDelay: 150,\n  hideSubMenuDelay: 150,\n  expanderSize: 10,\n  scrollOnMouseEnter: true,\n  onClick: function onClick() {},\n  onSelectionChange: function onSelectionChange() {},\n  columns: ['label'],\n  items: null,\n  maxHeight: 'auto',\n  scrollArrowIncrementType: 'step',\n  enableAnimation: true,\n  fadeDuration: 100,\n  fadeTransitionFunction: 'ease',\n  enableRootAnimation: false,\n  itemStyle: {},\n  itemOverStyle: {},\n  itemDisabledStyle: {},\n  itemExpandedStyle: {},\n  cellStyle: {},\n  stopClickPropagation: true,\n  stopBlurPropagation: true,\n  scrollProps: {},\n  inTriangleWaitDelay: 300,\n  alignOffset: {\n    x: 0,\n    y: 0\n  },\n  simulateClickOnEnterKeyPress: true,\n  enableKeyboardNavigation: true,\n  defaultFocusedItem: null,\n  autoFocus: false,\n  closeSubMenu: function closeSubMenu() {},\n  closeSubmenuRecursively: function closeSubmenuRecursively() {},\n  onDismiss: function onDismiss() {},\n  componentWillUnmount: function componentWillUnmount() {},\n  componentDidMount: function componentDidMount() {},\n  useMouseInTriangleCheck: false,\n  allowUnselect: false,\n  enableSelection: false,\n  nameProperty: 'name',\n  valueProperty: 'value',\n  selectionInputPosition: 'start',\n  defaultSelected: {},\n  selectOnClick: true,\n  checkIconSize: 16,\n  radioIconSize: 16,\n  notifyResizeDelay: 16,\n  browserNativeSelectInputs: false,\n  showWarnings: !_uglified.default\n};\nInovuaMenu.propTypes = {\n  rootClassName: _propTypes.default.string,\n  items: _propTypes.default.array,\n  columns: _propTypes.default.array,\n  dismissOnClick: _propTypes.default.bool,\n  autoDismiss: _propTypes.default.bool,\n  disableScroller: _propTypes.default.bool,\n  showSubMenuDelay: _propTypes.default.number,\n  hideSubMenuDelay: _propTypes.default.number,\n  notifyResizeDelay: _propTypes.default.number,\n  scrollOnMouseEnter: _propTypes.default.bool,\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.string,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  rowActiveStyle: _propTypes.default.object,\n  rowOverStyle: _propTypes.default.object,\n  rowStyle: _propTypes.default.object,\n  maxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  submenuMaxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  minSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  maxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  onClick: _propTypes.default.func,\n  showScrollArrows: _propTypes.default.bool,\n  scrollProps: _propTypes.default.object,\n  scrollArrowIncrementType: _propTypes.default.oneOf(['step', 'page']),\n  renderScroller: _propTypes.default.func,\n  enableAnimation: _propTypes.default.bool,\n  fadeDuration: _propTypes.default.number,\n  fadeTransitionFunction: _propTypes.default.string,\n  enableRootAnimation: _propTypes.default.bool,\n  itemStyle: _propTypes.default.object,\n  itemClassName: _propTypes.default.string,\n  itemActiveStyle: _propTypes.default.object,\n  itemActiveClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemOverClassName: _propTypes.default.string,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemExpandedStyle: _propTypes.default.object,\n  itemExpandedClassName: _propTypes.default.string,\n  itemFocusedStyle: _propTypes.default.object,\n  itemFocusedClassName: _propTypes.default.string,\n  itemOverFocusedStyle: _propTypes.default.object,\n  visible: _propTypes.default.bool,\n  itemHeight: _propTypes.default.number,\n  cellStyle: _propTypes.default.object,\n  secondaryLabelStyle: _propTypes.default.object,\n  labelStyle: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  alignTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func, _propTypes.default.string]),\n  inTriangleWaitDelay: _propTypes.default.number,\n  alignPositions: _propTypes.default.arrayOf(_propTypes.default.string),\n  alignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object, _propTypes.default.number]),\n  submenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  rtlSubmenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  alignPosition: _propTypes.default.oneOf([1, -1]),\n  rtl: _propTypes.default.bool,\n  enableKeyboardNavigation: _propTypes.default.bool,\n  defaultFocusedItem: _propTypes.default.number,\n  autoFocus: _propTypes.default.bool,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  simulateClickOnEnterKeyPress: _propTypes.default.bool,\n  onChildClick: _propTypes.default.func,\n  onDismiss: _propTypes.default.func,\n  expanderStyle: _propTypes.default.object,\n  depth: _propTypes.default.number,\n  isMenu: _propTypes.default.bool,\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string, _propTypes.default.bool, _propTypes.default.func]),\n  enableScroll: _propTypes.default.bool,\n  submenuStyle: _propTypes.default.object,\n  scrollerProps: _propTypes.default.object,\n  theme: _propTypes.default.string,\n  stopClickPropagation: _propTypes.default.bool,\n  componentWillUnmount: _propTypes.default.func,\n  componentDidMount: _propTypes.default.func,\n  itemStyleProps: _propTypes.default.object,\n  childrenLength: _propTypes.default.number,\n  separatorIndexes: _propTypes.default.string,\n  tableClassName: _propTypes.default.string,\n  shadow: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  stopBlurPropagation: _propTypes.default.bool,\n  submenuProps: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  depthSet: _propTypes.default.bool,\n  subMenu: _propTypes.default.bool,\n  parentIndex: _propTypes.default.number,\n  parentMenu: _propTypes.default.object,\n  onActivate: _propTypes.default.func,\n  onInactivate: _propTypes.default.func,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  overStyle: _propTypes.default.object,\n  activeStyle: _propTypes.default.object,\n  disabledStyle: _propTypes.default.object,\n  expandedStyle: _propTypes.default.object,\n  menuSeparatorStyle: _propTypes.default.object,\n  useMouseInTriangleCheck: _propTypes.default.bool,\n  selected: _propTypes.default.object,\n  defaultSelected: _propTypes.default.object,\n  allowUnselect: _propTypes.default.bool,\n  enableSelection: _propTypes.default.bool,\n  nativeScroll: _propTypes.default.bool,\n  scrollContainerProps: _propTypes.default.object,\n  nameProperty: _propTypes.default.string,\n  valueProperty: _propTypes.default.string,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  onSelectionChange: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  selectOnClick: _propTypes.default.bool,\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  updatePositionOnScroll: _propTypes.default.bool,\n  browserNativeSelectInputs: _propTypes.default.bool\n};\nvar _default = InovuaMenu;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}